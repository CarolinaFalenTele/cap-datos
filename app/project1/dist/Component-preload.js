//@ui5-bundle project1/Component-preload.js
sap.ui.predefine("project1/Component", ["sap/ui/core/UIComponent","sap/ui/Device","project1/model/models"],function(e,t,i){"use strict";return e.extend("project1.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device")}})});
sap.ui.predefine("project1/controller/App.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/CustomData","sap/ui/core/format/DateFormat","sap/m/MessageBox"],function(e,t,o,s){"use strict";return e.extend("project1.controller.App",{onInit:function(){this._loadProjectData();const e=this.getOwnerComponent().getRouter();e.getRoute("app").attachPatternMatched(this._onObjectMatched,this);this.bProcessFlowAllowed=false;this.loadFilteredData();this.loadFilteredDataPend();this.getUserInfo();this._cargarDatosUsuario()},_cargarDatosUsuario:async function(){try{const e=await fetch("/odata/v4/datos-cdo/userdata");if(!e.ok){throw new Error("No se pudo obtener el usuario desde el backend.")}const t=await e.json();const o=new sap.ui.model.json.JSONModel(t);this.getView().setModel(o,"userModel");await this.filterEstado()}catch(e){console.error("Error al cargar el usuario:",e)}},filterEstado:async function(){try{const e=this.getView().getModel("userModel");if(!e){console.error("❌ userModel no está definido aún.");return}const t=e.getProperty("/ID");const o=e.getProperty("/email");const s=await fetch(`/odata/v4/datos-cdo/DatosProyect?$expand=Area,jefeProyectID&$filter=Usuarios_ID eq '${t}'`);const n=await s.json();const a=n.value;const r=await Promise.all(a.map(async e=>{const t=e.ID;const o=e=>{if(!e)return null;const t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getFullYear()}`};e.FechaCreacionFormateada=o(e.fechaCreacion);e.FechaModificacionFormateada=o(e.FechaModificacion);e.NombreArea=e.Area?.NombreArea||"Sin área";e.NombreJefe=e.jefeProyectID?.name||"Sin jefe";if(e.Estado==="Borrador"){e.workflowId=null;e.actualizadoEn=null;e.actualizadoEnFormateada="No aplica";e.Etapas=[];return e}const s=await fetch(`/odata/v4/datos-cdo/WorkflowInstancias?$filter=datosProyect_ID eq ${t}&$orderby=creadoEn desc&$top=1`);const n=await s.json();const a=n.value[0];let r=[];if(a?.ID){const e=await fetch(`/odata/v4/datos-cdo/WorkflowEtapas?$filter=workflow_ID eq ${a.workflowId}`);this._workID=a.workflowId;const t=await e.json();r=t.value||[]}const i=r.some(e=>e.estado==="Pendiente");if(i){e.Estado="Pendiente"}else if(a?.estado){e.Estado=a.estado}else{e.Estado=e.Estado||"Borrador"}e.workflowId=a?.workflowId||null;e.actualizadoEn=a?.actualizadoEn||null;e.actualizadoEnFormateada=o(e.actualizadoEn)||"Fecha no disponible";e.Etapas=r;return e}));const i=r.filter(e=>e.Estado==="Aprobado");const l=r.filter(e=>e.Estado==="Pendiente");const c=r.filter(e=>e.Estado==="Borrador");const d=r.filter(e=>e.Estado==="Rechazado");const u=[];const p=[];l.forEach(e=>{let t=false;e.Etapas.forEach(s=>{if(s.estado==="Pendiente"&&s.asignadoA?.trim().toLowerCase()===o?.trim().toLowerCase()){t=true;u.push({nombreEtapa:s.nombreEtapa,asignadoA:s.asignadoA,aprobadoPor:s.aprobadoPor,estado:s.estado,comentario:s.comentario,fechaAprobado:s.fechaAprobado,nameProyect:e.nameProyect,creadoPor:e.creadoPor,descripcion:e.descripcion,projectId:e.ID})}});if(t){p.push(e)}});this.getView().setModel(new sap.ui.model.json.JSONModel({DatosProyect:i,Count:i.length}),"modelAprobados");this.getView().setModel(new sap.ui.model.json.JSONModel({DatosProyect:l,Count:l.length}),"modelPendientes");this.getView().setModel(new sap.ui.model.json.JSONModel({DatosProyect:c,Count:c.length}),"modelBorrador");this.getView().setModel(new sap.ui.model.json.JSONModel({DatosProyect:d,Count:d.length}),"modelRechazados");this.getView().setModel(new sap.ui.model.json.JSONModel({Count:r.length}),"modelTotal");this.getView().setModel(new sap.ui.model.json.JSONModel({Etapas:u,Count:u.length}),"modelEtapasAsignadas");this.getView().setModel(new sap.ui.model.json.JSONModel({DatosProyect:p,Count:p.length}),"modelAsignados");const f=this.byId("id34");if(f){f.setVisible(u.length>0)}const m=this.byId("status0");if(l.length>0){m.setText("Pendiente");m.setState("Warning")}else if(d.length>0){m.setText("Rechazado");m.setState("None")}else if(c.length>0){m.setText("Borrador");m.setState("None")}else{m.setText("Aprobado");m.setState("Success")}}catch(e){console.error(" Error al cargar los proyectos con estado:",e)}},filtrarProyectosPorNombre:function(e){if(typeof e!=="string"){e=""}var t=this.getView().getModel("modelRechazados");var o=t.getProperty("/DatosProyect")||[];var s=o.filter(function(t){return t.name&&t.name.toLowerCase().includes(e.toLowerCase())});t.setProperty("/DatosProyect",s);t.setProperty("/Count",s.length)},onVerHistorial:async function(e){try{const t=e.getSource();let o=t.getBindingContext("modelPendientes");let s="modelPendientes";if(!o){o=t.getBindingContext("modelAprobados");s="modelAprobados"}if(!o){sap.m.MessageBox.warning("No se pudo determinar el modelo de origen.");return}const n=o.getObject();const a=n.workflowId;if(!a){return}const r=this.getOwnerComponent().getModel();const i=r.bindContext("/getWorkflowTimeline(...)");i.setParameter("ID",a);await i.execute();const l=i.getBoundContext().getObject();console.log(` Historial del workflow (${s}):`,l);await this.onActivityPress(e,l)}catch(e){console.error(" Error al obtener el historial del workflow:",e);sap.m.MessageBox.error("No se pudo obtener el historial del workflow.")}},onActivityPress:function(e,t){this.byId("ma77").setVisible(true);var o=e.getSource();var s=o.getCustomData()[0].getValue();var n=o.getCustomData()[1].getValue();const a=t.value;var r=this.byId("processflow1");if(!r){console.error("No se encontró el ProcessFlow con ID 'processflow1'");return}r.removeAllNodes();this.createProcessFlowNodes(a,r,s);r.attachNodePress(this.onNodePress.bind(this));this.byId("idTitleProceso").setText("Proceso de solicitud: "+s);this.byId("text1881").setText("PEP de solicitud: "+n);this.byId("itb1").setSelectedKey("people")},onVerHistorial:async function(e){try{const t=e.getSource();let o=t.getBindingContext("modelPendientes");let s="modelPendientes";if(!o){o=t.getBindingContext("modelAprobados");s="modelAprobados"}if(!o){sap.m.MessageBox.warning("No se pudo determinar el modelo de origen.");return}const n=o.getObject();const a=n.workflowId;if(!a){return}const r=this.getOwnerComponent().getModel();const i=r.bindContext("/getWorkflowTimeline(...)");i.setParameter("ID",a);await i.execute();const l=i.getBoundContext().getObject();console.log(` Historial del workflow (${s}):`,l);await this.onActivityPress(e,l)}catch(e){console.error(" Error al obtener el historial del workflow:",e);sap.m.MessageBox.error("No se pudo obtener el historial del workflow.")}},onActivityPress:function(e,t){this.byId("ma77").setVisible(true);var o=e.getSource();var s=o.getCustomData()[0].getValue();var n=o.getCustomData()[1].getValue();const a=t.value;var r=this.byId("processflow1");if(!r){console.error("No se encontró el ProcessFlow con ID 'processflow1'");return}r.removeAllNodes();this.createProcessFlowNodes(a,r,s);r.attachNodePress(this.onNodePress.bind(this));this.byId("idTitleProceso").setText("Proceso de solicitud: "+s);this.byId("text1881").setText("PEP de solicitud: "+n);this.byId("itb1").setSelectedKey("people")},createProcessFlowNodes:function(e,t,o){const s={"SOLICITUD CDO":"0","APROBACIÓN":"1",BASIS:"2",PMO:"3","APROBADO PMO":"4",CONTROL:"5","GESTIÓN":"6","DIRECCIÓN":"8","APROBACIÓN DIRECCIÓN":"9",RECHAZO:"99",FINALIZADO:"99"};const n={COMPLETED:"Positive",APPROVED:"Positive",RECHAZO:"Negative",REJECTED:"Negative",PENDIENTE:"Critical",CREATED:"Neutral",TRIGGERED:"Neutral"};const a=[];const r=e.filter(e=>{const t=(e.paso||"").trim().toUpperCase();return!a.some(e=>t.includes(e.toUpperCase()))});const i=new Map;r.forEach(e=>{const t=`${e.instancia}-${(e.paso||"").trim()}`;const o=i.get(t);if(!o||new Date(e.timestamp)>new Date(o.timestamp)){i.set(t,e)}});const l=Array.from(i.values()).sort((e,t)=>new Date(e.timestamp)-new Date(t.timestamp));t.removeAllNodes();l.forEach((e,o)=>{if(!e.id)e.id="evento_"+o;let s=e.paso||"Paso desconocido";let a=this.obtenerLaneIdDesdePaso(s);const r=s.toUpperCase();if(r.includes("CDO")||r.includes("INICIO")){a="0"}else if(r.includes("APROBACIÓN")){a="1"}else if(r.includes("PENDIENTE")||r.includes("BASIS")||r.includes("TQ")||r.includes("FACTORIA")||r.includes("EMAIL DE APROBACIÓN")){a="2"}else if(r.includes("PMO")||r.includes("NOTIFICACIÓN")||r.includes("PENDIENTE")){if(r.includes("APROBACIÓN")){a="4"}else{a="3"}}else if(r.includes("CONTROL")||r.includes("GESTIÓN")){if(r.includes("APROBADO")){a="6"}else{a="5"}}else if(r.includes("DIRECCIÓN")||r.includes("REVISION")){if(r.includes("APROBACIÓN")){a="9"}else{a="8"}}else if(r.includes("RECHAZO")||r.includes("FINALIZADO")){a="99"}let i="Neutral";const c=(e.estado||e.tipo||"").toUpperCase();for(let e in n){if(c.includes(e)){i=n[e];break}}const d=l[o+1];const u=d?[d.id]:[];const p=new sap.suite.ui.commons.ProcessFlowNode({nodeId:e.id,laneId:a,title:s,titleAbbreviation:s.substring(0,3),state:i,stateText:e.descripcion||"",children:u,isTitleClickable:true,focused:false,highlighted:false,texts:[s,e.descripcion||""]});p.addCustomData(new sap.ui.core.CustomData({key:"eventoOriginal",value:JSON.stringify(e)}));p.data("eventoOriginal",e);t.addNode(p)})},obtenerLaneIdDesdePaso:function(e){const t=(e||"").toUpperCase();if(t.includes("CDO")||t.includes("SOLICITUD"))return"0";if(t.includes("NOTIFICACIÓN")&&t.includes("APROBACIÓN"))return"1";if(t.includes("BASIS")||t.includes("TQ")||t.includes("FACTORIA"))return"2";if(t.includes("NOTIFICACIÓN")&&t.includes("PMO"))return"3";if(t.includes("PMO")&&!t.includes("NOTIFICACIÓN"))return"4";if(t.includes("NOTIFICACIÓN")&&t.includes("CONTROL"))return"5";if(t.includes("CONTROL")&&!t.includes("NOTIFICACIÓN"))return"6";if(t.includes("NOTIFICACIÓN")&&t.includes("DIRECCIÓN"))return"8";if(t.includes("DIRECCIÓN")&&!t.includes("NOTIFICACIÓN"))return"9";if(t.includes("FINALIZADO")||t.includes("RECHAZO")||t.includes("RECHAZADO"))return"99";return"0"},onNodePress:function(e){const t=e.getParameters();if(!t){console.warn("Nodo no encontrado (evento vacío)");return}const o=t.data("eventoOriginal");if(!o){console.warn("El nodo no tiene data 'eventoOriginal'");return}if(!this._oPopover){this._oPopover=new sap.m.Popover({title:"Detalles del Paso",placement:sap.m.PlacementType.Auto,contentWidth:"300px",content:[new sap.m.VBox({items:[new sap.m.HBox({alignItems:"Center",items:[new sap.ui.core.Icon({src:"sap-icon://hint",color:"#0070f2"}),new sap.m.Label({text:" Información del Paso ",design:"Bold",class:"sapUiSmallMarginBegin"})],class:"sapUiSmallMarginBottom"}),new sap.m.ObjectStatus({title:"Paso ",text:"{/eventoPaso}",state:"Success",id:"statusPaso"}),new sap.m.ObjectStatus({title:"Descripción ",text:"{/eventoDescripcion}",state:"Information",id:"statusDescripcion"}),new sap.m.ObjectStatus({title:"Fecha ",text:"{/eventoFecha}",state:"Warning",id:"statusFecha"}),new sap.m.Button({text:"Cerrar",type:"Emphasized",icon:"sap-icon://decline",press:function(){this._oPopover.close()}.bind(this),class:"sapUiSmallMarginTop"})],class:"sapUiContentPadding"})]})}sap.ui.getCore().byId("statusPaso").setText(o.paso);sap.ui.getCore().byId("statusDescripcion").setText(o.descripcion);sap.ui.getCore().byId("statusFecha").setText(o.timestamp);this._oPopover.openBy(t)},getUserInfo:function(){fetch("/odata/v4/datos-cdo/getUserInfo").then(e=>{if(!e.ok){throw new Error("No se pudo obtener la información del usuario.")}return e.json()}).then(e=>{const t=e.value;const o=e.token||t&&t.token;if(t){this.byId("dddtg")?.setText(t.email);this.byId("233")?.setText(t.fullName);if(o){this._startSessionWatcher(o)}else{console.warn("Token no recibido en la respuesta.")}}else{console.error("No se encontró la información del usuario.")}}).catch(e=>{console.error(" Error obteniendo datos del usuario:",e)})},_startSessionWatcher:function(e){const t=this._parseJwt(e);const o=t.exp*1e3;const s=Date.now();const n=o-s-1*60*1e3;if(n>0){setTimeout(()=>{this._showSessionWarning(o)},n)}else{this._showSessionWarning(o)}},_showSessionWarning:function(e){let t=Math.floor((e-Date.now())/1e3);const s=setInterval(()=>{if(t<=0){clearInterval(s);o.error("⛔ Tu sesión ha expirado. (En pruebas: no se cerrará la sesión)");return}if(n&&n.getContent&&n.getContent()[0]){n.getContent()[0].setText(`Tu sesión expirará en ${t} segundos. ¿Deseas continuar?`)}t--},1e3);const n=new sap.m.Dialog({title:"⚠️ Sesión a punto de expirar",content:[new sap.m.Text({text:`Tu sesión expirará en ${t} segundos. ¿Deseas continuar?`})],beginButton:new sap.m.Button({text:"Sí, mantener sesión",press:()=>{clearInterval(s);n.close();this._refreshToken()}}),endButton:new sap.m.Button({text:"No",press:()=>{clearInterval(s);n.close()}}),afterClose:()=>{n.destroy()}});n.open()},_parseJwt:function(e){const t=e.split(".")[1];const o=atob(t.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(decodeURIComponent(escape(o)))},_refreshToken:async function(){try{const e=await fetch("/odata/v4/datos-cdo/getUserInfo",{method:"GET"});const t=await e.json();console.log("Respuesta refresco token:",t);const s=t.token||t.value&&t.value.token;if(s){this._startSessionWatcher(s);o.success("Sesión renovada.")}else{throw new Error("Token no recibido.")}}catch(e){o.error("No se pudo renovar la sesión: "+e.message)}},loadFilteredData:function(){var e=new sap.ui.model.Filter("Estado",sap.ui.model.FilterOperator.EQ,"Aprobado");var t=this.byId("idProductsTable");var o=t.getBinding("items");if(o){o.filter([e]);this.updateIconTabFilterCount(o)}else{t.attachEventOnce("updateFinished",function(){var o=t.getBinding("items");o.filter([e]);this.updateIconTabFilterCount(o)}.bind(this))}},updateIconTabFilterCount:function(e){e.attachEventOnce("dataReceived",function(){var t=e.getLength();this.byId("ma55").setCount(t.toString())}.bind(this))},loadFilteredDataPend:function(){var e=this.byId("idPendientes");var t=e.getBinding("items");if(t){var o=new sap.ui.model.Filter("Estado",sap.ui.model.FilterOperator.EQ,"Pendiente");t.filter([o]);var s=t.getContexts();var n=s.map(e=>e.getObject());this.updateIconTabFilterCountPen(t)}else{e.attachEventOnce("updateFinished",function(){var t=e.getBinding("items");var o=new sap.ui.model.Filter("Estado",sap.ui.model.FilterOperator.EQ,"Pendiente");t.filter([o]);var s=t.getContexts();var n=s.map(e=>e.getObject());this.updateIconTabFilterCountPen(t)}.bind(this))}},updateIconTabFilterCountPen:function(e){e.attachEventOnce("dataReceived",function(){var t=e.getLength();this.byId("ma3").setCount(t.toString())}.bind(this))},onSearch:function(e){const t=e.getParameter("newValue")||e.getParameter("query")||"";const o=this.byId("newId_tablePendientes");const s=o.getBinding("items");if(s){if(t.length>0){const e=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("FechaCreacionFormateada",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("nameProyect",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("descripcion",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("NombreArea",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("NombreJefe",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("FechaModificacionFormateada",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Estado",sap.ui.model.FilterOperator.Contains,t)],and:false});s.filter(e)}else{s.filter([])}}},onSearchApro:function(e){var t=e.getParameter("newValue");var o=this.byId("idProductsTable");var s=o.getBinding("items");var n=new sap.ui.model.Filter("Estado",sap.ui.model.FilterOperator.EQ,"Aprobado");var a=[n];if(t&&t.length>0){var r=new sap.ui.model.Filter({path:"nameProyect",operator:sap.ui.model.FilterOperator.Contains,value1:t.toLowerCase(),caseSensitive:false});a.push(r)}var i=new sap.ui.model.Filter({filters:a,and:true});s.filter(i)},onSearchAprobadores:function(e){const t=e.getParameter("newValue")||e.getParameter("query")||"";const o=this.byId("tabla_Aprobadores");const s=o.getBinding("items");if(s){if(t.length>0){const e=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("nombreEtapa",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("nameProyect",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("descripcion",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("asignadoA",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("comentario",sap.ui.model.FilterOperator.Contains,t)],and:false});s.filter(e)}else{s.filter([])}}},onAfterShow:function(){this._loadProjectData()},_loadProjectData:function(){const e=this.byId("idPendientes");const t=e.getBinding("items");if(t){t.refresh()}},_onObjectMatched:async function(e){const t=e.getParameter("arguments").newId;console.log("ids comtenriofg");if(!t){console.error("No se recibió un ID válido");return}const o=this.getOwnerComponent().getModel("modelEtapasAsignadas");if(o){o.refresh(true)}this.filterEstado()},_refreshTableData:function(){const e=this.byId("idPendientes");if(e){e.getBinding("items")?.refresh()}},formatDate:function(e){if(!e){return""}if(typeof e==="object"&&typeof e.getTime==="function"){e=e}else{e=new Date(e)}if(isNaN(e.getTime())){return""}var t=s.getInstance({pattern:"dd MMM yyyy",UTC:true});return t.format(e)},onEditPress:function(e){var t=e.getSource();var o=t.getBindingContext("modelPendientes");var s=t.getBindingContext("modelAprobados");var n=t.getBindingContext("modelBorrador");var a=t.getBindingContext("modelEtapasAsignadas");var r=t.getBindingContext("modelRechazados");var i=o||s||n||a||r;if(!i){console.error("No se pudo obtener el contexto del ítem.");return}var l=i.getProperty("ID")||i.getProperty("projectId");if(!l){console.error("El ID del proyecto es nulo o indefinido");return}var c=i.getProperty("nameProyect");var d=this;var u=this.getView().getModel("mainService");if(u){u.setData({});u.refresh(true)}var p=null;if(o){p="modelPendientes"}else if(s){p="modelAprobados"}else if(n){p="modelBorrador"}else if(a){p="modelEtapasAsignadas"}else if(r){p="modelRechazados"}var f=p==="modelEtapasAsignadas"||p==="modelAprobados"||p==="modelRechazados"?"display":"edit";var m=f==="edit"?"Confirmar Edición":"Ver Solicitud";var g=f==="edit"?"¿Estás seguro de que quieres editar el proyecto '"+c+"'?":"¿Quieres ver el contenido de esta solicitud?";var h=new sap.m.Dialog({title:m,type:"Message",state:"Warning",content:new sap.m.Text({text:g}),beginButton:new sap.m.Button({text:"Confirmar",press:function(){h.close();var e=sap.ui.core.UIComponent.getRouterFor(d);if(p==="modelEtapasAsignadas"){e.navTo("viewWithAprobacion",{sourceModel:p,mode:f,sProjectID:l,aprobacion:"true"})}else{e.navTo("viewWithMode",{sourceModel:p,mode:f,sProjectID:l},true)}}}),endButton:new sap.m.Button({text:"Cancelar",press:function(){h.close()}})});h.open()},onView:function(e){if(!this.Dialog){this.Dialog=this.loadFragment({name:"project1.view.Dialog"})}this.Dialog.then(function(e){this.oDialog=e;this.oDialog.open()}.bind(this))},_closeDialog:function(){this.oDialog.close()},DialogInfo:async function(e){this.onView();var t=e.getSource();var o=t.getCustomData().find(function(e){return e.getKey()==="projectId"}).getValue();console.log("Metodo project "+o);const s=this._sCsrfToken;var n=this.getView().getModel("mainService");if(n){n.setData({});n.refresh(true)}var a=`/odata/v4/datos-cdo/DatosProyect(${o})`;try{const e=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-csrf-token":s}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const t=await e.json();console.log(JSON.stringify(t));this.byId("idNombreProyecto").setText(t.nameProyect);this.byId("idDescripcion1").setText(t.descripcion);this.byId("idCreador").setText(t.Empleado);this.byId("idEMail").setText(t.Email);this.byId("idModifi").setText(t.FechaModificacion);this.byId("fechainitProyect").setText(t.Fechainicio);const o=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"});const n=new Date(t.fechaCreacion);const u=o.format(n);this.byId("idCreacion").setText(u);var r=t.FechaFin.split("T")[0];var i=r.split("-");var l=i[2]+"-"+i[1]+"-"+i[0];this.byId("idFechaFinProyect").setText(l);this.byId("idEstadoProyect").setText(t.Estado);this.byId("idArea").setText(t.Area_ID.NombreArea);var c=new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t.Total);var d=c+" €";this.byId("idtotal").setText(d)}catch(e){console.error("Error al obtener los datos del proyecto:",e);sap.m.MessageToast.show("Error al cargar los datos del proyecto")}},onEmailPress2:function(e){const t=e.getSource().getText();window.location.href="mailto:"+t},onDeletePress:async function(e){let t=e.getSource();const o=t.data("etapaId");let s=t.getCustomData()[0].getValue();if(!s){console.error("No se encontró un ID válido para eliminar.");sap.m.MessageToast.show("Error: No se encontró un ID válido.");return}console.log("Eliminando Proyecto con ID:",s);const n={otrosGastoRecu:["ValorMensuServReInter"],RecursosInternos:["ValorMensuReInter"],otrosRecursos:["ValorMensuGastViaReInter"],ConsumoExternos:["ValorMensuConsuEx"],otrosServiciosConsu:["ValorMensuServConsuEx"],GastoViajeConsumo:["ValorMensuGastoViaConsuEx"],RecursosExternos:["ValorMensuRecuExter"],serviRecurExter:["ValorMensuSerExter"],GastoViajeRecExter:["ValorMensuGastoViExter"],otrosConceptos:["ValorMensuOtrConcep"],LicenciasCon:["ValorMensulicencia"]};try{let e=await fetch("/odata/v4/datos-cdo/",{method:"GET",headers:{"x-csrf-token":"Fetch"}});if(!e.ok)throw new Error("Error al obtener el CSRF Token");let t=e.headers.get("x-csrf-token");if(!t)throw new Error("No se recibió un CSRF Token");console.log("CSRF Token obtenido:",t);sap.m.MessageBox.confirm("¿Deseas eliminar este proyecto y todos sus registros relacionados?",{actions:[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.NO],onClose:async e=>{if(e!==sap.m.MessageBox.Action.YES)return;try{const e=await fetch(`/odata/v4/datos-cdo/DatosProyect(${s})?$expand=WorkflowInstancias`,{method:"GET",headers:{"Content-Type":"application/json","x-csrf-token":t}});if(e.ok){console.log("Cancelando el workflow con ID:",o);if(o){const e=this.getOwnerComponent().getModel();const t=e.bindContext("/cancelWorkflow(...)");t.setParameter("workflowInstanceId",o);await t.execute()}}else{console.warn("No se pudo obtener la instancia de workflow.")}const a=["planificacion","Facturacion","ClientFactura","ProveedoresC","RecursosInternos","ConsumoExternos","RecursosExternos","otrosConceptos","otrosGastoRecu","otrosRecursos","otrosServiciosConsu","GastoViajeConsumo","serviRecurExter","GastoViajeRecExter","LicenciasCon","WorkflowInstancias","ResumenCostesTotal","RecurInterTotal","ConsuExterTotal","RecuExterTotal","InfraestrLicencia","PerfilTotal"];for(const e of a){let o=await fetch(`/odata/v4/datos-cdo/DatosProyect(${s})/${e}`,{method:"GET",headers:{"Content-Type":"application/json","x-csrf-token":t}});if(!o.ok){console.warn(`⚠️ No se pudieron obtener los registros de ${e}`);continue}let a=o.headers.get("Content-Type");let r=a&&a.includes("application/json")?await o.json():{value:[]};let i=Array.isArray(r.value)?r.value:[r];if(i.length>0){for(const o of i){if(n[e]){let s=n[e];for(const n of s){let s=await fetch(`/odata/v4/datos-cdo/${e}(${o.ID})/${n}`,{method:"GET",headers:{"Content-Type":"application/json","x-csrf-token":t}});if(s.ok){let e=await s.json();let o=e.value||[];await Promise.all(o.map(async e=>{let o=await fetch(`/odata/v4/datos-cdo/${n}(${e.ID})`,{method:"DELETE",headers:{"Content-Type":"application/json","x-csrf-token":t}});if(!o.ok){console.error(`Error eliminando hijo anidado ${n} con ID ${e.ID}`)}else{console.log(`Hijo anidado eliminado: ${n} ID ${e.ID}`)}}))}else{console.warn(`No se pudieron obtener registros para hijo anidado ${n} de ${e}(${o.ID})`)}}}let s=await fetch(`/odata/v4/datos-cdo/${e}(${o.ID})`,{method:"DELETE",headers:{"Content-Type":"application/json","x-csrf-token":t}});if(!s.ok){console.error(`Error eliminando ${e} con ID ${o.ID}`)}else{console.log(`${e} eliminado: ${o.ID}`)}}}}console.log("Registros relacionados eliminados.");let r=await fetch(`/odata/v4/datos-cdo/DatosProyect(${s})`,{method:"DELETE",headers:{"Content-Type":"application/json","x-csrf-token":t}});if(r.ok){console.log("Proyecto eliminado correctamente.");sap.m.MessageBox.success("Proyecto y registros eliminados exitosamente.",{title:"Éxito",actions:[sap.m.MessageBox.Action.OK],onClose:async function(){let e=this.byId("idPendientes");if(e){let t=e.getBinding("items");if(t){t.refresh(true)}else{console.warn("⚠️ No se encontró el binding de la tabla.")}}else{console.warn("⚠️ Tabla no encontrada con ID idPendientes.")}await this.filterEstado()}.bind(this)})}else{throw new Error("Error al eliminar el proyecto principal")}}catch(e){console.error("Error eliminando el proyecto o registros:",e);sap.m.MessageToast.show("Error al eliminar el proyecto o registros.")}}})}catch(e){console.error("Error al obtener el CSRF Token:",e);sap.m.MessageToast.show("Error al obtener el CSRF Token.")}},onNavToView1:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);var t=this.getOwnerComponent();Promise.resolve().then(()=>{var e=t.byId("view");if(e&&e.getController&&typeof e.getController==="function"){var o=e.getController();if(o._clearAllInputs){o._clearAllInputs()}}});e.navTo("viewNoParam",{mode:"create"})}})});
sap.ui.predefine("project1/controller/View1.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/format/DateFormat","sap/viz/ui5/controls/VizFrame","sap/ui/model/odata/v4/ODataModel","sap/m/MessageToast","sap/ui/model/Sorter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/FilterType","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,o,a,s,n,r,i,l,c,d){"use strict";return e.extend("project1.controller.View1",{recursoID:null,onInit:function(){var e=new sap.ui.model.json.JSONModel({milestones:[{fase:"Kick off",fechaInicio:null,fechaFin:null},{fase:"Diseño",fechaInicio:null,fechaFin:null},{fase:"Construcción",fechaInicio:null,fechaFin:null},{fase:"Pruebas TQ",fechaInicio:null,fechaFin:null},{fase:"Go live",fechaInicio:null,fechaFin:null},{fase:"Paso AM",fechaInicio:null,fechaFin:null},{fase:"Server post/prod",fechaInicio:null,fechaFin:null}],chartData:[]});this.getView().setModel(e,"planning");var t=this.byId("idVizFrame");t.setVizProperties({title:{text:"Planificacion"}});var o=[{feed:"color",palette:["#f7f7ff","#0066ff","#c5f8f9","#75c0c7","#f3e996","#d6786b","#e1c3f4"]}];var a={replace:true};t.setVizScales(o,a);this._tableValues={tablaConsuExter:{},table_dimicFecha:{},tablaRecExterno:{},idOtroserConsu:{},idGastoViajeConsu:{},idServiExterno:{},idGastoRecuExter:{},tablaInfrestuctura:{},tablaLicencia:{},tableServicioInterno:{},tablGastoViajeInterno:{}};this._editedRows=this._editedRows||{};this._rowYearlySums=this._rowYearlySums||{};this.currentRow=0;this.currentTable=0;var s=new sap.ui.model.json.JSONModel({fechas:[{fase:"Fechas Importantes",fechaInicioConstruccion:"2024-09-01",fechaFinPruebasTQ:"2024-09-30"}]});this.getView().setModel(s,"fechasModel");var n=this.byId("idVizFrame2");n.setVizProperties({title:{text:"Plan"}});this.updateVizFrame1();this.updateVizFrame3();this.updateVizFrame2();this._yearlySums={2024:0,2025:0,2026:0,2027:0,2028:0,2029:0};this.token();this.getUserInfo();this.onColumnTotales();this._mode="";const r=new sap.ui.model.json.JSONModel({mode:""});this.getView().setModel(r,"viewModel");const i=sap.ui.core.UIComponent.getRouterFor(this);["viewWithMode","viewNoParam","view","viewWithAprobacion"].forEach(function(e){i.getRoute(e).attachPatternMatched(this._onObjectMatched,this)},this);this.enviarID();this.byId("coste6552").setVisible(false)},refreshODataModel:function(){const e=this.getOwnerComponent().getModel();if(e&&typeof e.refresh==="function"){e.refresh();console.log("Modelo OData V4 refrescado desde el servidor.")}const t=this.getView();if(t.getElementBinding()){t.getElementBinding().refresh(true);console.log("Binding de la vista refrescado.")}},onInfoPress:function(e){if(!this._oPopover){this._oPopover=this.byId("infoPopover")}this._oPopover.openBy(e.getSource())},onInfoPressRecursos:function(e){if(!this._oPopover){this._oPopover=this.byId("infoPopoverRecursos")}this._oPopover.openBy(e.getSource())},onInfoGeneralPress:function(e){if(!this._oPopoverGeneral){this._oPopoverGeneral=this.byId("infoPopoverGeneral")}this._oPopoverGeneral.openBy(e.getSource())},onTipoCambioLive:function(e){var t=e.getSource();var o=t.getValue().trim();if(o===""){return}var a=parseFloat(o);if(!isNaN(a)){t.setValue(a.toFixed(4))}},highlightControls:function(){const e=[this.byId("input0"),this.byId("input1"),this.byId("idDescripcion"),this.byId("int_clienteFun"),this.byId("id_Cfactur"),this.byId("idObje"),this.byId("idAsunyRestri"),this.byId("box_multiJuridica"),this.byId("box_pluriAnual"),this.byId("slct_area"),this.byId("slct_Jefe"),this.byId("slct_verti"),this.byId("slct_inic"),this.byId("idNatu"),this.byId("selct_Amrecp"),this.byId("selc_ejcu"),this.byId("selc_Segui"),this.byId("slct_client"),this.byId("date_inico"),this.byId("date_fin")];setTimeout(()=>{e.forEach(e=>{if(e&&e.setValueState){e.setValueState("Information")}});setTimeout(()=>{e.forEach(e=>{if(e&&e.setValueState){e.setValueState("None")}})},2e3)},50)},getUserInfo:async function(){fetch("/odata/v4/datos-cdo/getUserInfo").then(e=>{if(!e.ok){throw new Error("No se pudo obtener la información del usuario.")}return e.json()}).then(e=>{const t=e.value;const o=e.token||t&&t.token;if(t){const e=this.byId("dddtg");e?.setText(t.email);e?.setTooltip(t.email);this.byId("23d3")?.setText(t.fullName);this._user=t.email;this.getUsuario();if(o){this._startSessionWatcher(o)}else{console.warn("Token no recibido en la respuesta.")}}else{console.error("No se encontró la información del usuario.")}}).catch(e=>{console.error("Error obteniendo datos del usuario:",e)})},_startSessionWatcher:function(e){const t=this._parseJwt(e);const o=t.exp*1e3;const a=Date.now();const s=o-a-1*60*1e3;if(s>0){setTimeout(()=>{this._showSessionWarning(o)},s)}else{this._showSessionWarning(o)}},_showSessionWarning:function(e){let t=Math.floor((e-Date.now())/1e3);const o=setInterval(()=>{if(t<=0){clearInterval(o);d.error("⛔ Tu sesión ha expirado. (En pruebas: no se cerrará la sesión)");return}if(a&&a.getContent&&a.getContent()[0]){a.getContent()[0].setText(`Tu sesión expirará en ${t} segundos. ¿Deseas continuar?`)}t--},1e3);const a=new sap.m.Dialog({title:"⚠️ Sesión a punto de expirar",content:[new sap.m.Text({text:`Tu sesión expirará en ${t} segundos. ¿Deseas continuar?`})],beginButton:new sap.m.Button({text:"Sí, mantener sesión",press:()=>{clearInterval(o);a.close();this._refreshToken()}}),endButton:new sap.m.Button({text:"No",press:()=>{clearInterval(o);a.close()}}),afterClose:()=>{a.destroy()}});a.open()},_parseJwt:function(e){const t=e.split(".")[1];const o=atob(t.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(decodeURIComponent(escape(o)))},_refreshToken:async function(){try{const e=await fetch("/odata/v4/datos-cdo/getUserInfo",{method:"GET"});const t=await e.json();console.log("Respuesta refresco token:",t);const o=t.token||t.value&&t.value.token;if(o){this._startSessionWatcher(o);d.success("Sesión renovada.")}else{throw new Error("Token no recibido.")}}catch(e){d.error("No se pudo renovar la sesión: "+e.message)}},onEmailPress:function(e){const t=e.getSource().getText();window.location.href="mailto:"+t},_resetButtonHandlers:function(){const e=this.byId("btnAceptar");const t=this.byId("btnBorrado");if(e){e.detachPress(this._onDecisionPress,this);e.detachPress(this.onSave,this);e.detachPress(this.onClearFields,this);e.detachPress(this.onBorrador,this)}if(t){t.detachPress(this._onDecisionPress,this);t.detachPress(this.onSave,this);t.detachPress(this.onClearFields,this);t.detachPress(this.onBorrador,this)}},resetFormUI:function(){var e=this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Input")||e.isA("sap.m.TextArea")||e.isA("sap.m.CheckBox")||e.isA("sap.m.ComboBox")||e.isA("sap.m.DatePicker")});e.forEach(function(e){if(e.setEnabled){e.setEnabled(true)}if(e.setEditable){e.setEditable(true)}if(e.setValue){e.setValue("")}})},_onObjectMatched:async function(e){this._resetButtonHandlers();const t=e.getParameter("arguments");let o=t.sProjectID;let a=t.sourceModel||"modelPendientes";const s=t.mode||"display";let n=this._parseAprobacionFlag(t,a);if(a.includes(";")){a=a.split(";")[0]}const r=this.byId("btnAceptar");const i=this.byId("btnBorrado");this._mode=s;this.getView().getModel("viewModel").setProperty("/mode",s);if(s==="create"){await this._clearAllInputs()}else if(s==="edit"){this._clearAllInputsEdit()}r.setEnabled(true);r.setText("Enviar");r.setType(sap.m.ButtonType.Accept);r.attachPress(this.onSave,this);i.setEnabled(true);i.setText("Guardar");i.setType(sap.m.ButtonType.Emphasized);i.attachPress(this.onBorrador,this);if(s==="display"&&(a==="modelAprobados"||a==="modelEtapasAsignadas"||a==="modelRechazados")){this._Visualizar(o,a);return}this._configureButtons(a,n,s);this._sProjectID=o;if(o){try{const e=await this._fetchProjectData(o);await this._populateViewWithData(e)}catch(e){console.error("Error al obtener los datos del proyecto:",e);sap.m.MessageToast.show("Error al cargar los datos del proyecto")}}},_parseAprobacionFlag:function(e,t){let o=false;if(t.includes(";")){const e=t.split(";");t=e[0];e.slice(1).forEach(e=>{const[t,a]=e.split("=");if(t==="aprobacion"){o=a==="true"}})}else{o=e.aprobacion==="true"}return o},_configureButtons:function(e,t,o){const a=this.byId("btnAceptar");const s=this.byId("btnBorrado");if(!a||!s)return;a.detachPress(this.onSave,this);a.removeAllCustomData();s.detachPress(this.onBorrador,this);s.removeAllCustomData();if(o==="display"){a.setEnabled(false);a.setText("Enviar");a.setType(sap.m.ButtonType.Accept);s.setEnabled(false);s.setText("Guardar");s.setType(sap.m.ButtonType.Emphasized);return}if(e==="modelBorrador"||o==="edit"||o==="create"){this._isAprobacion=false;a.setEnabled(true);a.setText("Guardar");a.attachPress(this.onBorrador,this);s.setEnabled(true);s.setText("Enviar");s.attachPress(this.onSave,this);return}a.setEnabled(true);a.setText("Enviar");a.setType(sap.m.ButtonType.Accept);a.attachPress(this.onSave,this);s.setEnabled(true);s.setText("Guardar");s.setType(sap.m.ButtonType.Emphasized);s.attachPress(this.onBorrador,this)},_fetchProjectData:async function(e){const t=this._sCsrfToken;const o=`/odata/v4/datos-cdo/DatosProyect(${e})`;const a=await fetch(o,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-csrf-token":t}});if(!a.ok){const e=await a.text();throw new Error("Network response was not ok: "+e)}return await a.json()},_populateViewWithData:async function(e){if(!e)return;this.byId("input0").setValue(e.codigoProyect||"");this.byId("input1").setValue(e.nameProyect||"");this.byId("area0").setValue(e.datosExtra||"");this.byId("inputCambioEu").setValue(e.CambioEuRUSD||"");this.byId("23d3").setText(e.Empleado||"");this.byId("idComentariosFac").setValue(e.comentarioFacturacion||"");this.byId("idComentarioTipo").setValue(e.comentarioTipoCompra||"");this.byId("idCheckMensual").setSelected(!!e.mensual);this.byId("idTextComProve").setValue(e.comentarioProveedor||"");this.byId("idComenpVd").setValue(e.comentarioPvD||"");this.byId("dddtg").setText(e.Email||"");this.byId("int_clienteFun").setValue(e.funcionalString||"");this.byId("id_Cfactur").setValue(e.clienteFacturacion||"");this.byId("idObje").setValue(e.objetivoAlcance||"");this.byId("idDescripcion").setValue(e.descripcion||"");this.byId("input0_1725625161348").setValue(e.Total||"");this.byId("idAsunyRestri").setValue(e.AsuncionesyRestricciones||"");this.byId("box_multiJuridica").setSelected(!!e.multijuridica);this.byId("box_pluriAnual").setSelected(!!e.pluriAnual);this.byId("slct_area").setSelectedKey(e.Area_ID||"");this.byId("slct_Jefe").setSelectedKey(e.jefeProyectID_ID||"");this.byId("selectMotivo").setSelectedKey(e.MotivoCondi_ID||"");this.byId("select_tipoCom").setSelectedKey(e.TipoCompra_ID||"");this.byId("slct_verti").setSelectedKey(e.Vertical_ID||"");this.byId("slct_inic").setSelectedKey(e.Iniciativa_ID||"");this.byId("idNatu").setSelectedKey(e.Naturaleza_ID||"");this.byId("selct_Amrecp").setSelectedKey(e.AmReceptor_ID||"");this.byId("selc_ejcu").setSelectedKey(e.EjecucionVia_ID||"");this.byId("selc_Segui").setSelectedKey(e.Seguimiento_ID||"");this.byId("slct_client").setSelectedKey(e.clienteFuncional_ID||"");this.byId("date_inico").setDateValue(e.Fechainicio?new Date(e.Fechainicio):null);this.byId("date_fin").setDateValue(e.FechaFin?new Date(e.FechaFin):null);this.byId("box_pluriAnual").setSelected(e.pluriAnual);this.byId("id_Cfactur").setValue(e.clienteFacturacion);this.byId("box_multiJuridica").setSelected(e.multijuridica);const t=e.Iniciativa_ID;this.byId("table0").setVisible(t==="323e4567-e89b-12d3-a456-426614174002");this.byId("idCheckMensual").setVisible(t==="323e4567-e89b-12d3-a456-426614174002");this.byId("idComentarioTipo").setVisible(t==="323e4567-e89b-12d3-a456-426614174002");this.byId("idComenpVd").setEditable(t==="223e4567-e89b-12d3-a456-426614174001");this.onInputChange();await Promise.all([this.fetchMilestones(this._sProjectID),this.leerProveedor(this._sProjectID),this.leerFacturacion(this._sProjectID),this.leerClientFactura(this._sProjectID),this.leerRecursos(this._sProjectID),this.leerConsumoExterno(this._sProjectID),this.leerGastoViajeConsu(this._sProjectID),this.leerRecursoExterno(this._sProjectID),this.leerOtrosServiExter(this._sProjectID),this.leerOtrosConcepto(this._sProjectID),this.leerSerivioInterno(this._sProjectID),this.leerGastoviajeInterno(this._sProjectID),this.leerConsuOtroServi(this._sProjectID),this.leerGastoViaExter(this._sProjectID),this.leerLicencias(this._sProjectID),this.leerPerfilJornadas(this._sProjectID),this.leerTotalRecursoInterno(this._sProjectID),this.leerTotalConsumoExter(this._sProjectID),this.leerTotalRecuExterTotal(this._sProjectID),this.leerWorkflowInstancias(this._sProjectID),this.leerTotalInfraestrLicencia(this._sProjectID),this.leerTotalResumenCostesTotal(this._sProjectID),this.getArchivosByProjectId(this._sProjectID)]);this.highlightControls();const o=this.byId("btnAceptar");if(!this._isAprobacion&&o){o.setText("Guardar")}new sap.m.Dialog({title:"Información",type:"Message",state:"Success",content:new sap.m.Text({text:"Datos cargados correctamente"}),beginButton:new sap.m.Button({text:"OK",press:function(){this.getParent().close()}}),afterClose:function(){this.destroy()}}).open()},onVerArchivo:function(e){const t=e.getSource();const o=t.getBindingContext("archivosModel");if(!o){sap.m.MessageToast.show("⚠️ No se pudo obtener el contexto del archivo.");return}const a=o.getProperty("ID");const s=o.getProperty("nombre");const n=o.getProperty("tipoMime");if(!a||!s||!n){sap.m.MessageToast.show("⚠️ Faltan datos para abrir o descargar el archivo.");return}console.log("📌 ID recibido para ver archivo:",a);this._descargarArchivo(a,s,n)},_descargarArchivo:async function(e,t,o){try{const a=await fetch(`/odata/v4/datos-cdo/Archivos('${e}')/contenido/$value`,{method:"GET"});if(!a.ok){const e=await a.text();throw new Error("❌ Error al descargar archivo: "+e)}const s=await a.blob();const n=URL.createObjectURL(new Blob([s],{type:o}));if(o.startsWith("image/")||o==="application/pdf"||o.startsWith("text/")){const e=window.open();e.document.write(`<title>${t}</title><iframe src="${n}" width="100%" height="100%"></iframe>`)}const r=document.createElement("a");r.href=n;r.download=t||"archivo";document.body.appendChild(r);r.click();document.body.removeChild(r)}catch(e){console.error("❌ Error en descarga:",e)}},getArchivosByProjectId:async function(e){try{const t=`/odata/v4/datos-cdo/Archivos?$filter=datosProyect_ID eq '${e}'`;const o=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!o.ok){const e=await o.text();throw new Error("Error en la respuesta de la API: "+e)}const a=await o.json();const s=a.value||[];const n=s.map(e=>e.ID);this._archivoIds=n;const r=new sap.ui.model.json.JSONModel({archivos:s});this.getView().setModel(r,"archivosModel")}catch(e){console.error("❌ Error al cargar archivos:",e);sap.m.MessageToast.show(e.message)}},_clearAllInputs:function(){const e=this.getView();const t=e.findElements(true);const o=e.getModel("planning");this._idWorkflowInstancias=null;this._idWorkIniciado=null;this._clearTableTextsOnly();const a=["txt_codig","txt_nomPro","txt_area","txt_NomJefe","txt_funcio","txt_feIni","txt_feFin","txt_ini","text72_1731325324246","text73_1731325328049","txt_client","txt_cFactura","txt_Codi2","txt_Nombre2","txt_area2","txt_Fe_ini2","txt_Fe_fin2","textClitFu3","textCliFac3","textCodigo3","textNatural3","txtNombre3","txtAre3","txtFechInici3","txtFechFin3"];a.forEach(e=>{const t=this.byId(e);if(t&&typeof t.setText==="function"){t.setText("")}});const s=["inputReInter","inputConsuEx","inputRcurExtern","inputTotalJor","inputServi1","inputOtrosServi1","inputGastoVia1","totalRecuInter","inputServi2","inputOtroSer2","inptGastoVi2","inputServi","input10_1724757017406","input9_1724757015442","totalInfraestruc","input0_1724758359","totaRecurExterno","input0","totalConsuExternot","idComenpVd","idTextComProve, input0_1724758359"];t.forEach(e=>{if(e instanceof sap.m.Input||e instanceof sap.m.TextArea){e.setValue("")}else if(e instanceof sap.m.Select){e.setSelectedKey("")}else if(e instanceof sap.m.DatePicker){e.setDateValue(null);e.setValue("")}else if(e instanceof sap.m.CheckBox){e.setSelected(false)}const t=e.getId().split("--").pop();const o=s.includes(t);if(!o){if(typeof e.setEditable==="function"){e.setEditable(true)}if(typeof e.setEnabled==="function"){e.setEnabled(true)}}});const n=["table0","idCheckMensual","idComentarioTipo","table_clienteFac"];n.forEach(e=>{const t=this.byId(e);if(t){t.setVisible(false)}});this.byId("text73_172746565340567").setText("");this.byId("text73_172746565340569997").setText("");if(o){o.setProperty("/chartData",[]);o.setProperty("/chartModel",[])}const r=this.getView().getModel("archivosModel");if(r){r.setProperty("/archivos",[])}this.refreshODataModel();console.log("Todos los campos, textos y gráficos han sido limpiados.")},_clearAllInputsEdit:function(){const e=this.getView();const t=e.findElements(true);const o=e.getModel("planning");this._FacturacionID=null;this._aChartData=[];this._proveedoresIDs=[];this._recursosIDs=[];this._consumoExternosIDs=[];this._RecursoExterno=null;this._OtrosConceptos=null;this._idServiInterno=null;this._IdGastoViajInter=null;this._idConsuOtrser=null;this._idGastoViajeCOnsu=null;this._idOtroSerEx=null;this._idGasViaReEx=null;this._idLicencia=null;this._idJornadas=null;this._idTotalRecInter=null;this._selectedFile=null;const a=["inputReInter","inputConsuEx","inputRcurExtern","inputTotalJor","inputServi1","inputOtrosServi1","inputGastoVia1","totalRecuInter","inputServi2","inputOtroSer2","inptGastoVi2","inputServi","input10_1724757017406","input9_1724757015442","totaRecurExterno","input0","totalConsuExternot","idComenpVd","idTextComProve , input0_1724758359"];t.forEach(e=>{const t=e.getId().split("--").pop();const o=a.includes(t);if(!o){if(typeof e.setEditable==="function"){e.setEditable(true)}if(typeof e.setEnabled==="function"){e.setEnabled(true)}}})},_clearTableTextsOnly:function(){const e=this.getView();const t=["tablaConsuExter","table_dimicFecha","tablaRecExterno","idOtroserConsu","idGastoViajeConsu","idServiExterno","idGastoRecuExter","tablaInfrestuctura","tablaLicencia","tableServicioInterno","tablGastoViajeInterno"];t.forEach(e=>{const t=this.byId(e);if(!t){console.warn(`Tabla no encontrada: ${e}`);return}const o=t.getItems();o.forEach(e=>{const t=e.getCells();t.forEach(e=>{if(e instanceof sap.m.Input||e instanceof sap.m.Text){if(typeof e.setValue==="function"){e.setValue("")}if(typeof e.setText==="function"){e.setText("")}}})})});console.log("Texto de celdas internas de las tablas limpiado.")},_onDecisionPress:function(e){const t=e.getSource().data("valor");console.log("DESAION "+t);if(t){this._completarWorkflow(t).catch(e=>{console.error("Error completando workflow:",e);sap.m.MessageBox.error("Hubo un error procesando la aprobación.")});sap.m.MessageBox.information("La aprobación se envió correctamente. Puede ir a la aplicación para ver el estado del proceso de aprobación.",{title:"Aprobación enviada",onClose:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("appNoparame")}.bind(this)})}else{sap.m.MessageBox.warning("No se pudo determinar la decisión.")}},_Visualizar:async function(e,t){console.log("ENTRE A VISUALIZAR con ID:",t);const o=this.byId("btnAceptar");const a=this.byId("btnBorrado");o.detachPress(this.onSave,this);o.removeAllCustomData();a.detachPress(this.onBorrador,this);a.removeAllCustomData();const s=this.byId("idDelete");if(t==="modelEtapasAsignadas"){this._isAprobacion=true;s.setVisible(false);o.setEnabled(true);o.setText("Aprobar");o.setType(sap.m.ButtonType.Accept);o.data("valor","approve");o.attachPress(this._onDecisionPress,this);a.setEnabled(true);a.setText("Rechazar");a.setType(sap.m.ButtonType.Reject);a.data("valor","reject");a.attachPress(this._onDecisionPress,this)}else{o.setEnabled(false);a.setEnabled(false)}console.log("ENTRE A VISUALIZAR con ID:",e);this._configureButtonsForView();const n=this._sCsrfToken;const r=this.getView().getModel("mainService");if(r){r.setData({});r.refresh(true)}this._sProjectID=e;const i=`/odata/v4/datos-cdo/DatosProyect('${e}')`;try{const t=await fetch(i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-csrf-token":n}});if(!t.ok){const e=await t.text();throw new Error("Network response was not ok: "+e)}const o=await t.json();if(o){this._fillControlsWithData(o);await Promise.all([this.fetchMilestones(e),this.leerProveedor(e),this.leerFacturacion(e),this.leerClientFactura(e),this.leerRecursos(e),this.leerConsumoExterno(e),this.leerGastoViajeConsu(e),this.leerRecursoExterno(e),this.leerOtrosServiExter(e),this.leerOtrosConcepto(e),this.leerSerivioInterno(e),this.leerGastoviajeInterno(e),this.leerConsuOtroServi(e),this.leerGastoViaExter(e),this.leerLicencias(e),this.leerPerfilJornadas(e),this.leerTotalRecursoInterno(e),this.leerTotalConsumoExter(e),this.leerTotalRecuExterTotal(e),this.leerWorkflowInstancias(e),this.leerTotalInfraestrLicencia(e),this.leerTotalResumenCostesTotal(e)]);this.highlightControls();this._setAllControlsEditable(false);this._showSuccessDialog("Datos cargados correctamente")}}catch(e){console.error("Error al obtener los datos del proyecto:",e);sap.m.MessageToast.show("Error al cargar los datos del proyecto")}},_configureButtonsForView:function(){if(this._isAprobacion){return}const e=this.byId("btnAceptar");const t=this.byId("btnBorrado");const o=this.byId("idDelete");e.setEnabled(false);t.setEnabled(false);o.setEnabled(false);e.setText("Enviar");e.setType(sap.m.ButtonType.Accept);t.setText("Guardar");t.setType(sap.m.ButtonType.Emphasized)},_fillControlsWithData:async function(e){this.byId("input0").setValue(e.codigoProyect||"");this.byId("input1").setValue(e.nameProyect||"");this.byId("area0").setValue(e.datosExtra||"");this.byId("inputCambioEu").setValue(e.CambioEuRUSD||"");this.byId("23d3").setText(e.Empleado||"");this.byId("idComentariosFac").setValue(e.comentarioFacturacion||"");this.byId("idComentarioTipo").setValue(e.comentarioTipoCompra||"");this.byId("idCheckMensual").setSelected(!!e.mensual);this.byId("idTextComProve").setValue(e.comentarioProveedor||"");this.byId("idComenpVd").setValue(e.comentarioPvD||"");this.byId("dddtg").setText(e.Email||"");this.byId("int_clienteFun").setValue(e.funcionalString||"");this.byId("id_Cfactur").setValue(e.clienteFacturacion||"");this.byId("idObje").setValue(e.objetivoAlcance||"");this.byId("idDescripcion").setValue(e.descripcion||"");this.byId("input0_1725625161348").setValue(e.Total||"");this.byId("idAsunyRestri").setValue(e.AsuncionesyRestricciones||"");this.byId("box_multiJuridica").setSelected(!!e.multijuridica);this.byId("box_pluriAnual").setSelected(!!e.pluriAnual);this.byId("slct_area").setSelectedKey(e.Area_ID||"");this.byId("slct_Jefe").setSelectedKey(e.jefeProyectID_ID||"");this.byId("selectMotivo").setSelectedKey(e.MotivoCondi_ID||"");this.byId("select_tipoCom").setSelectedKey(e.TipoCompra_ID||"");this.byId("slct_verti").setSelectedKey(e.Vertical_ID||"");this.byId("slct_inic").setSelectedKey(e.Iniciativa_ID||"");this.byId("idNatu").setSelectedKey(e.Naturaleza_ID||"");this.byId("selct_Amrecp").setSelectedKey(e.AmReceptor_ID||"");this.byId("selc_ejcu").setSelectedKey(e.EjecucionVia_ID||"");this.byId("selc_Segui").setSelectedKey(e.Seguimiento_ID||"");this.byId("slct_client").setSelectedKey(e.clienteFuncional_ID||"");this.byId("date_inico").setDateValue(e.Fechainicio?new Date(e.Fechainicio):null);this.byId("date_fin").setDateValue(e.FechaFin?new Date(e.FechaFin):null);await this.onInputChange();if(e.Iniciativa_ID==="323e4567-e89b-12d3-a456-426614174002"){this.byId("table0").setVisible(true);this.byId("idCheckMensual").setVisible(true);this.byId("idComentarioTipo").setVisible(true)}else{this.byId("table0").setVisible(false);this.byId("idCheckMensual").setVisible(false);this.byId("idComentarioTipo").setVisible(false)}this.byId("idComenpVd").setEditable(e.Iniciativa_ID==="223e4567-e89b-12d3-a456-426614174001")},_showSuccessDialog:function(e){var t=new sap.m.Dialog({title:"Información",type:"Message",state:"Success",content:new sap.m.Text({text:e}),beginButton:new sap.m.Button({text:"OK",press:function(){t.close()}}),afterClose:function(){t.destroy()}});t.open()},_setAllControlsEditable:function(e){const t=this.getView();const o=["sap.m.Input","sap.m.TextArea","sap.m.Select","sap.m.CheckBox","sap.m.DatePicker"];o.forEach(o=>{t.findAggregatedObjects(true,function(e){return e.isA&&e.isA(o)}).forEach(function(t){if(t.setEditable){t.setEditable(e)}else if(t.setEnabled){t.setEnabled(e)}})})},enviarID:async function(e){const t=e;if(!t){d.error("No se ha definido el ID del workflow.");return}const o=this.getOwnerComponent().getModel();const a=o.bindContext(`/registrarTareasWorkflow(workflowInstanceId='${e}')`);try{await a.execute();const e=a.getBoundContext().getObject();console.log("Resultado:",e)}catch(e){d.error("Error al registrar tareas:\n"+e.message)}},_completarWorkflow:async function(e){const t=this._idWorkIniciado;const o=this._sProjectID;const a="Carolina Falen";console.log("ID DEL PROYECTO "+o);if(!t){sap.m.MessageBox.error("No se encontró el ID del flujo de trabajo.");return}const s=this.getOwnerComponent().getModel();const n=s.bindContext("/completeWorkflow(...)");n.setParameter("workflowInstanceId",t);n.setParameter("decision",e);n.setParameter("usuario",a);n.setParameter("idProject",o);try{await n.execute();const t=this._idWorkflowInstancias;if(!t){sap.m.MessageBox.error("No se encontró el ID de la instancia de workflow para actualizar el estado.");return}const o=`/odata/v4/datos-cdo/WorkflowInstancias(${t})`;let a;if(e==="approve"){a="Aprobado"}else if(e==="reject"){a="Rechazado"}else{a="Desconocido"}const s=(new Date).toISOString();const r=await fetch(o,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","x-csrf-token":this._sCsrfToken},body:JSON.stringify({estado:a,actualizadoEn:s})});if(!r.ok){const e=await r.text();throw new Error("Error actualizando el estado del proyecto: "+e)}}catch(e){sap.m.MessageBox.error("Error al completar el workflow: "+e.message)}},fetchMilestones:async function(e){if(!e){console.error("Error: projectID es inválido o indefinido:",e);return}var t=`/odata/v4/datos-cdo/planificacion?$filter=datosProyect_ID eq '${e}'`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Error en la respuesta de la API: "+t)}const a=await e.json();if(!a||!a.value||!Array.isArray(a.value)||a.value.length===0){return}a.value.sort((e,t)=>new Date(e.fecha_inicio)-new Date(t.fecha_inicio));var o=this.getView().getModel("planning");let s={};a.value.forEach(e=>{let t=e.fecha_inicio?new Date(e.fecha_inicio).toISOString().split("T")[0]:null;let o=e.fecha_fin?new Date(e.fecha_fin).toISOString().split("T")[0]:null;s[e.hito]={fechaInicio:t,fechaFin:o}});const n=["Kick off","Diseño","Construcción","Pruebas TQ","Go live","Paso AM","Server post/prod"];n.forEach((e,t)=>{let a=`/milestones/${t}`;if(s[e]){o.setProperty(a+"/fechaInicio",s[e].fechaInicio);o.setProperty(a+"/fechaFin",s[e].fechaFin)}else{o.setProperty(a+"/fechaInicio",null);o.setProperty(a+"/fechaFin",null)}});this._idPlani=a.value[0].ID;this.updateVizFrame1(a)}catch(e){console.error("Error al obtener los datos de planificación:",e)}},leerProveedor:async function(e){var t=`/odata/v4/datos-cdo/ProveedoresC?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("table2");var a=o.getItems();this._proveedoresIDs=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{var o=a[t];if(o){var s=o.getCells();if(s.length>1){s[0].setValue(e.valueCondi||"");s[1].setValue(e.valueProvee||"")}this._proveedoresIDs[t]=e.ID}});this.byId("box_condi").setSelected(s.value[0].checkCondi||false);this.byId("box_prove").setSelected(s.value[0].checkProveedor||false)}else{console.log("No hay datos de proveedores disponibles.")}}catch(e){console.error("Error al obtener los datos de proveedor:",e)}},leerFacturacion:async function(e){var t=`/odata/v4/datos-cdo/Facturacion?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("table0");var a=o.getItems();if(s.value&&s.value.length>0){s.value.forEach(function(e,t){var o=a[t];var s=o.getCells();if(a[t]){var s=a[t].getCells();if(s.length>1){if(s[0]instanceof sap.m.DatePicker){console.log("Tipo de celda:",s[0].constructor.name);s[0].setDateValue(e.fechaEstimida?new Date(e.fechaEstimida):null)}if(s[1]instanceof sap.m.Input){s[1].setValue(e.descripcionHito||"")}if(s[2]instanceof sap.m.Input){s[2].setValue(Math.round(e.facturacion))}}}});if(s.value[0]&&s.value[0].ID){this._FacturacionID=s.value[0].ID}this.metodoSumarFac()}else{}}catch(e){console.error("Error al obtener los datos de Facturación:",e)}},leerClientFactura:async function(e){var t=`/odata/v4/datos-cdo/ClientFactura?$filter=datosProyect_ID eq ${e}&$orderby=ID asc`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const l=await e.json();var o=this.byId("table_clienteFac");var a=o.getItems();if(l.value&&l.value.length>0){let e=l.value.sort((e,t)=>e.ID-t.ID);for(let t=0;t<e.length;t++){let r=e[t];if(t>=a.length){let e=new sap.m.ColumnListItem({cells:[new sap.m.Input({value:r.juridica||""}),new sap.m.Input({value:r.oferta?`${r.oferta}%`:""})]});o.addItem(e);a.push(e)}var s=a[t];var n=s.getCells();if(n[0].getMetadata().getName()==="sap.m.Input"){n[0].setValue(r.juridica||"")}else if(n[0].getMetadata().getName()==="sap.m.Text"){n[0].setText(r.juridica||"")}if(n[1].getMetadata().getName()==="sap.m.Input"){let e=r.oferta?r.oferta.toString():"";e=e.replace("%","");n[1].setValue(e?`${e}%`:"")}else if(n[1].getMetadata().getName()==="sap.m.Text"){n[1].setText(r.oferta?`${r.oferta}%`:"")}}}this.metodoSumar();var r=this.byId("box_multiJuridica");var i=r.getSelected();this.onCheckBoxSelectMulti({getSource:()=>r,getSelected:()=>i})}catch(e){console.error("Error al obtener los datos de cliente Facturación:",e)}},leerWorkflowInstancias:async function(e){var t=`/odata/v4/datos-cdo/WorkflowInstancias?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const n=await e.json();if(n.value&&n.value.length>0){var o=n.value[0];var a=o.ID;var s=o.workflowId;this._idWorkIniciado=s;this._idWorkflowInstancias=a}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerRecursos:async function(e){var t=`/odata/v4/datos-cdo/RecursosInternos?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("table_dimicFecha");var a=o.getItems();this._recursosIDs=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._recursosIDs[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[2].setSelectedKey(e.PerfilServicio_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalE?parseFloat(e.totalE).toFixed(2):"0.00")}})}await this.fechasDinamicas();await this.leerFechas()}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e);sap.m.MessageToast.show("Error al cargar los datos de Recursos Internos")}},leerPerfilJornadas:async function(e){var t=`/odata/v4/datos-cdo/PerfilTotal?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();if(s.value&&s.value.length>0){var o=s.value[0];var a=o.ID;this.byId("inputReInter").setValue(o.totalJorRI?parseFloat(o.totalJorRI).toFixed(2):"0.00");this.byId("inputConsuEx").setValue(o.totalJorCE?parseFloat(o.totalJorCE).toFixed(2):"0.00");this.byId("inputRcurExtern").setValue(o.totalJorRE?parseFloat(o.totalJorRE).toFixed(2):"0.00");this.byId("inputTotalJor").setValue(o.Total?parseFloat(o.Total).toFixed(2):"0.00");this._idJornadas=a}else{console.log("NO SE ENCONTRARON DATOS PARA PERFIL JORNADAS")}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerTotalRecursoInterno:async function(e){var t=`/odata/v4/datos-cdo/RecurInterTotal?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();if(s.value&&s.value.length>0){var o=s.value[0];var a=o.ID;this.byId("inputServi1").setValue(o.servicios?parseFloat(o.servicios).toFixed(2):"0.00");this.byId("inputOtrosServi1").setValue(o.OtrosServicios?parseFloat(o.OtrosServicios).toFixed(2):"0.00");this.byId("inputGastoVia1").setValue(o.GastosdeViaje?parseFloat(o.GastosdeViaje).toFixed(2):"0.00");this.byId("totalRecuInter").setValue(o.Total?parseFloat(o.Total).toFixed(2):"0.00");this._idTotalRecInter=a}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerTotalConsumoExter:async function(e){var t=`/odata/v4/datos-cdo/ConsuExterTotal?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();if(s.value&&s.value.length>0){var o=s.value[0];var a=o.ID;this.byId("inputServi2").setValue(o.servicios?parseFloat(o.servicios).toFixed(2):"0.00");this.byId("inputOtroSer2").setValue(o.OtrosServicios?parseFloat(o.OtrosServicios).toFixed(2):"0.00");this.byId("inptGastoVi2").setValue(o.GastosdeViaje?parseFloat(o.GastosdeViaje).toFixed(2):"0.00");this.byId("totalConsuExternot").setValue(o.Total?parseFloat(o.Total).toFixed(2):"0.00");this._idTotalConsuEx=a}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerTotalRecuExterTotal:async function(e){var t=`/odata/v4/datos-cdo/RecuExterTotal?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();if(s.value&&s.value.length>0){var o=s.value[0];var a=o.ID;this.byId("inputServi").setValue(o.servicios?parseFloat(o.servicios).toFixed(2):"0.00");this.byId("input10_1724757017406").setValue(o.OtrosServicios?parseFloat(o.OtrosServicios).toFixed(2):"0.00");this.byId("input9_1724757015442").setValue(o.GastosdeViaje?parseFloat(o.GastosdeViaje).toFixed(2):"0.00");this.byId("totaRecurExterno").setValue(o.Total?parseFloat(o.Total).toFixed(2):"0.00");this._idtotalRecurExter=a}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerTotalInfraestrLicencia:async function(e){var t=`/odata/v4/datos-cdo/InfraestrLicencia?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();if(s.value&&s.value.length>0){var o=s.value[0];var a=o.ID;this.byId("totalInfraestruc").setValue(o.totalInfraestruc?parseFloat(o.totalInfraestruc).toFixed(2):"0.00");this.byId("input0_1724758359").setValue(o.totalLicencia?parseFloat(o.totalLicencia).toFixed(2):"0.00");this._idInfraLicencia=a}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerTotalResumenCostesTotal:async function(e){var t=`/odata/v4/datos-cdo/ResumenCostesTotal?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();if(s.value&&s.value.length>0){var o=s.value[0];var a=o.ID;this.byId("totalSubtotal").setValue(o.Subtotal?parseFloat(o.Subtotal).toFixed(2):"0.00");this.byId("input2_172475612").setValue(o.CosteEstruPorce?parseFloat(o.CosteEstruPorce).toFixed(2):"0.00");this.byId("input2_1724756105").setValue(o.Costeestructura?parseFloat(o.Costeestructura).toFixed(2):"0.00");this.byId("input2_17221205").setValue(o.totalLicencias?parseFloat(o.totalLicencias).toFixed(2):"0.00");this.byId("input2_1756121205").setValue(o.Margeingresos?parseFloat(o.Margeingresos).toFixed(2):"0.00");this._ResumenTotal=a;this.onColumnTotales()}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerFechas:async function(){const e=this._recursosIDs;const t={};const o={};const a=e.map(async(e,t)=>{const a=`/odata/v4/datos-cdo/ValorMensuReInter?$filter=RecursosInternos_ID eq '${e}'`;try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json"}});const n=await s.json();if(n.value&&n.value.length>0){}else{console.warn(`⚠️ Sin resultados para recursoID ${e}`)}const r={};n.value.forEach(e=>{const t=e.mesAno;r[t]=e.valor;o[t]=e.ID});this._IdFechasPorMes=o;this.rellenarInputsConFechas("table_dimicFecha",t,r);return{recursoID:e,data:n.value||[]}}catch(t){console.error(`❌ Error en consulta para recursoID ${e}:`,t);return{recursoID:e,error:t}}});const s=await Promise.all(a)},rellenarInputsConFechas:function(e,t,o){console.log(`Intentando rellenar inputs para tabla: ${e}, fila: ${t}`);const a=this._inputsDinamicos?.[e]?.[t];if(!a){console.warn(`No existen inputs dinámicos para tabla ${e} fila ${t}`);return}for(const[s,n]of Object.entries(o)){const o=a[s];if(o){const e=Number(n).toFixed(2);console.log(`Seteando valor ${e} en input de fecha ${s}`);o.setValue(e);o.fireChange({value:e})}else{console.warn(`No se encontró input para la fecha ${s} en tabla ${e}, fila ${t}`)}}},leerFechasServiRecInter:async function(){const e=this._idServiInterno;const t={};const o={};const a=e.map(async(e,t)=>{const a=`/odata/v4/datos-cdo/ValorMensuServReInter?$filter=otrosGastoRecu_ID eq '${e}'`;try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json"}});const n=await s.json();if(n.value&&n.value.length>0){}else{console.warn(`⚠️ Sin resultados para servicioID ${e}`)}const r={};n.value.forEach(e=>{const t=e.mesAno;r[t]=e.valor;o[t]=e.ID});this._IdFechasPorMes=o;this.rellenarInputsConFechas("tableServicioInterno",t,r);return{servicioID:e,data:n.value||[]}}catch(t){console.error(`❌ Error en consulta para servicioID ${e}:`,t);return{servicioID:e,error:t}}});const s=await Promise.all(a)},leerFechasGastoViajeRecInter:async function(){const e=this._IdGastoViajInter;const t={};const o={};const a=Array.isArray(e)?e:[e];const s=a.map(async(e,t)=>{try{const a=await fetch(sUrl,{method:"GET",headers:{Accept:"application/json"}});const s=await a.json();if(s.value&&s.value.length>0){}else{console.warn(`⚠️ Sin resultados para recursoID ${e}`)}const n={};s.value.forEach(e=>{const t=e.mesAno;n[t]=e.valor;o[t]=e.ID});this._IdFechasPorMes=o;this._idGastInterno=s.value[0]?.ID||null;this.rellenarInputsConFechas("tablGastoViajeInterno",t,n);return{recursoID:e,data:s.value||[]}}catch(t){console.error(`❌ Error en consulta para recursoID ${e}:`,t);return{recursoID:e,error:t}}});const n=await Promise.all(s)},leerFechasConsumoExterno:async function(){const e=this._consumoExternosIDs;const t={};const o={};const a=e.map(async(e,t)=>{const a=`/odata/v4/datos-cdo/ValorMensuConsuEx?$filter=ConsumoExternos_ID eq '${e}'`;try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json"}});const n=await s.json();if(n.value&&n.value.length>0){}else{console.warn(`⚠️ Sin resultados para consumoID ${e}`)}const r={};n.value.forEach(e=>{const t=e.mesAno;r[t]=e.valor;o[t]=e.ID});this._IdFechasPorMes=o;this.rellenarInputsConFechas("tablaConsuExter",t,r);return{consumoID:e,data:n.value||[]}}catch(t){console.error(`❌ Error en consulta para consumoID ${e}:`,t);return{consumoID:e,error:t}}});const s=await Promise.all(a)},leerFechasServConsumoExterno:async function(){const e=this._idConsuOtrser;console.log("🔎 IDs de Servicios de Consumo Externo para consultar:",e);const t={};const o={};const a=e.map(async(e,t)=>{const a=`/odata/v4/datos-cdo/ValorMensuServConsuEx?$filter=otrosServiciosConsu_ID eq '${e}'`;console.log(`🔗 Consultando URL para servicioID: ${e}`);try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json"}});if(!s.ok){const e=await s.text();throw new Error("❌ Error al consultar el servicio: "+e)}const n=await s.json();if(n.value&&n.value.length>0){console.log(`✅ Resultado para servicioID ${e}:`,n.value)}else{console.warn(`⚠️ Sin resultados para servicioID ${e}`)}const r={};n.value.forEach(e=>{const t=e.mesAno;r[t]=e.valor;o[t]=e.ID});this._IdFechasPorMes=o;console.log("📅 Valores por fecha para servicio consumo externo:",JSON.stringify(r));this.rellenarInputsConFechas("idOtroserConsu",t,r);return{servicioID:e,data:n.value||[]}}catch(t){console.error(`❌ Error en consulta para servicioID ${e}:`,t);return{servicioID:e,error:t}}});const s=await Promise.all(a);console.log("📊 Resultados completos de servicios consumo externo:",s)},leerFechasGastoConsumoExterno:async function(){const e=this._idGastoViajeCOnsu;console.log("🔎 IDs de Gasto de Viaje Consumo Externo a consultar:",e);const t={};const o={};const a=e.map(async(e,t)=>{const a=`/odata/v4/datos-cdo/ValorMensuGastoViaConsuEx?$filter=GastoViajeConsumo_ID eq '${e}'`;console.log(`🔗 Consultando URL para gastoID: ${e}`);try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const e=await s.text();throw new Error("❌ Error en respuesta de red: "+e)}const n=await s.json();console.log("📦 Respuesta JSON completa:",n);if(!n.value||n.value.length===0){console.warn(`⚠️ Sin datos encontrados para gastoID: ${e}`);return{gastoID:e,data:[]}}const r={};n.value.forEach(e=>{const t=e.mesAno;r[t]=e.valor;o[t]=e.ID});this._IdFechasPorMes=o;console.log("📅 Valores por fecha para gastoID:",e,r);this.rellenarInputsConFechas("idGastoViajeConsu",t,r);return{gastoID:e,data:n.value}}catch(t){console.error(`❌ Error al consultar gastoID ${e}:`,t);return{gastoID:e,error:t}}});const s=await Promise.all(a);console.log("📊 Resultados completos de Gasto Consumo Externo:",s)},leerFechasRecursoExterno:async function(){const e=this._RecursoExterno;console.log("🔎 IDs de Recursos Externos a consultar:",e);const t={};const o=e.map(async(e,o)=>{const a=`/odata/v4/datos-cdo/ValorMensuRecuExter?$filter=RecursosExternos_ID eq ${e}`;console.log(`🔗 Consultando URL para recursoID: ${e}`);try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const e=await s.text();throw new Error("❌ Error en respuesta de red: "+e)}const n=await s.json();console.log("📦 Respuesta JSON completa:",n);if(!n.value||n.value.length===0){console.warn(`⚠️ Sin datos encontrados para recurso externo ID: ${e}`);return{recursoID:e,data:[]}}const r={};n.value.forEach(e=>{const o=e.mesAno;r[o]=e.valor;t[o]=e.ID});this._IdFechasPorMes=t;console.log("📅 Valores por fecha para recurso externo ID:",e,r);this.rellenarInputsConFechas("tablaRecExterno",o,r);return{recursoID:e,data:n.value}}catch(t){console.error(`❌ Error al consultar recurso externo ID ${e}:`,t);return{recursoID:e,error:t}}});const a=await Promise.all(o);console.log("📊 Resultados completos de Recursos Externos:",a)},leerFechasServRecursoExterno:async function(){const e=this._idOtroSerEx;console.log("🔍 IDs de Servicios Recurso Externo a consultar:",e);const t={};const o=e.map(async(e,o)=>{const a=`/odata/v4/datos-cdo/ValorMensuSerExter?$filter=ServiRecurExterno_ID eq ${e}`;console.log(`🔗 URL consultada para ServiRecurExterno_ID: ${e}`);try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const e=await s.text();throw new Error("❌ Error en respuesta de red: "+e)}const n=await s.json();console.log("📦 Respuesta JSON completa:",n);if(!n.value||n.value.length===0){console.warn(`⚠️ No hay datos de ValorMensuSerExter para el ID: ${e}`);return{servID:e,data:[]}}let r={};n.value.forEach(e=>{const o=e.mesAno;r[o]=e.valor;t[o]=e.ID});this._IdFechasPorMes=t;console.log("📅 Valores por fecha para servicio externo:",e,r);this.rellenarInputsConFechas("idServiExterno",o,r);return{servID:e,data:n.value}}catch(t){console.error(`❌ Error al consultar ServiRecurExterno_ID ${e}:`,t);return{servID:e,error:t}}});const a=await Promise.all(o);console.log("📊 Resultados completos de Servicios Recurso Externo:",a)},leerFechasGastoRecursoExterno:async function(){const e=this._idGasViaReEx;console.log("🔍 IDs de Gastos de Viaje Recurso Externo a consultar:",e);const t={};const o=e.map(async(e,o)=>{const a=`/odata/v4/datos-cdo/ValorMensuGastoViExter?$filter=GastoViajeRecExter_ID eq ${e}`;console.log(`🔗 URL consultada para GastoViajeRecExter_ID: ${e}`);try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const e=await s.text();throw new Error("❌ Error en respuesta de red: "+e)}const n=await s.json();console.log("📦 Respuesta JSON completa:",n);if(!n.value||n.value.length===0){console.warn(`⚠️ No hay datos de ValorMensuGastoViExter para el ID: ${e}`);return{gastoID:e,data:[]}}let r={};n.value.forEach(e=>{const o=e.mesAno;r[o]=e.valor;t[o]=e.ID});this._IdFechasPorMes=t;console.log("📅 Valores por fecha para gasto externo:",e,r);this.rellenarInputsConFechas("idGastoRecuExter",o,r);return{gastoID:e,data:n.value}}catch(t){console.error(`❌ Error al consultar GastoViajeRecExter_ID ${e}:`,t);return{gastoID:e,error:t}}});const a=await Promise.all(o);console.log("📊 Resultados completos de Gastos Recurso Externo:",a)},leerGastoviajeInterno:async function(e){var t=`/odata/v4/datos-cdo/otrosRecursos?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("tablGastoViajeInterno");var a=o.getItems();this._IdGastoViajInter=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._IdGastoViajInter[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalE?parseFloat(e.totalE).toFixed(2):"0.00")}}});await this.leerFechasGastoViajeRecInter()}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerSerivioInterno:async function(e){var t=`/odata/v4/datos-cdo/otrosGastoRecu?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("tableServicioInterno");var a=o.getItems();this._idServiInterno=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._idServiInterno[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalE?parseFloat(e.totalE).toFixed(2):"0.00")}}});await this.leerFechasServiRecInter()}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerConsumoExterno:async function(e){var t=`/odata/v4/datos-cdo/ConsumoExternos?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("tablaConsuExter");var a=o.getItems();this._consumoExternosIDs=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._consumoExternosIDs[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();console.log("Número de filas visibles en la tabla: ",a.length);if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");console.log("RECURSO PERFOL "+e.tipoServicio_ID);s[2].setSelectedKey(e.PerfilConsumo_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalC?parseFloat(e.totalC).toFixed(2):"0.00")}}});for(let e=0;e<this._consumoExternosIDs.length;e++){const t=this._consumoExternosIDs[e];await this.leerFechasConsumoExterno(t)}}else{}}catch(e){console.error("Error al obtener los datos de Consumo Externo:",e)}},leerConsuOtroServi:async function(e){var t=`/odata/v4/datos-cdo/otrosServiciosConsu?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("idOtroserConsu");var a=o.getItems();this._idConsuOtrser=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._idConsuOtrser[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalC?parseFloat(e.total).toFixed(2):"0.00")}}});for(let e of this._idConsuOtrser){await this.leerFechasServConsumoExterno(e)}}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerGastoViajeConsu:async function(e){var t=`/odata/v4/datos-cdo/GastoViajeConsumo?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("idGastoViajeConsu");var a=o.getItems();this._idGastoViajeCOnsu=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._idGastoViajeCOnsu[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalC?parseFloat(e.total).toFixed(2):"0.00")}}});this.leerFechasGastoConsumoExterno()}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerRecursoExterno:async function(e){var t=`/odata/v4/datos-cdo/RecursosExternos?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}this._RecursoExterno=[];const n=await e.json();var o=this.byId("tablaRecExterno");var a=o.getItems();this._recursosIDs=[];if(n.value&&n.value.length>0){n.value.forEach((e,t)=>{this._RecursoExterno[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[2].setValue(e.PerfilServicio||"");s[3].setValue(e.ConceptoOferta||"");s[4].setValue(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalC?parseFloat(e.totalC).toFixed(2):"0.00")}}});var s=n.value[0].ID;await this.leerFechasRecursoExterno(s)}else{}}catch(e){console.error("Error al obtener los datos de Recursos Externos:",e)}},leerOtrosServiExter:async function(e){var t=`/odata/v4/datos-cdo/serviRecurExter?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("idServiExterno");var a=o.getItems();this._idOtroSerEx=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._idOtroSerEx[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalC?parseFloat(e.total).toFixed(2):"0.00")}}});await this.leerFechasServRecursoExterno()}else{}}catch(e){console.error("Error al obtener los datos de serviRecurExter:",e)}},leerGastoViaExter:async function(e){var t=`/odata/v4/datos-cdo/GastoViajeRecExter?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("idGastoRecuExter");var a=o.getItems();this._idGasViaReEx=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._idGasViaReEx[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[1].setSelectedKey(e.tipoServicio_ID||"");s[3].setValue(e.ConceptoOferta||"");s[4].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[5].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[6].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[7].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[8].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[9].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[10].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[11].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[12].setText(e.totalC?parseFloat(e.total).toFixed(2):"0.00")}}});for(let e of this._idGasViaReEx){await this.leerFechasGastoRecursoExterno(e)}}else{}}catch(e){console.error("Error al obtener los datos de GastoViajeRecExter:",e)}},leerOtrosConcepto:async function(e){var t=`/odata/v4/datos-cdo/otrosConceptos?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("tablaInfrestuctura");var a=o.getItems();this._OtrosConceptos=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._OtrosConceptos[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[2].setValue(e.ConceptoOferta||"");s[3].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[4].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[5].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[6].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[7].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[8].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[9].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[10].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[11].setText(e.totalC?parseFloat(e.total).toFixed(2):"0.00")}}});for(let e of this._OtrosConceptos){await this.leerFechasOtrosConcetos(e)}}else{}}catch(e){console.error("Error al obtener los datos de Recursos Internos:",e)}},leerFechasOtrosConcetos:async function(){const e=this._OtrosConceptos;console.log("🔍 IDs de Otros Conceptos a consultar:",e);const t={};const o=e.map(async(e,o)=>{const a=`/odata/v4/datos-cdo/ValorMensuOtrConcep?$filter=otrosConceptos_ID eq ${e}`;console.log(`🔗 URL consultada para otrosConceptos_ID: ${e}`);try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const e=await s.text();throw new Error("❌ Error en respuesta de red: "+e)}const n=await s.json();console.log("📦 Respuesta JSON completa:",n);if(!n.value||n.value.length===0){console.warn(`⚠️ No hay datos de ValorMensuOtrConcep para el ID: ${e}`);return{conceptoID:e,data:[]}}let r={};n.value.forEach(e=>{const o=e.mesAno;r[o]=e.valor;t[o]=e.ID});this._IdFechasPorMes=t;console.log("📅 Valores por fecha para concepto:",e,r);this.rellenarInputsConFechas("tablaInfrestuctura",o,r);return{conceptoID:e,data:n.value}}catch(t){console.error(`❌ Error al consultar otrosConceptos_ID ${e}:`,t);return{conceptoID:e,error:t}}});const a=await Promise.all(o);console.log("📊 Resultados completos de Otros Conceptos:",a)},leerFechasLicencia:async function(){const e=this._idLicencia;console.log("🔍 IDs de Licencias a consultar:",e);const t={};const o=e.map(async(e,o)=>{const a=`/odata/v4/datos-cdo/ValorMensulicencia?$filter=licencia_ID eq ${e}`;console.log(`🔗 URL consultada para licencia_ID: ${e}`);try{const s=await fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const e=await s.text();throw new Error("❌ Error en respuesta de red: "+e)}const n=await s.json();console.log("📦 Respuesta JSON completa:",n);if(!n.value||n.value.length===0){console.warn(`⚠️ No hay datos de ValorMensulicencia para el ID: ${e}`);return{licenciaID:e,data:[]}}let r={};n.value.forEach(e=>{const o=e.mesAno;r[o]=e.valor;t[o]=e.ID});this._IdFechasPorMes=t;console.log("📅 Valores por fecha para licencia:",e,r);this.rellenarInputsConFechas("tablaLicencia",o,r);return{licenciaID:e,data:n.value}}catch(t){console.error(`❌ Error al consultar licencia_ID ${e}:`,t);return{licenciaID:e,error:t}}});const a=await Promise.all(o);console.log("📊 Resultados completos de Licencias:",a)},leerLicencias:async function(e){var t=`/odata/v4/datos-cdo/LicenciasCon?$filter=datosProyect_ID eq ${e}`;try{const e=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error("Network response was not ok: "+t)}const s=await e.json();var o=this.byId("tablaLicencia");var a=o.getItems();this._idLicencia=[];if(s.value&&s.value.length>0){s.value.forEach((e,t)=>{this._idLicencia[t]=e.ID;if(t<a.length){var o=a[t];var s=o.getCells();if(s.length>1){s[0].setSelectedKey(e.Vertical_ID||"");s[2].setValue(e.ConceptoOferta||"");s[3].setText(e.PMJ?parseFloat(e.PMJ).toFixed(2):"0.00");s[4].setText(e.year1?parseFloat(e.year1).toFixed(2):"0.00");s[5].setText(e.year2?parseFloat(e.year2).toFixed(2):"0.00");s[6].setText(e.year3?parseFloat(e.year3).toFixed(2):"0.00");s[7].setText(e.year4?parseFloat(e.year4).toFixed(2):"0.00");s[8].setText(e.year5?parseFloat(e.year5).toFixed(2):"0.00");s[9].setText(e.year6?parseFloat(e.year6).toFixed(2):"0.00");s[10].setText(e.total?parseFloat(e.total).toFixed(2):"0.00");s[11].setText(e.totalC?parseFloat(e.total).toFixed(2):"0.00")}}});for(let e of this._idLicencia){await this.leerFechasLicencia(e)}}else{}}catch(e){console.error("Error al obtener los datos de LicenciasCon:",e)}},updateVizFrame1:function(e){var t=this.getView();var o=t.getModel("planning");if(!o){console.error("El modelo 'planning' no está definido.");return}if(!e||!e.value){return}var a=sap.ui.core.format.DateFormat.getInstance({pattern:"yyyy-MM-dd"});var s=e.value.map(function(e){var t=e.fecha_inicio?new Date(e.fecha_inicio):null;var o=e.fecha_fin?new Date(e.fecha_fin):null;if(t&&!isNaN(t.getTime())&&o&&!isNaN(o.getTime())){var s=(o-t)/(1e3*60*60*24);return{fase:e.hito,fechaInicio:a.format(t),fechaFin:a.format(o),duracion:s,label:`Inicio: ${a.format(t)}, Fin: ${a.format(o)}, Duración: ${s} días`}}else{console.warn("Fechas no válidas para el hito:",e);return null}}).filter(Boolean);o.setProperty("/chartData",s);console.log(s);this._aChartData=s;var n={};s.forEach(function(e){if(e.fase==="Kick off"){n.fechaInicioConstruccion=e.fechaInicio}if(e.fase==="Server post/prod"){n.fechaFinPruebasTQ=e.fechaFin}});var r=new sap.ui.model.json.JSONModel({fechas:[{fase:"Plan",fechaInicioConstruccion:n.fechaInicioConstruccion||"No definida",fechaFinPruebasTQ:n.fechaFinPruebasTQ||"No definida"}]});t.setModel(r,"fechasModel");this.updateVizFrame2(r)},updateVizFrame2:function(e){var t=this.getView();var o=t.getModel("planning");if(!(e instanceof sap.ui.model.json.JSONModel)||!e.getData){return}var a=e.getData().fechas;var s=sap.ui.core.format.DateFormat.getInstance({pattern:"yyyy-MM-dd"});var n=a.map(function(e){var t=e.fechaInicioConstruccion&&e.fechaInicioConstruccion!=="No definida"?new Date(e.fechaInicioConstruccion):null;var o=e.fechaFinPruebasTQ&&e.fechaFinPruebasTQ!=="No definida"?new Date(e.fechaFinPruebasTQ):null;if(t&&!isNaN(t.getTime())&&o&&!isNaN(o.getTime())){var a=(o-t)/(1e3*60*60*24);return{fase:e.fase,fechaInicio:s.format(t),fechaFin:s.format(o),duracion:a,label:`Inicio: ${s.format(t)}, Fin: ${s.format(o)}, Duración: ${a} días`}}else{return null}}).filter(Boolean);o.setProperty("/chartModel",n)},updateVizFrame3:function(){var e=this.getView();var t=e.getModel("planning");var o=t.getData();var a=sap.ui.core.format.DateFormat.getInstance({pattern:"yyyy-MM-dd"});var s=o.milestones.map(function(e){var t=e.fechaInicio?new Date(e.fechaInicio):null;var o=e.fechaFin?new Date(e.fechaFin):null;if(t&&o&&!isNaN(t)&&!isNaN(o)){var s=(o-t)/(1e3*60*60*24);return{fase:e.fase,fechaInicio:a.format(t),fechaFin:a.format(o),duracion:s,label:`Inicio: ${a.format(t)}, Fin: ${a.format(o)}, Duración: ${s} días`}}else{return null}}).filter(Boolean);t.setProperty("/chartData",s);this._aChartData=s;var n={};s.forEach(function(e){if(e.fase==="Kick off"){n.fechaInicioConstruccion=e.fechaInicio}if(e.fase==="Server post/prod"){n.fechaFinPruebasTQ=e.fechaFin}});var r=new sap.ui.model.json.JSONModel({fechas:[{fase:"Fechas Importantes",fechaInicioConstruccion:n.fechaInicioConstruccion,fechaFinPruebasTQ:n.fechaFinPruebasTQ}]});e.setModel(r,"fechasModel");this.updateVizFrame2(r)},onFechaChange:function(){this.updateVizFrame1();this.updateVizFrame3()},onPerfilChangeTabla1:function(e){this.updateRowData(e,["table_dimicFecha"])},updateRowData:function(e){const t=e.getSource();var o=this.byId("table_dimicFecha");var a=t.getParent();var s=o.indexOfItem(a);if(s===-1){console.error(`Índice de la fila no encontrado en la tabla ${oTableId}. Verifica la estructura de la tabla.`);return}else{}var n=o.getItems();var r=n[s].getCells();if(!r||r.length===0){console.error(`Datos de la fila no encontrados en la tabla ${oTableId}.`);return}var i=t.getSelectedItem().getText();var l={Director:{PMJ:1370.88,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"CG4.C":{PMJ:179.46,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"CG4.A":{PMJ:347.37,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"CG4.B":{PMJ:223.59,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},CG3:{PMJ:424.15,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},CG2:{PMJ:529.92,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},CG1:{PMJ:670.46,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0}};var c=l[i];if(c){r[4].setText(c.PMJ);r[5].setText(c["2024"]);r[6].setText(c["2025"]);r[7].setText(c["2026"]);r[8].setText(c["2027"]);r[9].setText(c["2028"]);r[10].setText(c["2029"]);var d=0;r[11].setText(d);var u=0;r[12].setText(u);console.log(u)}else{console.error(`No hay configuración definida para el valor seleccionado: ${i}`)}},selectFuncionchange:function(e){const t=e.getSource();const o=this.byId("tablaConsuExter");var a=t.getParent();var s=o.indexOfItem(a);if(s===-1){console.error(`Índice de la fila no encontrado en la tabla ${oTableId}. Verifica la estructura de la tabla.`);return}var n=o.getItems();var r=n[s].getCells();if(!r||r.length===0){console.error(`Datos de la fila no encontrados en la tabla ${oTableId}.`);return}var i=t.getSelectedItem().getText();var l={"Equipo Argentina - Analista":{PMJ:216.18,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"Equipo Argentina - Asistente":{PMJ:190.74,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"Equipo Argentina - Jefe":{PMJ:296.13,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"Equipo Argentina - Gerente":{PMJ:478.34,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"Basis - Consultor Junior":{PMJ:207.19,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"Basis - Consultor Senior":{PMJ:356.21,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"Basis - Arquitecto":{PMJ:356.21,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"QA - Análisis Funcional":{PMJ:278,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"QA - Jefe Proyecto":{PMJ:320,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"Testing - Análisis Funcional":{PMJ:180,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"TA - Consultor Senior 1-2":{PMJ:379.17,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0},"TA - Consultor Senior 3":{PMJ:455.4,2024:.93,2025:0,2026:0,2027:0,2028:0,2029:0}};var c=l[i];if(c){r[4].setText(c.PMJ);r[5].setText(c["2024"]);r[6].setText(c["2025"]);r[7].setText(c["2026"]);r[8].setText(c["2027"]);r[9].setText(c["2028"]);r[10].setText(c["2029"]);var d=0;r[11].setText(d);var u=0;r[12].setText(u);console.log(u)}else{console.error(`No hay configuración definida para el valor seleccionado: ${i}`)}},token:async function(){try{let e=await fetch("/odata/v4/datos-cdo",{method:"GET",headers:{"x-csrf-token":"Fetch"}});if(!e.ok){throw new Error("Error al obtener el CSRF Token")}let t=e.headers.get("x-csrf-token");if(!t){throw new Error("No se recibió un CSRF Token")}localStorage.setItem("csrfToken",t);this._sCsrfToken=t}catch(e){console.error("Error en la llamada al servicio:",e)}},getCsrfToken:function(){return localStorage.getItem("csrfToken")},sendRequest:async function(){const e=this.getCsrfToken();if(!e){console.log("No hay CSRF Token disponible, obteniendo uno...");await this.token()}const t=await fetch("/odata/v4/datos-cdo",{method:"GET",headers:{"x-csrf-token":e}});if(t.ok){const e=await t.json();console.log(e)}else{console.error("Error en la solicitud:",t.status)}},onSave:async function(){console.log("Entre al ONSAVE ");const e=this._usuarioActual;let t=this.getView().getModel("viewModel").getProperty("/mode");if(!this._oBusyDialog){this._oBusyDialog=new sap.m.BusyDialog({title:"Procesando",text:"Procesando su solicitud, por favor espere un momento..."})}if(!t){t=this._mode||""}if(!t){t=this._sProjectID?"edit":"create"}console.log("MODO FINAL USADO EN onSave:",t);let o=0;const a=[];const s=this._sProjectID;const n=parseFloat(this.byId("input0").getValue(),10);const r=this.byId("dddtg").getText();const i=this.byId("23d3").getText();const l=parseFloat(this.byId("inputCambioEu").getValue());const c=this.byId("input1").getValue();const d=this.byId("idDescripcion").getValue();const u=parseFloat(this.byId("input0_1725625161348").getValue());const h=this.byId("box_pluriAnual").getSelected();const p=this.byId("id_Cfactur").getValue();const f=this.byId("box_multiJuridica").getSelected();const x=this.byId("idCheckMensual").getSelected();const g=this.byId("int_clienteFun").getValue();const y=this.byId("idObje").getValue();const I=this.byId("idAsunyRestri").getValue();const b=this.byId("area0").getValue();const m=this.byId("date_inico").getDateValue();const v=this.byId("date_fin").getDateValue();const T=this.byId("input_ipc").getValue();const F=this.byId("idTextComProve").getValue();const C=this.byId("idComenpVd").getValue();let _=T.replace("%","").replace(",",".");let w=parseFloat(_);const E=this.byId("idComentarioTipo").getValue();const S=this.byId("idComentariosFac").getValue();var V=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss"});const D=m?V.format(m):null;const P=v?V.format(v):null;const j=this.byId("idNatu").getSelectedKey();const N=this.byId("slct_area").getSelectedKey();const R=this.byId("slct_Jefe").getSelectedKey();const O=this.byId("select_tipoCom").getSelectedKey();const k=this.byId("selectMotivo").getSelectedKey();const A=this.byId("slct_inic").getSelectedKey();const $=this.byId("selc_Segui").getSelectedKey();const M=this.byId("selc_ejcu").getSelectedKey();const G=this.byId("slct_client").getSelectedKey();const J=this.byId("slct_verti").getSelectedKey();const L=this.byId("selct_Amrecp").getSelectedKey();const K=(e,t,s)=>{if(!t||typeof t==="string"&&t.trim()===""){e.setValueState("Error");e.setValueStateText("Este campo es obligatorio");o++;if(!a.includes(s)){a.push(s)}}else{e.setValueState("None")}};K(this.byId("input1"),c,"Nombre del Proyecto");K(this.byId("idDescripcion"),d,"Descripcion");if(o>0){sap.m.MessageBox.warning(`Por favor, complete los siguientes campos: ${a.join(", ")}`,{title:"Advertencia"});return}const B=new Date;const H=new Date(B.getTime()-B.getTimezoneOffset()*6e4);const z={codigoProyect:"1",nameProyect:c,Email:r,Empleado:i,pluriAnual:h,Total:u,descripcion:d,mensual:x,comentarioTipoCompra:E,comentarioFacturacion:S,comentarioProveedor:F,comentarioPvD:C,funcionalString:g,clienteFacturacion:p,multijuridica:f,Naturaleza_ID:j,TipoCompra_ID:O,TipoCompra:{ID:O},MotivoCondi:{ID:k},Area_ID:N,Iniciativa_ID:A,jefeProyectID_ID:R,objetivoAlcance:y,AsuncionesyRestricciones:I,Vertical_ID:J,Fechainicio:D,FechaFin:P,Seguimiento_ID:$,EjecucionVia_ID:M,AmReceptor_ID:L,clienteFuncional_ID:G,Estado:"Pendiente",Usuarios_ID:e,datosExtra:b,IPC_apli:w,CambioEuRUSD:l};if(!s){z.fechaCreacion=H}let U=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});const q=new Date;const W=U.format(q);if(s){z.FechaModificacion=W}if(!z.descripcion||!z.nameProyect){console.error("Validación fallida: Falta código o nombre del proyecto",z);return}console.log("Payload a enviar:",JSON.stringify(z,null,2));try{let e=this.getView().getModel();let t=e.sServiceUrl;let o;let a="/odata/v4/datos-cdo/DatosProyect";let n="POST";this._oBusyDialog.open();if(this._mode==="edit"){if(!s){sap.m.MessageBox.error("Error: No hay ProjectID para editar.");return}console.log("ID DEL WORK "+this._idWorkIniciado);if(this._idWorkIniciado){try{const e=this.getView().getModel();const t=e.bindContext("/cancelWorkflow(...)");t.setParameter("workflowInstanceId",this._idWorkIniciado);await t.execute()}catch(e){sap.m.MessageBox.error("Error al cancelar workflow anterior: "+e.message);return}}a=`/odata/v4/datos-cdo/DatosProyect(${s})`;n="PATCH"}else if(this._mode==="create"){n="POST";a="/odata/v4/datos-cdo/DatosProyect"}let r=await fetch(t,{method:"GET",headers:{"x-csrf-token":"Fetch"}});if(!r.ok){throw new Error("Error al obtener el CSRF Token")}let l=r.headers.get("x-csrf-token");if(!l){throw new Error("No se recibió un CSRF Token")}o=await fetch(a,{method:n,headers:{"Content-Type":"application/json","x-csrf-token":l},body:JSON.stringify(z)});if(!o.ok){const e=await o.text();console.error(`Error en ${n} (${o.status}):`,e);if(o.status===400){sap.m.MessageToast.show("Error 400: Datos incorrectos o incompletos.")}else if(o.status===404){sap.m.MessageToast.show("Error 404: Endpoint no encontrado.")}else if(o.status===500){sap.m.MessageToast.show("Error 500: Problema en el servidor o base de datos.")}else{sap.m.MessageToast.show(`Error ${o.status}: ${e}`)}throw new Error(`HTTP ${o.status} - ${e}`)}if(o.ok){const e=await o.json();console.log("Respuesta completa de la API:",e);const t=e.ID||e.data?.ID;if(t){const e=await Promise.all([this.insertFacturacion(t),this.inserChart(t,l),this.insertarProveedor(t),this.insertClientFactura(t),this.insertRecursosInternos(t),this.insertCosumoExterno(t),this.insertRecursoExterno(t),this.insertarOtrosConceptos(t),this.insertServicioInterno(t),this.insertGastoViajeInterno(t),this.insertServiConsu(t),this.insertGastoConsu(t),this.insertServicioRecuExter(t),this.insertGastoViajeExterno(t),this.insertarLicencia(t),this.insertPerfilJornadas(t,l),this.insertTotalRecuInterno(t,l),this.insertTotalConsuExt(t,l),this.insertTotalRecuExterTotal(t,l),this.insertTotalInfraestrLicencia(t,l),this.insertResumenCostesTotal(t,l),this.onUploadFile(t,l)]);const o="https://telefonica-global-technology--s-a--j8z80lwx-sp-shc-dev-16bb931b.cfapps.eu20-001.hana.ondemand.com/project1/index.html#/app/";const a=this.getView().getModel();const s=a.bindContext("/startWorkflow(...)");s.setParameter("payload",JSON.stringify({codigoproyect:0,nameproyect:c,generatedid:t,urlapp:o,descripcion:d,jefeProyecto:"Carolina Falen",clienteFuncional:"CLiente Fun",clienteFacturacion:"Cliente Fact",usuario:"Carolina Falen"}));try{await s.execute();const e=s.getBoundContext().getObject();this.workflowInstanceId=e.workflowInstanceId;console.log("Resultado del flujo de trabajo:",e);if(e&&e.workflowInstanceId){const o=e.workflowInstanceId;this.insertWorkflow(o,i,t,l);this._oBusyDialog.close()}else{sap.m.MessageBox.error("No se recibió el ID del flujo de trabajo.")}this.getOwnerComponent().getRouter().navTo("app",{newId:t})}catch(e){sap.m.MessageBox.error("Error al iniciar el workflow: "+e.message)}}else{console.error("No se generó un ID válido.")}}}catch(e){console.error("Error en la llamada al servicio:",e)}},getUsuario:async function(){try{const e=this._user;if(!e){throw new Error("El email del usuario no está disponible. Asegúrate de haber ejecutado getUserInfo primero.")}const t=`/odata/v4/datos-cdo/Usuarios`;const o=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!o.ok){const e=await o.text();throw new Error("Error en la respuesta de la red: "+e)}const a=await o.json();const s=a.value.find(t=>t.email?.toLowerCase()===e.toLowerCase());if(s){console.log("✅ Usuario encontrado:",s);this._usuarioActual=s.ID;console.log("✅ Usuario encontrado2:",this._usuarioActual);return s.ID}else{throw new Error("❌ No se encontró el usuario con el email logueado.")}}catch(e){console.error("Error al obtener el usuario:",e);return null}},onBorrador:async function(){console.log("ENTRANDO A onBorrador");const e=this._usuarioActual;let t=this.getView().getModel("viewModel").getProperty("/mode");if(!t){t=this._mode||""}if(!t){t=this._sProjectID?"edit":"create"}console.log("MODO FINAL USADO EN onSave:",t);let o=0;const a=[];const s=this._sProjectID;const n=parseFloat(this.byId("input0").getValue(),10);const r=this.byId("dddtg").getText();const i=this.byId("23d3").getText();const l=parseFloat(this.byId("inputCambioEu").getValue());const c=this.byId("input1").getValue();const d=this.byId("idDescripcion").getValue();const u=parseFloat(this.byId("input0_1725625161348").getValue());const h=this.byId("box_pluriAnual").getSelected();const p=this.byId("id_Cfactur").getValue();const f=this.byId("box_multiJuridica").getSelected();const x=this.byId("idCheckMensual").getSelected();const g=this.byId("int_clienteFun").getValue();const y=this.byId("idObje").getValue();const I=this.byId("idAsunyRestri").getValue();const b=this.byId("area0").getValue();const m=this.byId("date_inico").getDateValue();const v=this.byId("date_fin").getDateValue();const T=this.byId("input_ipc").getValue();let F=T.replace("%","").replace(",",".");let C=parseFloat(F);const _=this.byId("idTextComProve").getValue();const w=this.byId("idComenpVd").getValue();const E=this.byId("idComentarioTipo").getValue();const S=this.byId("idComentariosFac").getValue();console.log("Objeto comentarioProveedor:",_);console.log("Objeto comentarioPvD:",w);var V=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss"});const D=m?V.format(m):null;const P=v?V.format(v):null;const j=this.byId("idNatu").getSelectedKey();const N=this.byId("slct_area").getSelectedKey();const R=this.byId("slct_Jefe").getSelectedKey();const O=this.byId("select_tipoCom").getSelectedKey();const k=this.byId("selectMotivo").getSelectedKey();const A=this.byId("slct_inic").getSelectedKey();const $=this.byId("selc_Segui").getSelectedKey();const M=this.byId("selc_ejcu").getSelectedKey();const G=this.byId("slct_client").getSelectedKey();const J=this.byId("slct_verti").getSelectedKey();const L=this.byId("selct_Amrecp").getSelectedKey();const K=(e,t,s)=>{if(!t||typeof t==="string"&&t.trim()===""){e.setValueState("Error");e.setValueStateText("Este campo es obligatorio");o++;if(!a.includes(s)){a.push(s)}}else{e.setValueState("None")}};K(this.byId("input1"),c,"Nombre del Proyecto");K(this.byId("idDescripcion"),d,"Descripcion");if(o>0){sap.m.MessageBox.warning(`Por favor, complete los siguientes campos: ${a.join(", ")}`,{title:"Advertencia"});return}const B=new Date;const H=new Date(B.getTime()-B.getTimezoneOffset()*6e4);console.log(H);const z={codigoProyect:"1",nameProyect:c,Email:r,Empleado:i,pluriAnual:h,Total:u,descripcion:d,mensual:x,comentarioTipoCompra:E,comentarioFacturacion:S,comentarioProveedor:_,comentarioPvD:w,funcionalString:g,clienteFacturacion:p,multijuridica:f,Naturaleza_ID:j,TipoCompra_ID:O,TipoCompra:{ID:O},MotivoCondi:{ID:k},Area_ID:N,Iniciativa_ID:A,jefeProyectID_ID:R,objetivoAlcance:y,AsuncionesyRestricciones:I,Vertical_ID:J,Fechainicio:D,FechaFin:P,Seguimiento_ID:$,EjecucionVia_ID:M,AmReceptor_ID:L,clienteFuncional_ID:G,Estado:"Borrador",datosExtra:b,IPC_apli:C,Usuarios_ID:e,CambioEuRUSD:l};if(!s){z.fechaCreacion=H}let U=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});const q=new Date;const W=U.format(q);if(s){z.FechaModificacion=W}if(!z.descripcion||!z.nameProyect){console.error("Validación fallida: Falta código o nombre del proyecto",z);return}console.log("Payload a enviar:",JSON.stringify(z,null,2));try{let e=this.getView().getModel();let t=e.sServiceUrl;let o;let a="/odata/v4/datos-cdo/DatosProyect";let n="POST";if(this._mode==="edit"){if(!s){sap.m.MessageBox.error("Error: No hay ProjectID para editar.");return}a=`/odata/v4/datos-cdo/DatosProyect(${s})`;n="PATCH"}else if(this._mode==="create"){n="POST";a="/odata/v4/datos-cdo/DatosProyect"}let r=await fetch(t,{method:"GET",headers:{"x-csrf-token":"Fetch"}});if(!r.ok){throw new Error("Error al obtener el CSRF Token")}let i=r.headers.get("x-csrf-token");if(!i){throw new Error("No se recibió un CSRF Token")}console.log(" CSRF Token obtenido:",i);o=await fetch(a,{method:n,headers:{"Content-Type":"application/json","x-csrf-token":i},body:JSON.stringify(z)});if(!o.ok){const e=await o.text();console.error(`Error en ${n} (${o.status}):`,e);if(o.status===400){sap.m.MessageToast.show("Error 400: Datos incorrectos o incompletos.")}else if(o.status===404){sap.m.MessageToast.show("Error 404: Endpoint no encontrado.")}else if(o.status===500){sap.m.MessageToast.show("Error 500: Problema en el servidor o base de datos.")}else{sap.m.MessageToast.show(`Error ${o.status}: ${e}`)}throw new Error(`HTTP ${o.status} - ${e}`)}if(o.ok){const e=await o.json();console.log("Respuesta completa de la API:",e);const t=e.ID||e.data?.ID;if(t){this.getOwnerComponent().getRouter().navTo("app",{newId:t});const e=await Promise.all([this.insertFacturacion(t),this.inserChart(t,i),this.insertarProveedor(t),this.insertClientFactura(t),this.insertRecursosInternos(t),this.insertCosumoExterno(t),this.insertRecursoExterno(t),this.insertarOtrosConceptos(t),this.insertServicioInterno(t),this.insertGastoViajeInterno(t),this.insertServiConsu(t),this.insertGastoConsu(t),this.insertServicioRecuExter(t),this.insertGastoViajeExterno(t),this.insertarLicencia(t),this.insertPerfilJornadas(t,i),this.insertTotalRecuInterno(t,i),this.insertTotalConsuExt(t,i),this.onUploadFile(t,i)])}else{console.error("No se generó un ID válido.")}}}catch(e){console.error("Error en la llamada al servicio:",e)}},onFileSelected:function(e){const t=e.getParameter("files")[0];if(t){this._selectedFile=t;console.log("Archivo seleccionado:",t.name)}},onUploadFile:async function(e,t){const o=this._archivoIds;const a=this._selectedFile;if(!a){return}const s=crypto.randomUUID();const n=a.name;const r=a.type||"application/octet-stream";try{const i={ID:s,nombre:n,tipoMime:r,datosProyect_ID:e};if(o){const e=await fetch(`/odata/v4/datos-cdo/Archivos('${o}')`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(i)});e=await fetch(`/odata/v4/datos-cdo/Archivos('${o}')/contenido/$value`,{method:"PUT",headers:{"X-CSRF-Token":t,"Content-Type":r},body:a})}else{putRes=await fetch(`/odata/v4/datos-cdo/Archivos`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(i)});putRes=await fetch(`/odata/v4/datos-cdo/Archivos('${s}')/contenido/$value`,{method:"PUT",headers:{"X-CSRF-Token":t,"Content-Type":r},body:a})}if(!putRes.ok){const e=await putRes.text();throw new Error("❌ Error subiendo archivo: "+e)}}catch(e){console.error("💥 Error total en upload:",e);sap.m.MessageToast.show(e.message)}},insertWorkflow:async function(e,t,o,a){var s=this._idWorkflowInstancias;console.log("ID ANTES DE ACTUALIZAR"+s);var n={workflowId:e,estado:"Pendiente",creadoEn:(new Date).toISOString(),actualizadoEn:(new Date).toISOString(),creadoPor:t,datosProyect_ID:o};let r="/odata/v4/datos-cdo/WorkflowInstancias";let i="POST";if(s){r+=`(${s})`;i="PATCH"}try{const e=await fetch(r,{method:i,headers:{"Content-Type":"application/json","X-CSRF-Token":a},body:JSON.stringify(n)});if(e.ok){}else{const t=await e.json();console.error("Error:",t)}}catch(e){console.error("Error en fetch:",e)}},insertPerfilJornadas:async function(e,t){var o=this._idJornadas;var a=parseFloat(this.byId("inputReInter").getValue());var s=parseFloat(this.byId("inputConsuEx").getValue());var n=parseFloat(this.byId("inputRcurExtern").getValue());var r=parseFloat(this.byId("inputTotalJor").getValue());var i={totalJorRI:a,totalJorCE:s,totalJorRE:n,Total:r,datosProyect_ID:e};let l="/odata/v4/datos-cdo/PerfilTotal";let c="POST";if(o){l+=`(${o})`;c="PATCH"}try{const e=await fetch(l,{method:c,headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(i)});if(e.ok){}else{const t=await e.json();console.error("Error:",t)}}catch(e){console.error("Error en fetch:",e)}},insertTotalRecuInterno:async function(e,t){var o=this._idTotalRecInter;var a=parseFloat(this.byId("inputServi1").getValue(),10);var s=parseFloat(this.byId("inputOtrosServi1").getValue(),10);var n=parseFloat(this.byId("inputGastoVia1").getValue(),10);var r=parseFloat(this.byId("totalRecuInter").getValue(),10);var i={servicios:a,OtrosServicios:s,GastosdeViaje:n,Total:r,datosProyect_ID:e};let l="/odata/v4/datos-cdo/RecurInterTotal";let c="POST";if(o){l+=`(${o})`;c="PATCH"}try{const e=await fetch(l,{method:c,headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(i)});if(e.ok){}else{const t=await e.json();console.error("Error:",t)}}catch(e){console.error("Error en fetch:",e)}},insertTotalConsuExt:async function(e,t){var o=this._idTotalRecInter;var a=parseFloat(this.byId("inputServi2").getValue());var s=parseFloat(this.byId("inputOtroSer2").getValue());var n=parseFloat(this.byId("inptGastoVi2").getValue());var r=parseFloat(this.byId("totalConsuExternot").getValue());var i={servicios:a,OtrosServicios:s,GastosdeViaje:n,Total:r,datosProyect_ID:e};let l="/odata/v4/datos-cdo/ConsuExterTotal";let c="POST";if(o){l+=`(${o})`;c="PATCH"}try{const e=await fetch(l,{method:c,headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(i)});if(e.ok){}else{const t=await e.json();console.error("Error:",t)}}catch(e){console.error("Error en fetch:",e)}},insertTotalRecuExterTotal:async function(e,t){var o=this._idtotalRecurExter;var a=parseFloat(this.byId("inputServi").getValue(),10);var s=parseFloat(this.byId("input10_1724757017406").getValue(),10);var n=parseFloat(this.byId("input9_1724757015442").getValue(),10);var r=parseFloat(this.byId("totaRecurExterno").getValue(),10);console.log("ID RECIBIDO DEL INSERT "+o);var i={servicios:a,OtrosServicios:s,GastosdeViaje:n,Total:r,datosProyect_ID:e};let l="/odata/v4/datos-cdo/RecuExterTotal";let c="POST";if(o){l+=`(${o})`;c="PATCH"}try{const e=await fetch(l,{method:c,headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(i)});if(e.ok){}else{const t=await e.json();console.error("Error:",t)}}catch(e){console.error("Error en fetch:",e)}},insertTotalInfraestrLicencia:async function(e,t){var o=this._idInfraLicencia;var a=parseFloat(this.byId("totalInfraestruc").getValue());var s=parseFloat(this.byId("input0_1724758359").getValue());console.log("ID RECIBIDO DEL INSERT "+o);var n={totalInfraestruc:a,totalLicencia:s,datosProyect_ID:e};let r="/odata/v4/datos-cdo/InfraestrLicencia";let i="POST";if(o){r+=`(${o})`;i="PATCH"}try{const e=await fetch(r,{method:i,headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(n)});if(e.ok){}else{const t=await e.json();console.error("Error:",t)}}catch(e){console.error("Error en fetch:",e)}},insertResumenCostesTotal:async function(e,t){var o=this._ResumenTotal;var a=parseFloat(this.byId("totalSubtotal").getValue());var s=parseFloat(this.byId("input2_172475612").getValue());var n=parseFloat(this.byId("input2_1724756105").getValue());var r=parseFloat(this.byId("input2_17221205").getValue());var i=parseFloat(this.byId("input2_1756121205").getValue());var l=parseFloat(this.byId("input0_1725625161348").getValue());console.log("ID RECIBIDO DEL INSERT "+o);var c={Subtotal:a,CosteEstruPorce:s,Costeestructura:n,MargenPorce:r,Margeingresos:i,total:l,datosProyect_ID:e};let d="/odata/v4/datos-cdo/ResumenCostesTotal";let u="POST";if(o){d+=`(${o})`;u="PATCH"}try{const e=await fetch(d,{method:u,headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify(c)});if(e.ok){}else{const t=await e.json();console.error("Error:",t)}}catch(e){console.error("Error en fetch:",e)}},inserChart:async function(e,t){const o=this._aChartData;const a=this._idPlani;const s=function(e){const t=String(Math.floor(e/60)).padStart(2,"0");const o=String(e%60).padStart(2,"0");return`${t}:${o}:00`};const n=o.map(t=>({hito:t.fase,fecha_inicio:t.fechaInicio,fecha_fin:t.fechaFin,duracion:s(t.duracion),datosProyect_ID:e}));try{const o=await fetch(`/odata/v4/datos-cdo/planificacion?$filter=datosProyect_ID eq '${e}'`,{headers:{"x-csrf-token":t}});const a=await o.json();const s=a.value.map(e=>e.hito);for(const e of n){if(s.includes(e.hito)){const o=a.value.find(t=>t.hito===e.hito);if(o&&o.id){const a=await fetch(`/odata/v4/datos-cdo/planificacion(${o.id})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(e)});if(a.ok){const e=await a.json();console.log("Planificación actualizada con éxito:",e)}else{const e=await a.text();console.log("Error al actualizar la planificación:",e)}}else{console.log("ID no válido para el registro a actualizar:",o)}}else{const o=await fetch("/odata/v4/datos-cdo/planificacion",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(e)});if(o.ok){const e=await o.json();console.log("Planificación guardada con éxito:",e)}else{const e=await o.text();console.log("Error al guardar la planificación:",e)}}}}catch(e){console.error("Error en la operación:",e)}},insertFacturacion:async function(e){console.log("ID RECIBIDOOO   "+e);const t=this._sCsrfToken;const o=this.byId("table0");const a=o.getItems();const s=[];const n=parseFloat(this.byId("text73_172746565340569997").getText());const r=this._FacturacionID;a.forEach(function(t){const o=t.getCells();let a="";if(o[0]){if(typeof o[0].getDateValue==="function"){const e=o[0].getDateValue();if(e&&!isNaN(e.getTime())){a=e.toISOString().split("T")[0]}}else if(typeof o[0].getValue==="function"){const e=o[0].getValue();const t=e.split("/");if(t.length===3){const e=new Date(t[2],t[1]-1,t[0]);if(!isNaN(e.getTime())){a=e.toISOString().split("T")[0]}}}}const r=o[1]&&o[1].getValue?o[1].getValue():"";const i=o[2]&&o[2].getValue?parseFloat(o[2].getValue(),10):0;if(a){s.push({fechaEstimida:a,descripcionHito:r,facturacion:i,total:n,datosProyect_ID:e})}});for(let e of s){let o="POST";let a="/odata/v4/datos-cdo/Facturacion";let s={...e};console.log("Enviando datos: ",JSON.stringify(s));if(r){if(r&&typeof r==="string"){o="PATCH";a=`/odata/v4/datos-cdo/Facturacion(${r})`}else{console.error("ID de facturación no válido:",r);return}}const n=await fetch(a,{method:o,headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(s)});if(n.ok){const e=await n.json();console.log("Facturación guardada/actualizada:",e)}else{const e=await n.text();console.error("Error al guardar la Facturación:",e)}}},insertarProveedor:async function(e,t){const o=this._sCsrfToken;var a=this.byId("table2");var s=a.getItems();for(let t=0;t<s.length;t++){var n=s[t];var r=n.getCells();var i=this.byId("box_condi").getSelected();var l=this.byId("box_prove").getSelected();var c={checkCondi:i,checkProveedor:l,valueCondi:r[0].getValue(),valueProvee:r[1].getValue(),datosProyect_ID:e};if(this._proveedoresIDs&&this._proveedoresIDs[t]){var d=this._proveedoresIDs[t];await fetch(`/odata/v4/datos-cdo/ProveedoresC(${d})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(c)})}else{await fetch(`/odata/v4/datos-cdo/ProveedoresC`,{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(c)})}}},insertRecursosInternos:async function(e){const t=this._sCsrfToken;const o=this.byId("table_dimicFecha");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._recursosIDs&&this._recursosIDs[o]?this._recursosIDs[o]:null;const r=s.getCells()[0]?.getSelectedKey()||"";const i=s.getCells()[1]?.getSelectedKey()||"";const l=s.getCells()[2]?.getSelectedKey()||"";const c=s.getCells()[3]?.getValue()||"";const d=parseFloat(s.getCells()[4]?.getText()||"0");const u=parseFloat(s.getCells()[5]?.getText()||"0",10);const h=parseFloat(s.getCells()[6]?.getText()||"0",10);const p=parseFloat(s.getCells()[7]?.getText()||"0",10);const f=parseFloat(s.getCells()[8]?.getText()||"0",10);const x=parseFloat(s.getCells()[9]?.getText()||"0",10);const g=parseFloat(s.getCells()[10]?.getText()||"0",10);const y=parseFloat(s.getCells()[11]?.getText()||"0");const I=parseFloat(s.getCells()[12]?.getText()||"0");if(!r||!i||!l||!c||isNaN(d)||isNaN(y)||isNaN(I)){return}const b={Vertical_ID:r,ConceptoOferta:c,PMJ:d,year1:Number(u.toFixed(2)),year2:Number(h.toFixed(2)),year3:Number(p.toFixed(2)),year4:Number(f.toFixed(2)),year5:Number(x.toFixed(2)),year6:Number(g.toFixed(2)),total:Number(y.toFixed(2)),totalE:Number(I.toFixed(2)),tipoServicio_ID:i,PerfilServicio_ID:l,datosProyect_ID:e};console.log("ID DE ACTUALIZACION -----\x3e>>>>",n);let m;if(n){m=await fetch(`/odata/v4/datos-cdo/RecursosInternos(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}else{m=await fetch("/odata/v4/datos-cdo/RecursosInternos",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}if(m.ok){const e=await m.json();console.log("📌 Respuesta completa de la API:",e);const t=e.ID;console.log("📌 ID de Recurso obtenido:",t);if(!t){console.error("⚠️ La API no devolvió un ID válido.");return}this._RecursoInt=t;await this.InsertMesAñoRecurInterno(s,t);console.log("TERMINANDO  RECURSOS------");console.log("Fila "+(o+1)+" guardada con éxito: RECURSOS INTERNOS",e)}else{const e=await m.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}},"InsertMesAñoRecurInterno":async function(e,t){const o=this._sCsrfToken;const a=this._idleerReIn;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={RecursosInternos_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuReInter(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuReInter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertMesAñoServRecurInterno":async function(e,t){const o=this._sCsrfToken;const a=this._idleerSerInter;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={otrosGastoRecu_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuServReInter(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuServReInter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertMesAñoGastoViajRecuInterno":async function(e,t){const o=this._sCsrfToken;const a=this._idGastInterno;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={otrosRecursos_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuGastViaReInter(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuGastViaReInter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},convertToInt:function(e){const t=parseFloat(e,10);return isNaN(t)?0:t},"InsertmesAñoConsumoExterno":async function(e,t){const o=this._sCsrfToken;const a=this._idleeConsu;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={ConsumoExternos_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuConsuEx(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuConsuEx",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertmesAñoServConExterno":async function(e,t){const o=this._sCsrfToken;const a=this._idConOS;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={otrosServiciosConsu_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuServConsuEx(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuServConsuEx",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertmesAñoGViajeConExterno":async function(e,t){const o=this._sCsrfToken;const a=this._idCviajO;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={GastoViajeConsumo_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuGastoViaConsuEx(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuGastoViaConsuEx",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertMesAñoRecursoExterno":async function(e,t){const o=this._sCsrfToken;const a=this._idleeRExt;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={RecursosExternos_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuRecuExter(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuRecuExter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertMesAñosSerRecursoExterno":async function(e,t){const o=this._sCsrfToken;const a=this._idleeSerRExt;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={ServiRecurExterno_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuSerExter(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuSerExter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertMesAñosGastoRecursoExterno":async function(e,t){const o=this._sCsrfToken;const a=this._idleeGasRExt;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={GastoViajeRecExter_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuGastoViExter(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuGastoViExter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertMesAñosOtrosConceptos":async function(e,t){const o=this._sCsrfToken;const a=this._otroConcep;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={otrosConceptos_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensuOtrConcep(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensuOtrConcep",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},"InsertMesAñosLicencia":async function(e,t){const o=this._sCsrfToken;const a=this._LicenciaId;const s={};const n=e.getParent().getColumns();for(let t=12;t<e.getCells().length;t++){const o=e.getCells()[t];let a;if(typeof o.getValue==="function"){a=o.getValue()}else if(typeof o.getText==="function"){a=o.getText()}else{console.warn(`Tipo de celda inesperado en la columna dinámica (índice ${t}):`,o);continue}if(a===null||a===undefined||a===""){console.warn(`Celda vacía o nula en columna ${t}, se omite el envío para esta columna.`);continue}let r=`Columna_${t}`;if(n[t]){const e=n[t].getHeader();if(e&&typeof e.getText==="function"){r=e.getText()||r}else{console.warn("No se pudo obtener el texto del encabezado en la columna",t)}}else{console.warn(`No se puede acceder a la columna en índice ${t}`)}if(r.toLowerCase().includes("total")){console.warn(`Se omite la columna ${r} porque es un total.`);continue}console.log(`Encabezado obtenido (columnHeader) para columna ${t}:`,r);console.log(`Valor de la celda (dynamicValue) para columna ${t}:`,a);s[r]=this.convertToInt(a)}console.log("Datos a enviar:",s);for(const[e,n]of Object.entries(s)){if(n===null||n===undefined){console.warn(`No se puede enviar un valor nulo para mes ${e}.`);continue}const s={licencia_ID:t,mesAno:e,valor:n};console.log("Payload preparado para enviar:",s);let r;try{if(a){r=await fetch(`/odata/v4/datos-cdo/ValorMensulicencia(${a})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}else{r=await fetch("/odata/v4/datos-cdo/ValorMensulicencia",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":o},body:JSON.stringify(s)})}if(!r.ok){const e=await r.text();throw new Error(`Error en la llamada al servicio: ${r.statusText}, Detalles: ${e}`)}else{console.log("Datos enviados con éxito para el mes:",e)}}catch(e){console.error("Error al enviar los datos:",e)}}},insertServicioInterno:async function(e){const t=this._sCsrfToken;let o;const a=this.byId("tableServicioInterno");const s=a.getItems();for(let a=0;a<s.length;a++){const n=s[a];const r=this._idServiInterno&&this._idServiInterno[a]?this._idServiInterno[a]:null;const i=n.getCells()[0].getSelectedKey();const l=n.getCells()[1].getSelectedKey();const c=n.getCells()[3].getValue();const d=this.convertToInt(n.getCells()[4].getText());const u=parseFloat(n.getCells()[5]?.getText()||"0");const h=parseFloat(n.getCells()[6]?.getText()||"0");const p=parseFloat(n.getCells()[7]?.getText()||"0");const f=parseFloat(n.getCells()[8]?.getText()||"0");const x=parseFloat(n.getCells()[9]?.getText()||"0");const g=parseFloat(n.getCells()[10]?.getText()||"0");const y=this.convertToInt(n.getCells()[11].getText());const I=this.convertToInt(n.getCells()[12].getText());if(!i||!l||!c||isNaN(d)||isNaN(y)){return}const b={Vertical_ID:i,ConceptoOferta:c,PMJ:d,year1:Number(u.toFixed(2)),year2:Number(h.toFixed(2)),year3:Number(p.toFixed(2)),year4:Number(f.toFixed(2)),year5:Number(x.toFixed(2)),year6:Number(g.toFixed(2)),total:Number(y),totalE:I,tipoServicio_ID:l,datosProyect_ID:e};try{if(r){o=await fetch(`/odata/v4/datos-cdo/otrosGastoRecu(${r})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}else{o=await fetch("/odata/v4/datos-cdo/otrosGastoRecu",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}if(o.ok){const e=await o.json();const t=e.ID;this._idOtrosGastos=t;await this.InsertMesAñoServRecurInterno(n,t);console.log("Fila "+(a+1)+" guardada con éxito: INSERT OTROS GASTOS ",e)}else{const e=await o.text();console.error("Error al guardar la fila "+(a+1)+":",e)}}catch(e){console.error("Error en la llamada al servicio para la fila "+(a+1)+":",e)}}},insertGastoViajeInterno:async function(e){const t=this._sCsrfToken;const o=this.byId("tablGastoViajeInterno");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._IdGastoViajInter&&this._IdGastoViajInter[o]?this._IdGastoViajInter[o]:null;const r=s.getCells()[0].getSelectedKey();const i=s.getCells()[1].getSelectedKey();const l=s.getCells()[3].getValue();const c=this.convertToInt(s.getCells()[4].getText());const d=parseFloat(s.getCells()[5]?.getText()||"0");const u=parseFloat(s.getCells()[6]?.getText()||"0");const h=parseFloat(s.getCells()[7]?.getText()||"0");const p=parseFloat(s.getCells()[8]?.getText()||"0");const f=parseFloat(s.getCells()[9]?.getText()||"0");const x=parseFloat(s.getCells()[10]?.getText()||"0");const g=this.convertToInt(s.getCells()[11].getText());const y=this.convertToInt(s.getCells()[12].getText());if(!r||!i||!l||isNaN(c)||isNaN(g)||isNaN(y)){return}const I={Vertical_ID:r,ConceptoOferta:l,PMJ:c,year1:Number(d.toFixed(2)),year2:Number(u.toFixed(2)),year3:Number(h.toFixed(2)),year4:Number(p.toFixed(2)),year5:Number(f.toFixed(2)),year6:Number(x.toFixed(2)),total:Number(g.toFixed(2)),totalE:y,tipoServicio_ID:i,datosProyect_ID:e};let b;try{if(n){b=await fetch(`/odata/v4/datos-cdo/otrosRecursos(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}else{b=await fetch("/odata/v4/datos-cdo/otrosRecursos",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}if(b.ok){const e=await b.json();const t=e.ID;this._idOtrosRecu=t;await this.InsertMesAñoGastoViajRecuInterno(s,t);console.log("Fila "+(o+1)+" guardada con éxito: OTROS RECURSOS ",e)}else{const e=await b.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}catch(e){console.error("Error en la llamada al servicio para la fila "+(o+1)+":",e)}}},insertCosumoExterno:async function(e){const t=this._sCsrfToken;const o=this.byId("tablaConsuExter");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._consumoExternosIDs&&this._consumoExternosIDs[o]?this._consumoExternosIDs[o]:null;const r=s.getCells()[0].getSelectedKey()||"ValorPorDefecto";const i=s.getCells()[1].getSelectedKey()||"ValorPorDefecto";const l=s.getCells()[2].getSelectedKey()||"ValorPorDefecto";const c=s.getCells()[3].getValue()||"";const d=this.convertToInt(s.getCells()[4].getText())||0;const u=parseFloat(s.getCells()[5]?.getText()||"0");const h=parseFloat(s.getCells()[6]?.getText()||"0");const p=parseFloat(s.getCells()[7]?.getText()||"0");const f=parseFloat(s.getCells()[8]?.getText()||"0");const x=parseFloat(s.getCells()[9]?.getText()||"0");const g=parseFloat(s.getCells()[10]?.getText()||"0");const y=parseFloat(s.getCells()[11].getText())||0;const I=parseFloat(s.getCells()[12].getText())||0;if(!r||!i||!l||!c||isNaN(d)||isNaN(y)||isNaN(I)){return}const b={Vertical_ID:r,ConceptoOferta:c,PMJ:d,year1:Number(u.toFixed(2)),year2:Number(h.toFixed(2)),year3:Number(p.toFixed(2)),year4:Number(f.toFixed(2)),year5:Number(x.toFixed(2)),year6:Number(g.toFixed(2)),total:y,totalC:I,tipoServicio_ID:i,PerfilConsumo_ID:l,datosProyect_ID:e};console.log("-----\x3e>>>> DATOS TRAIDOS CONSUMO EXTERNO ----- ",b);let m;if(n){console.log("Entrando a PATCH");m=await fetch(`/odata/v4/datos-cdo/ConsumoExternos(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}else{m=await fetch("/odata/v4/datos-cdo/ConsumoExternos",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}if(m.ok){const e=await m.json();const t=e.ID;await this.InsertmesAñoConsumoExterno(s,t);this._ConsuExt=t;this._idRecursos=t;console.log("Fila "+(o+1)+" guardada con éxito: CONSUMO EXTERNO",e)}else{const e=await m.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}},insertServiConsu:async function(e){const t=this._sCsrfToken;const o=this._idConOS;const a=this.byId("idOtroserConsu");const s=a.getItems();for(let o=0;o<s.length;o++){const a=s[o];const n=this._idConsuOtrser&&this._idConsuOtrser[o]?this._idConsuOtrser[o]:null;const r=a.getCells()[0].getSelectedKey();const i=a.getCells()[1].getSelectedKey();const l=a.getCells()[3].getValue();const c=this.convertToInt(a.getCells()[4].getText());const d=parseFloat(a.getCells()[5]?.getText()||"0");const u=parseFloat(a.getCells()[6]?.getText()||"0");const h=parseFloat(a.getCells()[7]?.getText()||"0");const p=parseFloat(a.getCells()[8]?.getText()||"0");const f=parseFloat(a.getCells()[9]?.getText()||"0");const x=parseFloat(a.getCells()[10]?.getText()||"0");const g=this.convertToInt(a.getCells()[11].getText());const y=this.convertToInt(a.getCells()[12].getText());if(!r||!i||!l||isNaN(c)||isNaN(g)){return}const I={Vertical_ID:r,ConceptoOferta:l,PMJ:c,year1:Number(d.toFixed(2)),year2:Number(u.toFixed(2)),year3:Number(h.toFixed(2)),year4:Number(p.toFixed(2)),year5:Number(f.toFixed(2)),year6:Number(x.toFixed(2)),total:Number(g.toFixed(2)),totalE:y,tipoServicio_ID:i,datosProyect_ID:e};let b;try{if(n){b=await fetch(`/odata/v4/datos-cdo/otrosServiciosConsu(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}else{b=await fetch("/odata/v4/datos-cdo/otrosServiciosConsu",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}if(b.ok){const e=await b.json();const t=e.ID;this._idSerConsu=t;await this.InsertmesAñoServConExterno(a,t);console.log("Fila "+(o+1)+" guardada con éxito: INSERT SERVI ",e)}else{const e=await b.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}catch(e){console.error("Error en la llamada al servicio para la fila "+(o+1)+":",e)}}},insertGastoConsu:async function(e){const t=this._sCsrfToken;const o=this.byId("idGastoViajeConsu");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._idGastoViajeCOnsu&&this._idGastoViajeCOnsu[o]?this._idGastoViajeCOnsu[o]:null;const r=s.getCells()[0].getSelectedKey();const i=s.getCells()[1].getSelectedKey();const l=s.getCells()[3].getValue();const c=this.convertToInt(s.getCells()[4].getText());const d=parseFloat(s.getCells()[5]?.getText()||"0");const u=parseFloat(s.getCells()[6]?.getText()||"0");const h=parseFloat(s.getCells()[7]?.getText()||"0");const p=parseFloat(s.getCells()[8]?.getText()||"0");const f=parseFloat(s.getCells()[9]?.getText()||"0");const x=parseFloat(s.getCells()[10]?.getText()||"0");const g=this.convertToInt(s.getCells()[11].getText());const y=this.convertToInt(s.getCells()[12].getText());if(!r||!i||!l||isNaN(c)||isNaN(g)){return}const I={Vertical_ID:r,ConceptoOferta:l,PMJ:c,year1:Number(d.toFixed(2)),year2:Number(u.toFixed(2)),year3:Number(h.toFixed(2)),year4:Number(p.toFixed(2)),year5:Number(f.toFixed(2)),year6:Number(x.toFixed(2)),total:g,totalE:y,tipoServicio_ID:i,datosProyect_ID:e};let b;try{if(n){b=await fetch(`/odata/v4/datos-cdo/GastoViajeConsumo(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}else{b=await fetch("/odata/v4/datos-cdo/GastoViajeConsumo",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}if(b.ok){const e=await b.json();const t=e.ID;this._idGasViaConsu=t;await this.InsertmesAñoGViajeConExterno(s,t);console.log("Fila "+(o+1)+" guardada con éxito: INSERTVIAJES CONSUMO ",e)}else{const e=await b.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}catch(e){console.error("Error en la llamada al servicio para la fila "+(o+1)+":",e)}}},insertRecursoExterno:async function(e){const t=this._sCsrfToken;const o=this.byId("tablaRecExterno");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._RecursoExterno&&this._RecursoExterno[o]?this._RecursoExterno[o]:null;const r=s.getCells()[0].getSelectedKey()||"";const i=s.getCells()[1].getSelectedKey()||"";const l=s.getCells()[2].getValue()||"";const c=s.getCells()[3].getValue()||"";const d=parseFloat(s.getCells()[4].getValue())||0;const u=parseFloat(s.getCells()[5]?.getText()||"0");const h=parseFloat(s.getCells()[6]?.getText()||"0");const p=parseFloat(s.getCells()[7]?.getText()||"0");const f=parseFloat(s.getCells()[8]?.getText()||"0");const x=parseFloat(s.getCells()[9]?.getText()||"0");const g=parseFloat(s.getCells()[10]?.getText()||"0");const y=parseFloat(s.getCells()[11].getText())||0;const I=parseFloat(s.getCells()[12].getText())||0;if(!r&&!i&&!l&&!c&&d===0&&y===0&&I===0){console.warn("Fila",o+1,"está vacía, se omite.");continue}const b={Vertical_ID:r,ConceptoOferta:c,PMJ:d,year1:Number(u.toFixed(2)),year2:Number(h.toFixed(2)),year3:Number(p.toFixed(2)),year4:Number(f.toFixed(2)),year5:Number(x.toFixed(2)),year6:Number(g.toFixed(2)),total:y,totalR:I,tipoServicio_ID:i,PerfilServicio:l,datosProyect_ID:e};console.log("Payload enviado:",JSON.stringify(b,null,2));console.log("DATOS RECU EXTRA  "+JSON.stringify(b,null,2));let m;try{if(n){m=await fetch(`/odata/v4/datos-cdo/RecursosExternos(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}else{m=await fetch("/odata/v4/datos-cdo/RecursosExternos",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(b)})}if(m.ok){const e=await m.json();const t=e.ID;await this.InsertMesAñoRecursoExterno(s,t);this._idRecursoEx=t;console.log("Fila "+(o+1)+" guardada con éxito:RECURSO EXTERNO",e)}else{const e=await m.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}catch(e){console.error("Error en la llamada al servicio para la fila "+(o+1)+":",e)}}},insertServicioRecuExter:async function(e){console.log("he entrado a SERVICIO EXT ");const t=this._sCsrfToken;const o=this.byId("idServiExterno");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._idOtroSerEx&&this._idOtroSerEx[o]?this._idOtroSerEx[o]:null;const r=s.getCells()[0].getSelectedKey();const i=s.getCells()[1].getSelectedKey();const l=s.getCells()[3].getValue();const c=this.convertToInt(s.getCells()[4].getText());const d=parseFloat(s.getCells()[5]?.getText()||"0");const u=parseFloat(s.getCells()[6]?.getText()||"0");const h=parseFloat(s.getCells()[7]?.getText()||"0");const p=parseFloat(s.getCells()[8]?.getText()||"0");const f=parseFloat(s.getCells()[9]?.getText()||"0");const x=parseFloat(s.getCells()[10]?.getText()||"0");const g=this.convertToInt(s.getCells()[11].getText());const y=this.convertToInt(s.getCells()[12].getText());if(!r||!i||!l||isNaN(c)||isNaN(g)){return}const I={Vertical_ID:r,ConceptoOferta:l,PMJ:c,year1:Number(d.toFixed(2)),year2:Number(u.toFixed(2)),year3:Number(h.toFixed(2)),year4:Number(p.toFixed(2)),year5:Number(f.toFixed(2)),year6:Number(x.toFixed(2)),total:g,totalE:y,tipoServicio_ID:i,datosProyect_ID:e};let b;if(n){b=await fetch(`/odata/v4/datos-cdo/serviRecurExter(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}else{b=await fetch("/odata/v4/datos-cdo/serviRecurExter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}if(b.ok){const e=await b.json();const t=e.ID;this._idServiExterno=t;await this.InsertMesAñosSerRecursoExterno(s,t);console.log("Fila "+(o+1)+" guardada con éxito: SERVICIO EXTERNO  ",e)}else{const e=await b.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}},insertGastoViajeExterno:async function(e){const t=this._sCsrfToken;const o=this._idReExGas;const a=this.byId("idGastoRecuExter");const s=a.getItems();for(let o=0;o<s.length;o++){const a=s[o];const n=this._idGasViaReEx&&this._idGasViaReEx[o]?this._idGasViaReEx[o]:null;const r=a.getCells()[0].getSelectedKey();const i=a.getCells()[1].getSelectedKey();const l=a.getCells()[3].getValue();const c=this.convertToInt(a.getCells()[4].getText());const d=parseFloat(a.getCells()[5]?.getText()||"0");const u=parseFloat(a.getCells()[6]?.getText()||"0");const h=parseFloat(a.getCells()[7]?.getText()||"0");const p=parseFloat(a.getCells()[8]?.getText()||"0");const f=parseFloat(a.getCells()[9]?.getText()||"0");const x=parseFloat(a.getCells()[10]?.getText()||"0");const g=this.convertToInt(a.getCells()[11].getText());const y=this.convertToInt(a.getCells()[12].getText());if(!r||!i||!l||isNaN(c)||isNaN(g)){return}const I={Vertical_ID:r,ConceptoOferta:l,PMJ:c,year1:Number(d.toFixed(2)),year2:Number(u.toFixed(2)),year3:Number(h.toFixed(2)),year4:Number(p.toFixed(2)),year5:Number(f.toFixed(2)),year6:Number(x.toFixed(2)),total:g,totalE:y,tipoServicio_ID:i,datosProyect_ID:e};console.log("Payload de Gasto Externo:",I);console.log("PAYLOAD DE GASTO EXTERNO "+JSON.stringify(I,null,2));let b;if(n){b=await fetch(`/odata/v4/datos-cdo/GastoViajeRecExter(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}else{b=await fetch("/odata/v4/datos-cdo/GastoViajeRecExter",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(I)})}if(b.ok){const e=await b.json();const t=e.ID;this._idGastoRecuExter=t;await this.InsertMesAñosGastoRecursoExterno(a,t);console.log("Fila "+(o+1)+" guardada con éxito: INSERTVIAJES RECURSO EXTERNO  ",e)}else{const e=await b.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}},insertarOtrosConceptos:async function(e){const t=this._sCsrfToken;const o=this.byId("tablaInfrestuctura");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._OtrosConceptos&&this._OtrosConceptos[o]?this._OtrosConceptos[o]:null;const r=s.getCells()[0].getSelectedKey();const i=s.getCells()[2].getValue();const l=parseFloat(s.getCells()[3]?.getText());const c=parseFloat(s.getCells()[4]?.getText()||"0");const d=parseFloat(s.getCells()[5]?.getText()||"0");const u=parseFloat(s.getCells()[6]?.getText()||"0");const h=parseFloat(s.getCells()[7]?.getText()||"0");const p=parseFloat(s.getCells()[8]?.getText()||"0");const f=parseFloat(s.getCells()[9]?.getText()||"0");const x=parseFloat(s.getCells()[10]?.getText());const g=parseFloat(s.getCells()[11]?.getText());if(!r||!i){return}const y={Vertical_ID:r,ConceptoOferta:i,PMJ:l,year1:Number(c.toFixed(2)),year2:Number(d.toFixed(2)),year3:Number(u.toFixed(2)),year4:Number(h.toFixed(2)),year5:Number(p.toFixed(2)),year6:Number(f.toFixed(2)),total:x,totalC:g,datosProyect_ID:e};let I;try{if(n){I=await fetch(`/odata/v4/datos-cdo/otrosConceptos(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(y)})}else{I=await fetch("/odata/v4/datos-cdo/otrosConceptos",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(y)})}if(I.ok){const e=await I.json();const t=e.ID;this._idOtrosConcep=t;await this.InsertMesAñosOtrosConceptos(s,t);console.log("Fila "+(o+1)+" guardada con éxito: INSERTVIAJES RECURSO EXTERNO  ",e)}else{const e=await I.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}catch(e){console.error("Error en la llamada al servicio para la fila "+(o+1)+":",e)}}},insertarLicencia:async function(e){const t=this._sCsrfToken;const o=this.byId("tablaLicencia");const a=o.getItems();for(let o=0;o<a.length;o++){const s=a[o];const n=this._idLicencia&&this._idLicencia[o]?this._idLicencia[o]:null;const r=s.getCells()[0].getSelectedKey();const i=s.getCells()[2].getValue();const l=parseFloat(s.getCells()[3]?.getText());const c=parseFloat(s.getCells()[5]?.getText()||"0");const d=parseFloat(s.getCells()[6]?.getText()||"0");const u=parseFloat(s.getCells()[7]?.getText()||"0");const h=parseFloat(s.getCells()[8]?.getText()||"0");const p=parseFloat(s.getCells()[9]?.getText()||"0");const f=parseFloat(s.getCells()[10]?.getText()||"0");const x=parseFloat(s.getCells()[4]?.getText());const g=parseFloat(s.getCells()[5]?.getText());if(!r||!i){return}const y={Vertical_ID:r,ConceptoOferta:i,PMJ:l,year1:Number(c.toFixed(2)),year2:Number(d.toFixed(2)),year3:Number(u.toFixed(2)),year4:Number(h.toFixed(2)),year5:Number(p.toFixed(2)),year6:Number(f.toFixed(2)),total:x,totalC:g,datosProyect_ID:e};let I;try{if(n){I=await fetch(`/odata/v4/datos-cdo/LicenciasCon(${n})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(y)})}else{I=await fetch("/odata/v4/datos-cdo/LicenciasCon",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(y)})}if(I.ok){const e=await I.json();const t=e.ID;await this.InsertMesAñosLicencia(s,t);console.log("Fila "+(o+1)+" guardada con éxito: INSERTAR LICENCIA ",e)}else{const e=await I.text();console.error("Error al guardar la fila "+(o+1)+":",e)}}catch(e){console.error("Error en la llamada al servicio para la fila "+(o+1)+":",e)}}},convertToInt:function(e){const t=parseFloat(e,10);return isNaN(t)?null:t},insertClientFactura:async function(e){const t=this._sCsrfToken;var o=this.byId("table_clienteFac");var a=o.getItems();var s=[];var n=0;a.forEach(function(t){var o=t.getCells();var a=o[0]?o[0].getMetadata().getName()==="sap.m.Input"?o[0].getValue():o[0].getText():"";var r=o[1]?o[1].getMetadata().getName()==="sap.m.Input"?o[1].getValue():o[1].getText():"";if(a.trim()==="Total"){return}var i=this.byId("text73_172746565340567").getText();var i=parseFloat(i.replace("%","").replace(",","."))||0;if(a===""&&r===""){return}s.push({juridica:a,oferta:r,total:i,datosProyect_ID:e});n+=parseFloat(r)||0}.bind(this));try{const o=await fetch(`/odata/v4/datos-cdo/ClientFactura?$filter=datosProyect_ID eq '${e}'`,{method:"GET",headers:{Accept:"application/json","x-csrf-token":t}});if(!o.ok)throw new Error("Error al verificar existencia de las Facturas");const a=await o.json();const n=a.value||[];for(let e of s){let o=n.find(t=>t.juridica===e.juridica);if(o){const a=await fetch(`/odata/v4/datos-cdo/ClientFactura(${o.ID})`,{method:"PATCH",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(e)});if(a.ok){console.log(`Factura actualizada:`,await a.json())}else{console.log("Error al actualizar Factura:",await a.text())}}else{const o=await fetch("/odata/v4/datos-cdo/ClientFactura",{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":t},body:JSON.stringify(e)});if(o.ok){console.log("Factura insertada:",await o.json())}else{console.log("Error al insertar Factura:",await o.text())}}}}catch(e){console.error("Error en la operación:",e)}},metodoSumar:function(){var e=this.byId("table_clienteFac");var t=e.getItems();var o=0;t.forEach(function(e,a){if(a<t.length-1){var s=e.getCells();var n="";var r=s[1];if(r.getMetadata().getName()==="sap.m.Input"){n=r.getValue()}n=n.trim();var i=parseFloat(n);if(!isNaN(i)){o+=i;console.log("Total acumulado hasta ahora:",o)}}});this.byId("text73_172746565340567").setText(o.toFixed(2)+"%");this._totalOferta=o},metodoSumarFac:function(){var e=this.byId("table0");var t=e.getItems();var o=0;console.log("Cantidad de filas en la tabla:",t.length);t.forEach(function(e,a){if(a<t.length-1){var s=e.getCells();var n="";var r=s[2];if(r.getMetadata().getName()==="sap.m.Input"){n=r.getValue()}n=n.trim();var i=parseFloat(n);console.log("Fila:",a,"Valor de la celda:",n,"-> Valor numérico:",i);if(!isNaN(i)){o+=i;console.log("Total acumulado hasta ahora:",o)}}});this.byId("text73_172746565340569997").setText(o.toFixed(2));console.log("Total de la columna oferta:",o)},formatDuration:function(e){const t=Math.floor(e);const o=Math.floor((e-t)*60);const a=0;return`${String(t).padStart(2,"0")}:${String(o).padStart(2,"0")}:${String(a).padStart(2,"0")}`},onClearFields:function(){var e=this.getView();function t(e){if(e instanceof sap.m.Input){e.setValue("")}else if(e instanceof sap.m.Select||e instanceof sap.m.ComboBox){e.setSelectedKey("")}else if(e instanceof sap.m.DatePicker){e.setDateValue(null)}else if(e instanceof sap.m.TextArea){e.setValue("")}else if(e instanceof sap.m.CheckBox){e.setSelected(false)}if(e.getAggregation){const o=e.getMetadata().getAllAggregations();for(let a in o){const o=e.getAggregation(a);if(Array.isArray(o)){o.forEach(t)}else if(o instanceof sap.ui.core.Control){t(o)}}}}e.findAggregatedObjects(false,t)},onSelectIniMethod:function(e){this.onInputChange(e);this.onSelectOpx(e)},onselectmethodsetinfo:function(e){this.onInputChange(e);this.fechasDinamicas(e);this.CaseAno()},CaseAno:function(e){var t=this.getView().byId("date_inico");var o=this.getView().byId("date_fin");var a=t.getDateValue();var s=o.getDateValue();if(a&&s){var n=a.getFullYear();var r=s.getFullYear();if(n>r){sap.m.MessageToast.show("La fecha de inicio no puede ser mayor que la fecha de fin.");return}var i=[];for(var l=n;l<=r;l++){i.push(l)}let e=this.calcularDistribucionInput();if(!e||!e.valoresDistribuidos)return;let t=e.valoresDistribuidos;let o=e.acumuladoTextPorTablaYAnio;if(!t||Object.keys(t).length===0){return}var c=this;var d=0;var u={};var h={};var p={};i.forEach(e=>{u[e]=0;h[e]={}});Object.keys(t).forEach(function(e){i.forEach(function(o){if(t[e]&&t[e][o]){t[e][o].forEach(e=>{var t=e.elemento;var a=parseFloat(e.valor)||0;u[o]+=a;d+=a;if(!h[o][t]){h[o][t]=0}h[o][t]+=a;if(!p[t]){p[t]=0}p[t]+=a})}})});i.forEach(e=>{switch(e){case 2025:c.getView().byId("tipoS2025").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteT2025").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("cellCostesTotales_1_1").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TRecurso2025").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteD2025").setText((h[e]["Input2"]||0).toFixed(2)+"€");c.getView().byId("costes_indirectos2025").setText((h[e]["Input3"]||0).toFixed(2)+"€");this.getView().byId("text129CosteDi").setText((o[e]?.table_dimicFecha??0).toFixed(2)+"€");this.getView().byId("text130CosteDi").setText((o[e]?.tablaConsuExter??0).toFixed(2)+"€");this.getView().byId("text210").setText((o[e]?.tablGastoViajeInterno??0).toFixed(2)+"€");this.getView().byId("text400").setText((o[e]?.tablaRecExterno??0).toFixed(2)+"€");this.getView().byId("text133").setText((o[e]?.tablaLicencia??0).toFixed(2)+"€");this.getView().byId("text200").setText((o[e]?.tablaInfrestuctura??0).toFixed(2)+"€");let t=(o[2025]?.table_dimicFecha||0)+(o[2025]?.tablaConsuExter||0)+(o[2025]?.tablGastoViajeInterno||0)+(o[2025]?.tablaRecExterno||0)+(o[2025]?.tablaLicencia||0)+(o[2025]?.tablaInfrestuctura||0);c.getView().byId("text75_1729073618729").setText(t.toFixed(2)+"€");break;case 2026:c.getView().byId("tipoS2026").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TRecurso2026").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteT2026").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("cellCostesTotales_1_2").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteD2026").setText((h[e]["Input2"]||0).toFixed(2)+"€");c.getView().byId("costes_indirectos2026").setText((h[e]["Input3"]||0).toFixed(2)+"€");c.getView().byId("text128CosteDi").setText((o[e]?.table_dimicFecha??0).toFixed(2)+"€");c.getView().byId("text134CosteDi").setText((o[e]?.tablaConsuExter??0).toFixed(2)+"€");this.getView().byId("text211").setText((o[e]?.tablGastoViajeInterno??0).toFixed(2)+"€");this.getView().byId("text401").setText((o[e]?.tablaRecExterno??0).toFixed(2)+"€");this.getView().byId("text1341").setText((o[e]?.tablaLicencia??0).toFixed(2)+"€");this.getView().byId("text201").setText((o[e]?.tablaInfrestuctura??0).toFixed(2)+"€");let a=(o[2026]?.table_dimicFecha||0)+(o[2026]?.tablaConsuExter||0)+(o[2026]?.tablGastoViajeInterno||0)+(o[2026]?.tablaRecExterno||0)+(o[2026]?.tablaLicencia||0)+(o[2026]?.tablaInfrestuctura||0);c.getView().byId("text76_1729073618732").setText(a.toFixed(2)+"€");break;case 2027:c.getView().byId("tipoS2027").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TRecurso2027").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteT2027").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteD2027").setText((h[e]["Input2"]||0).toFixed(2)+"€");c.getView().byId("costes_indirectos2027").setText((h[e]["Input3"]||0).toFixed(2)+"€");c.getView().byId("text135").setText((o[e]?.tablaConsuExter??0).toFixed(2)+"€");c.getView().byId("text140CosteDi").setText((o[e]?.table_dimicFecha??0).toFixed(2)+"€");this.getView().byId("text212").setText((o[e]?.tablGastoViajeInterno??0).toFixed(2)+"€");this.getView().byId("text402").setText((o[e]?.tablaRecExterno??0).toFixed(2)+"€");this.getView().byId("text1352").setText((o[e]?.tablaLicencia??0).toFixed(2)+"€");this.getView().byId("text202").setText((o[e]?.tablaInfrestuctura??0).toFixed(2)+"€");let s=(o[2027]?.table_dimicFecha||0)+(o[2027]?.tablaConsuExter||0)+(o[2027]?.tablGastoViajeInterno||0)+(o[2027]?.tablaRecExterno||0)+(o[2027]?.tablaLicencia||0)+(o[2027]?.tablaInfrestuctura||0);c.getView().byId("text77_1729073618734").setText(s.toFixed(2)+"€");break;case 2028:c.getView().byId("tipoS2028").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TRecurso2027").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteT2028").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("text141CosteDi").setText((o[e]?.table_dimicFecha??0).toFixed(2)+"€");c.getView().byId("text136").setText((o[e]?.tablaConsuExter??0).toFixed(2)+"€");this.getView().byId("text213").setText((o[e]?.tablGastoViajeInterno??0).toFixed(2)+"€");this.getView().byId("text403").setText((o[e]?.tablaRecExterno??0).toFixed(2)+"€");this.getView().byId("text1363").setText((o[e]?.tablaLicencia??0).toFixed(2)+"€");this.getView().byId("text203").setText((o[e]?.tablaInfrestuctura??0).toFixed(2)+"€");let n=(o[2028]?.table_dimicFecha||0)+(o[2028]?.tablaConsuExter||0)+(o[2028]?.tablGastoViajeInterno||0)+(o[2028]?.tablaRecExterno||0)+(o[2028]?.tablaLicencia||0)+(o[2028]?.tablaInfrestuctura||0);c.getView().byId("text300").setText(n.toFixed(2)+"€");break;case 2029:c.getView().byId("tipoS2029").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TRecurso2027").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteT2029").setText((h[e]["Input1"]||0).toFixed(2)+"€");c.getView().byId("text143CosteDi").setText((o[e]?.table_dimicFecha??0).toFixed(2)+"€");this.getView().byId("text214").setText((o[e]?.tablGastoViajeInterno??0).toFixed(2)+"€");this.getView().byId("text138").setText((o[e]?.tablaConsuExter??0).toFixed(2)+"€");this.getView().byId("text404").setText((o[e]?.tablaRecExterno??0).toFixed(2)+"€");this.getView().byId("text1374").setText((o[e]?.tablaLicencia??0).toFixed(2)+"€");this.getView().byId("text204").setText((o[e]?.tablaInfrestuctura??0).toFixed(2)+"€");let r=(o[2029]?.table_dimicFecha||0)+(o[2029]?.tablaConsuExter||0)+(o[2029]?.tablGastoViajeInterno||0)+(o[2029]?.tablaRecExterno||0)+(o[2029]?.tablaLicencia||0)+(o[2029]?.tablaInfrestuctura||0);c.getView().byId("text301").setText(r.toFixed(2)+"€");break}});c.getView().byId("tipoSTotal").setText((p["Input1"]||0).toFixed(2)+"€");c.getView().byId("TRecursoTotal").setText((p["Input1"]||0).toFixed(2)+"€");c.getView().byId("TSCosteTotalD").setText((p["Input2"]||0).toFixed(2)+"€");c.getView().byId("TSCosteTotal").setText((p["Input1"]||0).toFixed(2)+"€");c.getView().byId("cellCostesTotales_1_7").setText((p["Input1"]||0).toFixed(2)+"€");c.getView().byId("costes_indirectosTotal").setText((p["Input3"]||0).toFixed(2)+"€");c.getView().byId("text70_1729079344938").setText((p["Text1"]||0).toFixed(2)+"€");c.getView().byId("text137").setText((p["Text4"]||0).toFixed(2)+"€")}else{}},onDateChange:function(){this.updateVizFrame()},fechasDinamicas:function(){var e=this.getView().byId("date_inico");var t=this.getView().byId("date_fin");if(!e||!t){console.error("Error: No se pudieron obtener los DatePickers.");return}var o=e.getDateValue();var a=t.getDateValue();if(!o||!a){return}var s=this.getMonthsDifference(o,a);var n=["box0_1714747137718","box0_1727879568594","box0_1727879817594","box0_1721815443829","box0_1727948724833","box0_1727950351451","box0_17218154429","box0_1727953252765","box1_1727953468615","box0_17254429","box0_1727955568380"];n.forEach(e=>{var t=this.getView().byId(e);if(t){t.setWidth(s>3?"3000px":"100%")}});var r=["tablaConsuExter","table_dimicFecha","tablaRecExterno","idOtroserConsu","idGastoViajeConsu","idServiExterno","idGastoRecuExter","tablaInfrestuctura","tablaLicencia","tableServicioInterno","tablGastoViajeInterno"];r.forEach(e=>{var t=this.getView().byId(e);if(!t){console.error("Error: No se pudo obtener la tabla con ID "+e);return}var a=t.getColumns().length;for(var n=a-1;n>=0;n--){var r=t.getColumns()[n].getHeader();if(r&&/\d{4}-\w+/.test(r.getText())){t.removeColumn(t.getColumns()[n])}}var i=this.findTotalColumnIndex(t);for(var l=0;l<=s;l++){var c=new Date(o.getFullYear(),o.getMonth()+l,1);var d=c.getFullYear();var u=c.toLocaleString("default",{month:"long"});var h=d+"-"+u;var p=new sap.m.Column({header:new sap.m.Label({text:h}),width:"100px"});t.insertColumn(p,i+1+l);for(var f=0;f<t.getItems().length;f++){var x=t.getItems()[f];this._inputsDinamicos=this._inputsDinamicos||{};this._inputsDinamicos[e]=this._inputsDinamicos[e]||{};this._inputsDinamicos[e][f]=this._inputsDinamicos[e][f]||{};var g=new sap.m.Input({placeholder:"0.00",change:this.handleInputChange.bind(this,e,f,l,d)});x.addCell(g);this._inputsDinamicos[e][f][h]=g}}var y=this.getView().byId("scroll_container_"+e);if(y){y.setHorizontal(true);y.setVertical(false);y.setWidth("100%")}})},resetTableAccumulations:function(e){if(!this._yearlySums[e]){this._yearlySums[e]={}}if(!this._yearlySums[e][this.currentRow]){this._yearlySums[e][this.currentRow]={}}},handleInputChange:function(e,t,o,a,s){var n=parseFloat(s.getParameter("value"))||0;if(this.currentTable!==e){this.resetTableAccumulations(e);this.currentTable=e}if(!this._tableValues)this._tableValues={};if(!this._tableValues[e])this._tableValues[e]={};if(!this._tableValues[e][t])this._tableValues[e][t]={};var r=this._tableValues[e][t][o]||0;this._tableValues[e][t][o]=n;if(!this._editedRows)this._editedRows={};if(!this._editedRows[e])this._editedRows[e]=new Set;this._editedRows[e].add(t);this._tableChanged=true;if(!this._yearlySums[t])this._yearlySums[t]={};if(this._yearlySums[t][a]!==undefined){this._yearlySums[t][a]-=r}this._yearlySums[t][a]=(this._yearlySums[t][a]||0)+n;if(!this._yearlySums[e])this._yearlySums[e]={};if(!this._yearlySums[e][t])this._yearlySums[e][t]={};if(!this._yearlySums[e][t][a])this._yearlySums[e][t][a]=0;this._yearlySums[e][t][a]-=r;this._yearlySums[e][t][a]+=n;this.updateTotalField(e,t,n);if(!this._insercionesPorAnoYTabla)this._insercionesPorAnoYTabla={};if(!this._insercionesPorAnoYTabla[a])this._insercionesPorAnoYTabla[a]={};if(!this._insercionesPorAnoYTabla[a][e])this._insercionesPorAnoYTabla[a][e]=0;this._insercionesPorAnoYTabla[a][e]++;if(!this._insercionesPorTabla)this._insercionesPorTabla={};if(!this._insercionesPorTabla[e])this._insercionesPorTabla[e]=0;this._insercionesPorTabla[e]++;this.calcularPorcentajeInserciones();this.CaseAno(e)},calcularPorcentajeInserciones:function(){let e=0;for(let t in this._insercionesPorTabla){e+=this._insercionesPorTabla[t]}if(e===0){console.log(" No hay inserciones registradas.");return}this._porcentajesPorTabla={};for(let t in this._insercionesPorTabla){let o=this._insercionesPorTabla[t]/e*100;this._porcentajesPorTabla[t]=o}if(this._insercionesPorAnoYTabla){for(let t in this._insercionesPorAnoYTabla){for(let o in this._insercionesPorAnoYTabla[t]){const a=this._insercionesPorAnoYTabla[t][o]||0;let s=a/e*100}}}},calcularDistribucionInput:function(){let e=[{id:"input0_1725625161348",nombre:"Input1",tipo:"input"},{id:"totalSubtotal",nombre:"Input2",tipo:"input"},{id:"input2_1724756105",nombre:"Input3",tipo:"input"},{id:"text33",nombre:"Text1",tipo:"text",tabla:"table_dimicFecha"},{id:"text32_1723542481599",nombre:"Text2",tipo:"text",tabla:"table_dimicFecha"},{id:"text32_172341599",nombre:"Text3",tipo:"text",tabla:"table_dimicFecha"},{id:"text560",nombre:"Text4",tipo:"text",tabla:"tablaConsuExter"},{id:"text56",nombre:"Text5",tipo:"text",tabla:"tablaConsuExter"},{id:"text50006",nombre:"Text6",tipo:"text",tabla:"tablaConsuExter"},{id:"text32_172354299",nombre:"Text7",tipo:"text",tabla:"tableServicioInterno"},{id:"text3888",nombre:"Text8",tipo:"text",tabla:"tablGastoViajeInterno"},{id:"text32_172354299",nombre:"text40",tipo:"text",tabla:"tablGastoViajeInterno"},{id:"text56000",nombre:"Text8",tipo:"text",tabla:"tablaRecExterno"},{id:"text5644",nombre:"text9",tipo:"text",tabla:"tablaRecExterno"},{id:"text500406",nombre:"text10",tipo:"text",tabla:"tablaRecExterno"},{id:"text90_1729173466313",nombre:"text11",tipo:"text",tabla:"tablaLicencia"},{id:"text75_1729177384465",nombre:"text12",tipo:"text",tabla:"tablaLicencia"},{id:"text78_1729173199360",nombre:"t ext13",tipo:"text",tabla:"tablaInfrestuctura"},{id:"text32_171145299",nombre:"text14",tipo:"text",tabla:"tablaInfrestuctura"}];let t={};let o={};e.forEach(e=>{let a=this.byId(e.id);if(!a){console.error(`❌ No se encontró el elemento con ID '${e.id}'`);return}let s=e.tipo==="input"?parseFloat(a.getValue())||0:parseFloat(a.getText())||0;if(s===0){return}for(let a in this._porcentajesPorTabla){if(e.tipo==="text"&&a!==e.tabla){continue}let n=this._porcentajesPorTabla[a];let r=e.tipo==="text"?s:s*n/100;if(!t[a]){t[a]={}}let i=Object.entries(this._insercionesPorAnoYTabla).filter(([e,t])=>t[a]).map(([e])=>e);i.forEach(n=>{let r=this._insercionesPorAnoYTabla[n][a];if(!this._insercionesPorTabla[a]||this._insercionesPorTabla[a]===0){return}if(!t[a][n]){t[a][n]=[]}if(!o[n]){o[n]={}}if(!o[n][a]){o[n][a]=0}if(e.tipo==="text"){let r=i.length;if(r>1){let i=100/r;let l=s*i/100;t[a][n].push({elemento:e.nombre,porcentaje:i.toFixed(2),valor:l.toFixed(2)});o[n][a]+=parseFloat(l.toFixed(2))}else{t[a][n].push({elemento:e.nombre,porcentaje:100,valor:s.toFixed(2)});o[n][a]+=parseFloat(s.toFixed(2))}}else{let o=r/this._insercionesPorTabla[a]*100;let i=s*o/100;t[a][n].push({elemento:e.nombre,porcentaje:o.toFixed(2),valor:i.toFixed(2)})}})}});return{valoresDistribuidos:t,acumuladoTextPorTablaYAnio:o}},updateTotalField:function(e,t,o,a,s){var n=0;var r=0;var i=0;var l=0;var c=0;let d=0;var u,h,p;var f=this.getTotalForYear(2025,t,e);var x=this.getTotalForYear(2026,t,e);var g=this.getTotalForYear(2027,t,e);var y=this.getTotalForYear(2028,t,e);var I=this.getTotalForYear(2029,t,e);var b=this.getTotalForYear(2030,t,e);if(e==="tablaConsuExter"){var m=this.byId("tablaConsuExter");if(!m){console.error(" 2. La tabla 'tablaConsuExter' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){n=o[4].getText();o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");r=f+x+g+y+I+b;var a=n*r;o[11].setText(r.toFixed(2)+"€");o[12].setText(a+"€")}}});this.onSumarColumna(e)}else if(e==="table_dimicFecha"){var m=this.byId("table_dimicFecha");if(!m){console.error("3. La tabla 'table_dimicFecha' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){var a=o[4].getText();o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");i=f+x+g+y+I+b;var s=a*i;o[11].setText(i.toFixed(2));o[12].setText(s+"€")}}});this.onSumarColumna(e)}else if(e==="tablaRecExterno"){var m=this.byId("tablaRecExterno");if(!m){console.error("4. La tabla 'tablaRecExterno' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){var a=o[4].getValue();o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");l=f+x+g+y+I+b;o[11].setText(l.toFixed(2)+"€");var s=a*l;o[12].setText(s+"€")}}});this.onSumarColumna(e)}else if(e==="idOtroserConsu"){var m=this.byId("idOtroserConsu");if(!m){console.error("La tabla 'idOtroserConsu' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[11].setText(a.toFixed(2)+"€");o[12].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else if(e==="idGastoViajeConsu"){var m=this.byId("idGastoViajeConsu");if(!m){console.error("La tabla 'idGastoViajeConsu' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[11].setText(a.toFixed(2)+"€");o[12].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else if(e==="idServiExterno"){var m=this.byId("idServiExterno");if(!m){console.error("La tabla 'idServiExterno' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[11].setText(a.toFixed(2)+"€");o[12].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else if(e==="idGastoRecuExter"){var m=this.byId("idGastoRecuExter");if(!m){console.error("La tabla 'idGastoRecuExter' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[11].setText(a.toFixed(2)+"€");o[12].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else if(e==="tablaInfrestuctura"){var m=this.byId("tablaInfrestuctura");if(!m){console.error("La tabla 'tablaInfrestuctura' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){o[4].setText(f.toFixed(2)+"€");o[5].setText(x.toFixed(2)+"€");o[6].setText(g.toFixed(2)+"€");o[7].setText(y.toFixed(2)+"€");o[8].setText(I.toFixed(2)+"€");o[9].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[10].setText(a.toFixed(2)+"€");o[11].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else if(e==="tablaLicencia"){var m=this.byId("tablaLicencia");if(!m){console.error("La tabla 'tablaLicencia' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=12){o[4].setText(f.toFixed(2)+"€");o[5].setText(x.toFixed(2)+"€");o[6].setText(g.toFixed(2)+"€");o[7].setText(y.toFixed(2)+"€");o[8].setText(I.toFixed(2)+"€");o[9].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[10].setText(a.toFixed(2)+"€");o[11].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else if(e==="tableServicioInterno"){var m=this.byId("tableServicioInterno");if(!m){console.error("La tabla 'tableServicioInterno' no fue encontrada.");return}this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[11].setText(a.toFixed(2)+"€");o[12].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else if(e==="tablGastoViajeInterno"){var m=this.byId("tablGastoViajeInterno");if(!m){console.error("La tabla 'tablGastoViajeInterno' no fue encontrada.");return}console.log("tabla encontrada ",e);this._editedRows[e].forEach(function(e){var t=m.getItems()[e];if(t){var o=t.getCells();if(o&&o.length>=11){o[5].setText(f.toFixed(2)+"€");o[6].setText(x.toFixed(2)+"€");o[7].setText(g.toFixed(2)+"€");o[8].setText(y.toFixed(2)+"€");o[9].setText(I.toFixed(2)+"€");o[10].setText(b.toFixed(2)+"€");var a=f+x+g+y+I+b;o[11].setText(a.toFixed(2)+"€");o[12].setText(a.toFixed(2)+"€")}}});this.onSumarColumna(e)}else{console.error("Tabla no reconocida: "+e)}this._editedRows[e].clear()},getTotalForYear:function(e,t,o){if(Number(t)!==Number(this.currentRow)||o!==this.currentTableId){this.resetTableAccumulations(o);this.currentRow=Number(t);this.currentTableId=o}if(!this._yearlySums[o]){console.warn(`⚠️ No hay datos para la tabla ${o}. Creando estructura.`);this._yearlySums[o]={}}if(!this._yearlySums[o][t]){console.warn(`⚠️ No hay datos para la fila ${t} en la tabla ${o}. Creando estructura.`);this._yearlySums[o][t]={}}if(this._yearlySums[o][t][e]===undefined){this._yearlySums[o][t][e]=0}return this._yearlySums[o][t][e]},onSumarColumna:function(e){var t=this.byId(e);var o=t.getItems();var a=0;var s=0;var n=0;var r=0;var i=0;o.forEach(function(e){var t=e.getCells();var o=t.length>11&&t[11].getText?t[11].getText():"0";var l=t.length>12&&t[12].getText?t[12].getText():"0";a+=parseFloat(o)||0;s+=parseFloat(l)||0;n+=parseFloat(o)||0;r+=parseFloat(o)||0;i+=parseFloat(o)||0});if(e==="table_dimicFecha"){this.byId("inputReInter").setValue(a.toFixed(2));this.byId("inputServi1").setValue(s.toFixed(2)+"€")}else if(e==="tableServicioInterno"){this.byId("inputOtrosServi1").setValue(n.toFixed(2)+"€")}else if(e==="tablGastoViajeInterno"){this.byId("inputGastoVia1").setValue(r.toFixed(2)+"€")}else if(e==="tablaLicencia"){this.byId("input0_1724758359").setValue(n.toFixed(2)+"€")}else if(e==="tablaRecExterno"){this.byId("inputRcurExtern").setValue(a.toFixed(2)+"€");this.byId("inputServi").setValue(s.toFixed(2)+"€")}else if(e==="idServiExterno"){this.byId("input10_1724757017406").setValue(a.toFixed(2)+"€")}else if(e==="idGastoRecuExter"){this.byId("input9_1724757015442").setValue(a.toFixed(2)+"€")}else if(e==="tablaConsuExter"){this.byId("inputServi2").setValue(s.toFixed(2));this.byId("inputConsuEx").setValue(a.toFixed(2))}else if(e==="idOtroserConsu"){this.byId("inputOtroSer2").setValue(n.toFixed(2)+"€")}else if(e==="idGastoViajeConsu"){this.byId("inptGastoVi2").setValue(n.toFixed(2)+"€")}else if(e==="tablaInfrestuctura"){this.byId("totalInfraestruc").setValue(a.toFixed(2)+"€")}this.onColumnTotales();return a},onColumnTotales:function(){var e=0;var t=0;var o=0;var a=0;var s=0;var n=parseFloat(this.byId("inputReInter").getValue())||0;var r=parseFloat(this.byId("inputConsuEx").getValue())||0;var i=parseFloat(this.byId("inputRcurExtern").getValue())||0;e=n+r+i;this.byId("inputTotalJor").setValue(e.toFixed(2));var l=parseFloat(this.byId("inputServi1").getValue())||0;var c=parseFloat(this.byId("inputOtrosServi1").getValue())||0;var d=parseFloat(this.byId("inputGastoVia1").getValue())||0;t=l+c+d;this.byId("totalRecuInter").setValue(t.toFixed(2));var u=parseFloat(this.byId("inputServi2").getValue())||0;var h=parseFloat(this.byId("inputOtroSer2").getValue())||0;var p=parseFloat(this.byId("inptGastoVi2").getValue())||0;o=u+h+p;this.byId("totalConsuExternot").setValue(o.toFixed(2));var f=parseFloat(this.byId("inputServi").getValue())||0;var x=parseFloat(this.byId("input10_1724757017406").getValue())||0;var g=parseFloat(this.byId("input9_1724757015442").getValue())||0;a=f+x+g;this.byId("totaRecurExterno").setValue(a.toFixed(2));var y=parseFloat(this.byId("totalInfraestruc").getValue())||0;var I=parseFloat(this.byId("input0_1724758359").getValue())||0;s=t+o+a+y+I;var b=new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s);this.byId("totalSubtotal").setValue(b);var m=parseFloat(this.byId("input2_172475612").getValue())||0;var v=s*(m/100);this.byId("input2_1724756105").setValue(v.toFixed(2));var T=parseFloat(this.byId("input2_17221205").getValue())/100||0;var F=s+v;var C=F/(1-T)-F;this.byId("input2_1756121205").setValue(C.toFixed(2));var _=F+C;var w=new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}).format(_);var E=w+" €";this.byId("input0_1725625161348").setValue(E);this.CaseAno();if(this._insercionesPorAnoYTabla){this.CaseAno()}var S=this.byId("inputCambioEu").getValue().trim();var V=this.byId("input0_1725625132423424361348");if(S!==""){var D=parseFloat(parseFloat(S).toFixed(4));var P=_*D;var w=new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}).format(P);V.setVisible(true);V.setValue(w+" $")}else{V.setVisible(false);V.setValue("")}},findTotalColumnIndex:function(e){var t=e.getColumns();var o=t.length-1;for(var a=0;a<t.length;a++){var s=t[a].getHeader();if(s&&(s.getText()==="Total €"||s.getText()==="")){return a}}return o+1},getMonthsDifference:function(e,t){var o=(t.getFullYear()-e.getFullYear())*12;o-=e.getMonth();o+=t.getMonth();return o<0?0:o},onNavToView1:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("appNoparame")},onSelectOpx:function(e){var t=this.byId("slct_inic").getSelectedItem();var o=this.byId("idNatu");var a=t.getText();console.log("Valor seleccionado:",a);var s=this.getView().byId("table0");if(a==="Opex Servicios"||a==="Proyecto/Servicio de Inversión"){this.byId("input2_172475612").setValue("0.00");this.byId("text67_1728582763477").setText("Opex Servicios  - El Margen debe ser establecido al 0%")}else{this.byId("input2_172475612").setValue("3.50");this.byId("text67_1728582763477").setText("")}if(a==="Proyecto/Servicio a Cliente Externo"){s.setVisible(true);this.byId("idCheckMensual").setVisible(true);this.byId("idComentarioTipo").setVisible(true);this.byId("TextoCon").setVisible(true);this.byId("input2_17221205").setValue(parseFloat("20.00").toFixed(2));this.byId("text67_1728582763477").setText("Margen por defecto 20%, si es inferior al 14,29% la propuesta debe pasar por comité")}else if(a==="Proyecto/Servicio Interno PdV"){this.byId("idComenpVd").setEditable(true);this.byId("input2_17221205").setValue(parseFloat("10.00").toFixed(2));this.byId("text67_1728582763477").setText("Margen por defecto 10%, si el Margen es inferior al 5% la propuesta debe pasar por comité")}else if(a==="Proyecto/Servicio de Inversión"){this.byId("input2_17221205").setValue(parseFloat("0.00").toFixed(2));this.byId("text67_1728582763477").setText("Proyecto/Servicio de Inversión - El Margen debe ser establecido al 0%")}else if(a==="Opex Servicios"){this.byId("input2_17221205").setValue(parseFloat("0.00").toFixed(2));this.byId("text67_1728582763477").setText("Opex Servicios - El Margen debe ser establecido al 0%")}else{s.setVisible(false);this.byId("idComenpVd").setEditable(false);this.byId("idComentarioTipo").setVisible(false);this.byId("TextoCon").setVisible(false);this.byId("idCheckMensual").setVisible(false);this.byId("input2_17221205").setValue("")}},onCheckBoxSelectMulti:function(e){var t=e.getSource();var o=t.getSelected();var a=this.byId("table_clienteFac");if(a){a.setVisible(o)}},onInputChange:function(){var e=this.getView();var t=this.byId("input0").getValue();var o=this.byId("input1").getValue();var a=this.byId("id_Cfactur").getValue();var s=this.byId("int_clienteFun").getValue();var n=this.byId("slct_area");var r="";var i="";if(n&&n.getSelectedItem()){r=n.getSelectedItem().getText();i=n.getSelectedItem().getKey()}var l=this.byId("slct_Jefe");var c="";if(l&&l.getSelectedItem()){c=l.getSelectedItem().getText()}var d=this.byId("slct_client");var u="";if(d&&d.getSelectedItem()){u=d.getSelectedItem().getText()}var h=this.byId("date_inico");var p=h?h.getDateValue():null;var f="";if(p){f=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-dd"}).format(p)}var x=this.byId("slct_inic");var g="";if(x&&x.getSelectedItem()){g=x.getSelectedItem().getText()}var y=this.byId("idNatu");var I="";if(y&&y.getSelectedItem()){I=y.getSelectedItem().getText()}var b=this.byId("date_fin");var m=b?b.getDateValue():null;var v="";if(m){v=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-dd"}).format(m)}this.byId("txt_codig").setText(t);this.byId("txt_nomPro").setText(o);this.byId("txt_area").setText(r);this.byId("txt_NomJefe").setText(c);this.byId("txt_funcio").setText(s);this.byId("txt_feIni").setText(f);this.byId("txt_feFin").setText(v);this.byId("txt_ini").setText(g);this.byId("text72_1731325324246").setText(g);this.byId("text73_1731325328049").setText(I);this.byId("txt_client").setText(s);this.byId("txt_cFactura").setText(a);this.byId("txt_Codi2").setText(t);this.byId("txt_Nombre2").setText(o);this.byId("txt_area2").setText(r);this.byId("txt_Fe_ini2").setText(f);this.byId("txt_Fe_fin2").setText(v);this.byId("textClitFu3").setText(s);this.byId("textCliFac3").setText(a);this.byId("textCodigo3").setText(t);this.byId("textNatural3").setText(I);this.byId("txtNombre3").setText(o);this.byId("txtAre3").setText(r);this.byId("txtFechInici3").setText(f);this.byId("txtFechFin3").setText(v)},onSelectCheckbox:function(e){try{var t=this.byId("table2");if(!t){console.error("Tabla no encontrada.");return}var o=t.getItems();var a=e.getSource().getSelected();if(a===undefined){console.error("Error al obtener el estado del checkbox.");return}var s=e.getSource().getParent().getParent().indexOfColumn(e.getSource().getParent());var n=s===0?"box_prove":"box_condi";var r=this.byId(n);if(!r){console.error("El otro checkbox no se encontró.");return}if(n==="box_condi"){this.byId("idTextComProve").setEditable(true)}else{this.byId("idTextComProve").setEditable(false)}r.setEnabled(!a);o.forEach(function(e){var t=e.getCells();t.forEach(function(e,t){if(e.setEditable){e.setEditable(t===s?a:!a)}})})}catch(e){console.error("Error en la función onSelectCheckbox:",e)}}});function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0,o=e==="x"?t:t&3|8;return o.toString(16)})}});
sap.ui.predefine("project1/model/EmptyProject", [],function(){"use strict";return{ID:"",codigoProyect:null,nameProyect:"",pluriAnual:false,funcionalString:"",clienteFacturacion:"",multijuridica:false,IPC_apli:null,costeEstructura:null,objetivoAlcance:"",AsuncionesyRestricciones:"",datosExtra:"",CambioEuRUSD:null,Estado:"",Email:"",Empleado:"",fechaCreacion:null,descripcion:"",mensual:false,comentarioTipoCompra:"",comentarioFacturacion:"",comentarioProveedor:"",comentarioPvD:"",Total:null,Fechainicio:null,FechaFin:null,FechaModificacion:null,clienteFuncional:{},TipoServicio:{},Vertical:{},Naturaleza:{},Seguimiento:{},EjecucionVia:{},AmReceptor:{},Iniciativa:{},Area:{},jefeProyectID:{},TipoCompra:{},MotivoCondi:{},RecursosInternos:[],otrosGastoRecu:[],otrosRecursos:[],ProveedoresC:[],planificacion:[],Facturacion:[],ClientFactura:[],ConsumoExternos:[],otrosServiciosConsu:[],GastoViajeConsumo:[],RecursosExternos:[],serviRecurExter:[],GastoViajeRecExter:[],otrosConceptos:[],LicenciasCon:[],WorkflowInstancias:[],PerfilTotal:[],RecurInterTotal:{},ConsuExterTotal:{},RecuExterTotal:{},InfraestrLicencia:[],ResumenCostesTotal:[]}});
sap.ui.predefine("project1/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"project1/i18n/i18n.properties":'# This is the resource bundle for project1\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=SolicitudCDO\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=SolicitudCDO\n\n#XFLD,54\nflpTitle=SolicitudCDO (CAP)\n',
	"project1/i18n/i18n_en.properties":'welcome=Welcome\ngreeting=Hello\nerror=An error occurred\n\n',
	"project1/i18n/i18n_es.properties":'# This is the resource bundle for project1\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=SolicitudCDO\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=SolicitudCDO\n\n#XFLD,54\nflpTitle=SolicitudCDO (CAP)\n',
	"project1/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"project1","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":["","en","es"]},"fallbackLocale":"es","supportedLocales":["","es"],"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.14.2","toolsId":"81f37a08-20c4-4e38-b86d-f29c6dc5756e"},"dataSources":{"mainService":{"uri":"odata/v4/datos-cdo/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"Solicitud CDO-display":{"semanticObject":"Solicitud CDO","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"preload":"async","flexEnabled":false,"dependencies":{"minUI5Version":"1.126.2","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.suite.ui.generic.template":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.ui.table":{},"sap.ushell":{},"sap.suite.ui.commons":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"project1.i18n.i18n","supportedLocales":["","en","es"]}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"project1.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"app","pattern":"app/{newId}","target":"app"},{"name":"appNoparame","pattern":"app","target":"app"},{"name":"view","pattern":"view/{sProjectID}/{sourceModel}","target":"view"},{"name":"viewNoParam","pattern":"view/{mode}","target":"view"},{"name":"DialogNoparam","pattern":"Dialog","target":"Dialog"},{"name":"viewWithMode","pattern":"view/{sourceModel}/{mode}/{sProjectID}","target":"view"},{"pattern":"viewWithAprobacion/{sourceModel}/{mode}/{sProjectID};aprobacion={aprobacion}","name":"viewWithAprobacion","target":"view"}],"targets":{"app":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"app","viewName":"App"},"view":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"view","viewName":"View1","viewLevel":1},"Dialog":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"Dialog","viewName":"Dialog1","viewLevel":1}}},"rootView":{"viewName":"project1.view.App","type":"XML","async":true,"id":"App"}},"sap.cloud":{"public":true,"service":"datosCdo2"}}',
	"project1/view/App.view.xml":'<mvc:View\n    xmlns:layout="sap.ui.layout"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:suite="sap.suite.ui.commons"\n    xmlns="sap.m"\n    controllerName="project1.controller.App"\n    displayBlock="true"\n\n><App id="app"><pages><Page\n                xmlns="sap.m"\n                id="pageId"\n                title="Page Title"\n                floatingFooter="true"\n                class="miClase"\n            ><customHeader><Bar\n                        xmlns="sap.m"\n                        class="sapContrastPlus miHeader2 "\n                        id="bar0"\n                        busyIndicatorSize="Large"\n                        design="Header"\n                    ><contentLeft><Image\n                                src="https://freelogopng.com/images/all_img/1682997299telefonica-icon-png.png"\n                                height="38px"\n                                id="image0"\n                            /><ToolbarSpacer /></contentLeft></Bar></customHeader><content><VBox id="vbox0"><items><ObjectHeader\n                                xmlns="sap.m"\n                                title="Fichas CDO"\n                                id="header0"\n                                responsive="true"\n                                fullScreenOptimized="true"\n                                intro="Solicitud de proyecto a presentar en el Comité de Oportunidades según procedimiento ST-DDGL004-GADE."\n                                titleActive="true"\n                                titlePress="handleTitlePress"\n                                numberState="Success"\n                                backgroundDesign="Translucent"\n                                class="sapUiResponsivePadding--header "\n                              \n                            ><ObjectAttribute\n                                    id="233"\n                                    title="Empleado"\n                                    text=""\n                                    active="true"\n                                /><ObjectAttribute\n                                    id="223"\n                                    title="Solicitudes"\n                                    text="{modelTotal>/Count}"\n                                    active="true"\n                                /><ObjectAttribute\n                                    id="2"\n                                    title="Departamento"\n                                    text="BTP"\n                                /><statuses><ObjectStatus\n                                        id="status0"\n                                        title="Aprobación"\n                                        text="Pening"\n                                        state="Warning"\n                                    /></statuses><attributes><ObjectAttribute\n                                        text=""\n                                        id="attribute0"\n                                    /></attributes><headerContainer><IconTabBar\n                                        id="itb1"\n                                        selectedKey="key3"\n                                        upperCase="true"\n                                        class="sapUiResponsiveContentPadding"\n                                        select="onIconTabSelect"\n                                    ><items><IconTabFilter\n                                                id="ma3"\n                                                key="attachments"\n                                                icon="sap-icon://attachment"\n                                                tooltip="Solicitudes pendientes"\n                                                count="{modelPendientes>/Count}"\n                                            ><Table\n                                                    id="idPendientes"\n                                                    sticky="HeaderToolbar,ColumnHeaders"\n                                                    inset="false"\n                                                    items="{modelPendientes>/DatosProyect}"\n                                                    class="sapFDynamicPageAlignContent customHeaderColor2"\n                                                    width="auto"\n                                                    noDataText="No existen solicitudes pendientes en este momento "\n                                                ><headerToolbar><Toolbar\n                                                            id="headerToolbar"\n                                                        ><Title\n                                                                id="title"\n                                                                text="Pendientes a Aprobacion"\n                                                                level="H2"\n                                                                class="color"\n                                                            /><ToolbarSpacer /><SearchField\n                                                                id="searchField"\n                                                                liveChange="onSearch"\n                                                                class="sapUiLargeMargin "\n                                                                placeholder="Buscar por Nombre de Proyecto"\n                                                                width="30%"\n                                                            /></Toolbar></headerToolbar><columns><Column\n                                                            id="colFecha"\n                                                            width="12em"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtFecha"\n                                                                text="Fecha Creación "\n                                                            /></Column><Column\n                                                            id="colCodigo"\n                                                            width="12em"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtCodigo"\n                                                                text="Codigo Proyecto"\n                                                            /></Column><Column\n                                                            id="colNombreProyecto"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtNombreProyecto"\n                                                                text="Nombre Proyecto"\n                                                            /></Column><Column\n                                                            id="colDescripcion"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtDescripcion"\n                                                                text="Descripción"\n                                                            /></Column><Column\n                                                            id="colArea"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtArea"\n                                                                text="Área"\n                                                            /></Column><Column\n                                                            id="colJefeProyecto"\n                                                            width="12em"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtJefeProyecto"\n                                                                text="Jefe de Proyecto"\n                                                            /></Column><Column\n                                                            id="idFechModi"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtFechModi"\n                                                                text="Fecha Modificacion"\n                                                            /></Column><Column\n                                                            id="colEstado"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="txtEstado"\n                                                                text="Estado"\n                                                            /></Column><Column\n                                                            id="colEstado1"\n                                                            hAlign="Center"\n                                                            width="10em"\n                                                        ><Label\n                                                                id="txtButtons"\n                                                                text=""\n                                                            /></Column></columns><items><ColumnListItem\n                                                            id="cliItem"\n                                                        ><cells><ObjectIdentifier\n                                                                    id="txtFechai"\n                                                                    title="{modelPendientes>FechaCreacionFormateada}"\n                                                                /><Text\n                                                                    id="txtCellCodigo"\n                                                                    text="{modelPendientes>codigoProyect}"\n                                                                /><ObjectIdentifier\n                                                                    id="nombre34"\n                                                                    title="{modelPendientes>nameProyect}"\n                                                                /><Text\n                                                                    id="txtCellDescripcion"\n                                                                    text="{modelPendientes>descripcion}"\n                                                                    class="boldText"\n                                                                /><Text\n                                                                    id="txtCellArea"\n                                                                    text="{modelPendientes>NombreArea}"\n                                                                     class="boldText"\n                                                                /><Text\n                                                                    id="txtCellJefeProyecto"\n                                                                    text="{modelPendientes>NombreJefe}"\n                                                                     class="boldText"\n                                                                /><ObjectIdentifier\n                                                                    id="txtfechamodificacion"\n                                                                    title="{modelPendientes>FechaModificacionFormateada}"\n                                                                /><ObjectStatus\n                                                                    id="objStatus"\n                                                                    text="{modelPendientes>Estado}"\n                                                                    state="Warning"\n                                                                /><HBox id="fff"><Button\n                                                                        press="DialogInfo"\n                                                                        icon="sap-icon://message-information"\n                                                                        ariaHasPopup="Dialog"\n                                                                    ><customData\n                                                                        ><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{modelPendientes>ID}"\n                                                                            /></customData></Button><Button\n                                                                        id="butn34"\n                                                                        icon="sap-icon://edit"\n                                                                        press="onEditPress"\n                                                                    ><customData\n                                                                        ><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                id="mivrf5op"\n                                                                                key="nameProyect"\n                                                                                value="{nameProyect}"\n                                                                            /><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{ID}"\n                                                                            /></customData></Button><Button\n                                                                        id="ww"\n                                                                        icon="sap-icon://delete"\n                                                                        press="onDeletePress"\n                                                                    ><customData\n                                                                        ><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{modelPendientes>ID}"\n                                                                            /><core:CustomData\n                                                                                 xmlns:core="sap.ui.core"\n\n                                                                                            key="etapaId"\n                                                                                            value="{modelPendientes>workflowId}" /></customData></Button><items><Button\n                                                                            xmlns="sap.m"\n                                                                            icon="sap-icon://activity-2"\n                                                                            text=""\n                                                                            tooltip="Proceso Solicitud"\n                                                                            id="button0"\n                                                                            press="onVerHistorial"\n                                                                        ><customData\n                                                                            ><core:CustomData\n                                                                                    xmlns:core="sap.ui.core"\n                                                                                    id="mivop"\n                                                                                    key="nameProyect"\n                                                                                    value="{modelPendientes>nameProyect}"\n                                                                                /><core:CustomData\n                                                                                    xmlns:core="sap.ui.core"\n                                                                                    key="projectId"\n                                                                                    value="{modelPendientes>ID}"\n                                                                                /></customData></Button></items></HBox></cells></ColumnListItem></items></Table></IconTabFilter><IconTabFilter\n                                                id="ma55"\n                                                key="notes"\n                                                icon="sap-icon://activity-2"\n                                                tooltip="Solicitudes Aprobadas"\n                                                count="{modelAprobados>/Count}"\n                                            ><Table\n                                                    id="idProductsTable"\n                                                    sticky="HeaderToolbar,ColumnHeaders"\n                                                    inset="false"\n                                                    items="{modelAprobados>/DatosProyect}"\n                                                    class="sapFDynamicPageAlignContent customHeaderColor2"\n                                                    width="auto"\n                                                    noDataText="No existen solicitudes aprobadas en este momento "\n\n                                                ><headerToolbar><Toolbar id="d"><Title\n                                                                id="d2"\n                                                                text="Lista De Solicitudes"\n                                                                level="H2"\n                                                                class="color"\n                                                            /><ToolbarSpacer /><SearchField\n                                                                id="searchField2"\n                                                                liveChange="onSearchApro"\n                                                                class="sapUiLargeMargin"\n                                                                placeholder="Buscar por Nombre de Proyecto"\n                                                                width="30%"\n                                                            /></Toolbar></headerToolbar><columns><Column\n                                                            id="ud"\n                                                            width="12em"\n                                                        ><Label\n                                                                id="2d"\n                                                                text="Fecha Creación"\n                                                            /></Column><Column\n                                                            id="22d"\n                                                            width="12em"\n                                                        ><Label\n                                                                id="21d"\n                                                                text="Codigo Proyecto"\n                                                            /></Column><Column\n                                                            id="d87"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                        ><Label\n                                                                id="d00"\n                                                                text="Nombre Proyecto"\n                                                            /></Column><Column\n                                                            id="d4"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                        ><Label\n                                                                id="dkh"\n                                                                text="Descripción"\n                                                            /></Column><Column\n                                                            id="d34"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                        ><Label\n                                                                id="dh"\n                                                                text="Área"\n                                                            /></Column><Column\n                                                            id="d34h"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                        ><Label\n                                                                id="dhh"\n                                                                text="Jefe de Proyecto"\n                                                            /></Column><Column\n                                                            id="fechaAprobacion"\n                                                            minScreenWidth="Tablet"\n                                                            demandPopin="true"\n                                                        ><Label\n                                                                id="fechapro"\n                                                                text="Fecha de Aprobación"\n                                                            /></Column><Column\n                                                            id="dnn"\n                                                            hAlign="Center"\n                                                        ><Label\n                                                                id="dass"\n                                                                text="Estado"\n                                                            /></Column><Column\n                                                            id="botones"\n                                                            hAlign="Center"\n                                                            width="auto"\n                                                        ><Label\n                                                                id="txtBusttons"\n                                                                text=""\n                                                            /></Column></columns><items><ColumnListItem\n                                                            id="q111d"\n                                                        ><cells><ObjectIdentifier\n                                                                    id="1234d"\n                                                                    title="{modelAprobados>FechaCreacionFormateada}"\n                                                                    class="boldText"\n                                                                /><Text\n                                                                    id="2333d"\n                                                                    text="{modelAprobados>codigoProyect}"\n                                                                    class="boldText"\n                                                                /><Text\n                                                                    id="00"\n                                                                    text="{modelAprobados>nameProyect}"\n                                                                    class="boldText"\n                                                                /><Text\n                                                                    id="0"\n                                                                    text="{modelAprobados>descripcion}"\n                                                                    class="boldText"\n                                                                /><Text\n                                                                    id="20"\n                                                                    text="{modelAprobados>Area/NombreArea}"\n                                                                    class="boldText"\n                                                                /><Text\n                                                                    id="210"\n                                                                    text="{modelAprobados>jefeProyectID/name}"\n                                                                    class="boldText"\n                                                                /><ObjectStatus\n                                                                    id="fechaaproboTxt"\n                                                                    text="{modelAprobados>actualizadoEnFormateada}"\n                                                                /><ObjectStatus\n                                                                    id="status02"\n                                                                    text="{modelAprobados>Estado}"\n                                                                     state="Success"/><HBox id="hbo2"><Button\n                                                                        press="DialogInfo"\n                                                                        icon="sap-icon://message-information"\n                                                                        ariaHasPopup="Dialog"\n                                                                    ><customData><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{modelAprobados>ID}"\n                                                                            /></customData></Button><Button\n                                                                        id="butn346"\n                                                                        icon="sap-icon://show"\n                                                                        press="onEditPress"\n                                                                    ><customData\n                                                                        ><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                id="idButonEdit"\n                                                                                key="nameProyect"\n                                                                                value="{nameProyect}"\n                                                                            /><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{ID}"\n                                                                            /></customData></Button><Button\n                                                                    xmlns="sap.m"\n                                                                    icon="sap-icon://activity-2"\n\n                                                                    tooltip="Proceso Solicitud"\n                                                                    id="idButtonProcess"\n                                                                    press="onVerHistorial"\n                                                                ><customData><core:CustomData\n                                                                            xmlns:core="sap.ui.core"\n                                                                            id="idproccna"\n                                                                            key="nameProyect"\n                                                                            value="{modelAprobados>nameProyect}"\n                                                                        /><core:CustomData\n                                                                            xmlns:core="sap.ui.core"\n                                                                            key="projectId"\n                                                                            value="{modelAprobados>ID}"\n                                                                        /></customData></Button></HBox></cells></ColumnListItem></items></Table></IconTabFilter><IconTabFilter\n                                                id="ma5578"\n                                                key="notes"\n                                                icon="sap-icon://employee-rejections"\n                                                tooltip="Solicitudes Aprobadas"\n                                                count="{modelRechazados>/Count}"\n                                            ><Table\n    id="RechazadosTable"\n    sticky="HeaderToolbar,ColumnHeaders"\n    inset="false"\n    items="{modelRechazados>/DatosProyect}"\n    class="sapFDynamicPageAlignContent customHeaderColor2"\n    width="auto"\n       noDataText="No existen solicitudes rechazadas en este momento "\n\n><headerToolbar><Toolbar id="aprobToolbar"><Title\n                id="aprobTitle"\n                text="Lista De Solicitudes Rechazadas"\n                level="H2"\n                class="color"\n            /><ToolbarSpacer /><SearchField\n                id="aprobSearch"\n                liveChange="filtrarProyectosPorNombre"\n                class="sapUiLargeMargin"\n                placeholder="Buscar por Nombre de Proyecto"\n                width="30%"\n            /></Toolbar></headerToolbar><columns><Column id="aprobColFecha" width="12em"><Label id="aprobLblFecha" text="Fecha Creación" /></Column><Column id="aprobColCodigo" width="12em"><Label id="aprobLblCodigo" text="Codigo Proyecto" /></Column><Column id="aprobColNombre" minScreenWidth="Tablet" demandPopin="true"><Label id="aprobLblNombre" text="Nombre Proyecto" /></Column><Column id="aprobColDesc" minScreenWidth="Tablet" demandPopin="true"><Label id="aprobLblDesc" text="Descripción" /></Column><Column id="aprobColArea" minScreenWidth="Tablet" demandPopin="true"><Label id="aprobLblArea" text="Área" /></Column><Column id="aprobColJefe" minScreenWidth="Tablet" demandPopin="true"><Label id="aprobLblJefe" text="Jefe de Proyecto" /></Column><Column id="aprobColFechaAprob" minScreenWidth="Tablet" demandPopin="true"><Label id="aprobLblFechaAprob" text="Fecha de Rechazo" /></Column><Column id="aprobColEstado" hAlign="Center"><Label id="aprobLblEstado" text="Estado" /></Column><Column id="aprobColBotones" hAlign="Center" width="auto"><Label id="aprobLblBotones" text="" /></Column></columns><items><ColumnListItem id="aprobItem"><cells><ObjectIdentifier\n                    id="aprobOIDFecha"\n                    title="{modelRechazados>FechaCreacionFormateada}"\n                    class="boldText"\n                /><Text\n                    id="aprobTxtCodigo"\n                    text="{modelRechazados>codigoProyect}"\n                    class="boldText"\n                /><Text\n                    id="aprobTxtNombre"\n                    text="{modelRechazados>nameProyect}"\n                    class="boldText"\n                /><Text\n                    id="aprobTxtDesc"\n                    text="{modelRechazados>descripcion}"\n                    class="boldText"\n                /><Text\n                    id="aprobTxtArea"\n                    text="{modelRechazados>Area/NombreArea}"\n                    class="boldText"\n                /><Text\n                    id="aprobTxtJefe"\n                    text="{modelRechazados>jefeProyectID/name}"\n                    class="boldText"\n                /><ObjectStatus\n                    id="aprobStatusFechaAprob"\n                    text="{modelRechazados>actualizadoEnFormateada}"\n                /><ObjectStatus\n                    id="aprobStatusEstado"\n                    text="{modelRechazados>Estado}"\n                    state="Error"\n                /><HBox id="aprobHBoxBtns"><Button\n                        id="aprobBtnEdit"\n                        icon="sap-icon://show"\n                        press="onEditPress"\n                    ><customData><core:CustomData\n                                xmlns:core="sap.ui.core"\n                                key="nameProyect"\n                                value="{nameProyect}"\n                            /><core:CustomData\n                                xmlns:core="sap.ui.core"\n                                key="projectId"\n                                value="{ID}"\n                            /></customData></Button><Button\n                        id="newId_btnEliminar2"\n                        icon="sap-icon://delete"\n                        press="onDeletePress"\n                    ><customData><core:CustomData\n                                xmlns:core="sap.ui.core"\n                                key="projectId"\n                                value="{modelRechazados>ID}"\n                            /></customData></Button></HBox></cells></ColumnListItem></items></Table></IconTabFilter><IconTabFilter id="idIconBorrador" key="info" icon="sap-icon://request"  tooltip="Mis borradores"\n  count="{modelBorrador>/Count}"><Table\n                                            id="newId_tablePendientes"\n                                            sticky="HeaderToolbar,ColumnHeaders"\n                                            inset="false"\n                                            items="{modelBorrador>/DatosProyect}"\n                                            class="sapFDynamicPageAlignContent customHeaderColor2"\n                                            width="auto"\n                                            noDataText="No existen borradores disponibles "\n                                        ><headerToolbar><Toolbar id="newId_headerToolbar"><Title\n                                                        id="newId_title"\n                                                        text="Borradores"\n                                                        level="H2"\n                                                        class="color"\n                                                    /><ToolbarSpacer /><SearchField\n                                                        id="newId_searchField"\n                                                        liveChange="onSearch"\n                                                        class="sapUiLargeMargin"\n                                                        placeholder="Buscar por Nombre de Proyecto"\n                                                        width="30%"\n                                                    /></Toolbar></headerToolbar><columns><Column id="newId_colFecha" width="12em" hAlign="Center"><Label id="newId_lblFecha" text="Fecha Creación " /></Column><Column id="newId_colNombreProyecto" minScreenWidth="Tablet" demandPopin="true" hAlign="Center"><Label id="newId_lblNombreProyecto" text="Nombre Proyecto" /></Column><Column id="newId_colDescripcion" minScreenWidth="Tablet" demandPopin="true" hAlign="Center"><Label id="newId_lblDescripcion" text="Descripción" /></Column><Column id="newId_colArea" minScreenWidth="Tablet" demandPopin="true" hAlign="Center"><Label id="newId_lblArea" text="Área" /></Column><Column id="newId_colJefeProyecto" width="12em" hAlign="Center"><Label id="newId_lblJefeProyecto" text="Jefe de Proyecto" /></Column><Column id="newId_colFechModi" minScreenWidth="Tablet" demandPopin="true" hAlign="Center"><Label id="newId_lblFechModi" text="Fecha Modificacion" /></Column><Column id="newId_colEstado" minScreenWidth="Tablet" demandPopin="true" hAlign="Center"><Label id="newId_lblEstado" text="Estado" /></Column><Column id="newId_colAcciones" hAlign="Center" width="10em"><Label id="newId_lblAcciones" text="" /></Column></columns><items><ColumnListItem id="newId_itemPendiente"><cells><ObjectIdentifier id="newId_objFechaCreacion" title="{modelBorrador>FechaCreacionFormateada}" /><ObjectIdentifier id="newId_objNombreProyecto" title="{modelBorrador>nameProyect}" /><Text id="newId_txtDescripcion" text="{modelBorrador>descripcion}" class="boldText" /><Text id="newId_txtArea" text="{modelBorrador>NombreArea}" class="boldText" /><Text id="newId_txtJefeProyecto" text="{modelBorrador>NombreJefe}" class="boldText" /><ObjectIdentifier id="newId_objFechaModificacion" title="{modelBorrador>FechaModificacionFormateada}" /><ObjectStatus id="newId_estadoProyecto" text="{modelBorrador>Estado}" state="Warning" /><HBox id="newId_hboxBotones"><Button\n                                                                id="newId_btnInfo"\n                                                                press="DialogInfo"\n                                                                icon="sap-icon://message-information"\n                                                                ariaHasPopup="Dialog"\n                                                            ><customData><core:CustomData\n                                                                        xmlns:core="sap.ui.core"\n                                                                        key="projectId"\n                                                                        value="{modelBorrador>ID}"\n                                                                    /></customData></Button><Button\n                                                                id="newId_btnEditar"\n                                                                icon="sap-icon://edit"\n                                                                press="onEditPress"\n                                                            ><customData><core:CustomData\n                                                                        xmlns:core="sap.ui.core"\n                                                                        id="newId_customName"\n                                                                        key="nameProyect"\n                                                                        value="{modelBorrador>nameProyect}"\n                                                                    /><core:CustomData\n                                                                        xmlns:core="sap.ui.core"\n                                                                        key="projectId"\n                                                                        value="{modelBorrador>ID}"\n                                                                    /></customData></Button><Button\n                                                                id="newId_btnEliminar"\n                                                                icon="sap-icon://delete"\n                                                                press="onDeletePress"\n                                                            ><customData><core:CustomData\n                                                                        xmlns:core="sap.ui.core"\n                                                                        key="projectId"\n                                                                        value="{modelBorrador>ID}"\n                                                                    /></customData></Button><items></items></HBox></cells></ColumnListItem></items></Table></IconTabFilter><IconTabFilter\n                                                id="ma77"\n                                                key="people"\n                                                tooltip="Seguimiento de Proceso"\n                                                icon="sap-icon://process"\n                                                visible="false"\n                                            ><Panel\n                                                    xmlns="sap.m"\n                                                    width="auto"\n                                                    expandable="true"\n                                                    expanded="true"\n                                                    id="panel5887540"\n                                                ><headerToolbar><Toolbar\n                                                            id="toolbar1_1728554177158"\n                                                        ><Title\n                                                                id="idTitleProceso"\n                                                                text="Proceso"\n                                                            /><ToolbarSpacer /><Button\n                                                                id="kfsldkfjwo"\n                                                                icon="sap-icon://settings"\n                                                            /></Toolbar></headerToolbar><content><ObjectAttribute\n                                    id="3434"\n                                    title="Flujo de Aprobación"\n                                    text="Fichas CDO"\n                                    active="true"\n                                press="pressFichas"\n                                    \n                                /><ToolbarSpacer /><Text\n                                                            text="Proceso de Solictud"\n                                                            id="text1881" class="color"\n                                                        /><suite:ProcessFlow\n    id="processflow1"\n    nodePress="onNodePress"\n><suite:lanes><suite:ProcessFlowLaneHeader id="lane0" laneId="0" iconSrc="sap-icon://crm-service-manager" text="Solicitud CDO" position="0"/><suite:ProcessFlowLaneHeader id="lane1" laneId="1" iconSrc="sap-icon://approvals" text="Notificación de Aprobación" position="1"/><suite:ProcessFlowLaneHeader id="lane2" laneId="2" iconSrc="sap-icon://notes" text="Aprobación Técnica (Basis/TQ/Factoría)" position="2"/><suite:ProcessFlowLaneHeader id="lane3" laneId="3" iconSrc="sap-icon://activity-individual" text="Notificación a PMO" position="3"/><suite:ProcessFlowLaneHeader id="lane4" laneId="4" iconSrc="sap-icon://factory" text="Aprobación PMO" position="4"/><suite:ProcessFlowLaneHeader id="lane5" laneId="5" iconSrc="sap-icon://calendar" text="Notificación Control de Gestión" position="5"/><suite:ProcessFlowLaneHeader id="lane6" laneId="6" iconSrc="sap-icon://accept" text="Aprobación Control de Gestión" position="6"/><suite:ProcessFlowLaneHeader id="lane8" laneId="8" iconSrc="sap-icon://message-error" text="Notificación Dirección" position="7"/><suite:ProcessFlowLaneHeader id="lane9" laneId="9" iconSrc="sap-icon://payment-approval" text="Aprobación Dirección" position="8"/><suite:ProcessFlowLaneHeader id="lane99" laneId="99" iconSrc="sap-icon://decline" text="Finalizado / Rechazado" position="9"/></suite:lanes></suite:ProcessFlow></content></Panel></IconTabFilter><IconTabFilter\n                                                id="id34"\n                                                key="people"\n                                                tooltip="Lista pendientes a Aprobar"\n                                                icon="sap-icon://pending"\n                                            visible="false" \n                                             count="{modelEtapasAsignadas>/Count}"\n                                             \n\n                                            ><Table items="{modelEtapasAsignadas>/Etapas}"\n                                        id="tabla_Aprobadores"\n                                        noDataText="No existen solicitudes a aprobar "\n                                        class="customHeaderColor2 sapFDynamicPageAlignContent"\n                                      sticky="HeaderToolbar,ColumnHeaders"\n                                        ><headerToolbar><Toolbar id="newId_headerToolbar2"><Title\n                                                        id="newId_title2"\n                                                        text="Pendientes a Aprobar"\n                                                        level="H2"\n                                                        class="color"\n                                                    /><ToolbarSpacer /><SearchField\n                                                        id="newId_searchField2"\n                                                        liveChange="onSearchAprobadores"\n                                                        class="sapUiLargeMargin"\n                                                        placeholder="Buscar por Nombre de Proyecto"\n                                                        width="30%"\n                                                    /></Toolbar></headerToolbar><columns><Column><Label text="Etapa" /></Column><Column><Label text="Proyecto" /></Column><Column><Label text="Descripcion" /></Column><Column><Label text="Asignado A" /></Column><Column><Label text="Comentario" /></Column><Column><Label text="" /></Column></columns><items><ColumnListItem><cells><ObjectStatus text="{modelEtapasAsignadas>nombreEtapa}"   state="Information" /><Text text="{modelEtapasAsignadas>nameProyect}"   class="boldText" /><Text text="{modelEtapasAsignadas>descripcion}"   class="boldText"/><ObjectStatus text="{modelEtapasAsignadas>asignadoA}"    state="Information"    /><Text text="{modelEtapasAsignadas>comentario}"    class="boldText" /><HBox id="hbo26"><Button\n                                                                        press="DialogInfo"\n                                                                        icon="sap-icon://message-information"\n                                                                        ariaHasPopup="Dialog"\n                                                                    ><customData><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{modelEtapasAsignadas>projectId}"\n                                                                            /></customData></Button><Button\n                                                                        id="butn3462"\n                                                                        icon="sap-icon://show"\n                                                                        press="onEditPress"\n                                                                    ><customData\n                                                                        ><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                id="idButonEdit2"\n                                                                                key="nameProyect"\n                                                                                value="{modelEtapasAsignadas> nameProyect}"\n                                                                            /><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{modelEtapasAsignadas>projectId}"\n                                                                       \n                                                                            /></customData></Button><Button\n                                                                        id="wsw"\n                                                                        icon="sap-icon://delete"\n                                                                        press="onDeletePress"\n                                                                    ><customData\n                                                                        ><core:CustomData\n                                                                                xmlns:core="sap.ui.core"\n                                                                                key="projectId"\n                                                                                value="{modelEtapasAsignadas>ID}"\n                                                                            /></customData></Button></HBox></cells></ColumnListItem></items></Table></IconTabFilter></items><content /></IconTabBar></headerContainer></ObjectHeader></items></VBox></content><footer><OverflowToolbar id="toolbar1"><ToolbarSpacer id="22" /><Button\n                            id="33"\n                            type="Accept"\n                            text="Nueva Solicitud"\n                            press="onNavToView1"\n                        /></OverflowToolbar></footer></Page></pages></App></mvc:View>\n',
	"project1/view/Dialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:f="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n><Dialog\n        title="Ficha CDO"\n        afterClose="onDialogClose"\n        class="color"\n    ><content><VBox><f:SimpleForm\n                    id="SimpleFormChangeColumn_twoGroups234"\n                    editable="true"\n                    layout="ColumnLayout"\n                    title="Solicitud Informacion"\n                    columnsM="2"\n                    columnsL="2"\n                    columnsXL="2"\n                ><f:content><core:Title text="Information General" /><Label text="Creado por" /><Text\n                            text=""\n                            id="idCreador"\n                        /><Label text="Fecha Creacion del Proyecto" /><Text\n                            id="idCreacion"\n                            text=""\n                        /><Label text="Email" /><Text\n                            text=""\n                            id="idEMail" class="onEmailPress2"\n                        /><Label text="PEP" /><Text text="PK-23344-AA"><layoutData><f:ColumnElementData\n                                    cellsSmall="2"\n                                    cellsLarge="2"\n                                /></layoutData></Text><Label text="Nombre Proyecto: " /><Text\n                            text=""\n                            id="idNombreProyecto"\n                        /><Label text="Descripción" /><Text\n                            text="Proyecto prueba"\n                            id="idDescripcion1"\n                        /><Label text="Fecha Inicio" /><Label text="Fecha Inicio del Proyecto " /><Text\n                            text=""\n                            id="fechainitProyect"\n                        ><layoutData><f:ColumnElementData\n                                    cellsSmall="2"\n                                    cellsLarge="2"\n                                /></layoutData></Text><Label text="Fecha Fin del Proyecto " /><Text\n                            text=""\n                            id="idFechaFinProyect"\n                        ><layoutData><f:ColumnElementData\n                                    cellsSmall="2"\n                                    cellsLarge="2"\n                                /></layoutData></Text><Label text="Area" /><Text\n                            text=""\n                            id="idArea"\n                        /><Label text="Jefe Proyecto " /><Text\n                            text=""\n                            id="idJefeProyect"\n                        ><layoutData><f:ColumnElementData\n                                    cellsSmall="2"\n                                    cellsLarge="2"\n                                /></layoutData></Text><Label text="Total Resumen vs Costes" /><Text\n                            text=""\n                            id="idtotal"\n                        /><Label text="Estado" /><Text\n                            text=""\n                            id="idEstadoProyect"\n                            class="errorCount"\n                        /><Label text="Fecha Modificacion" /><Text\n                            text=""\n                            id="idModifi"\n                        /></f:content></f:SimpleForm></VBox></content><footer><Toolbar><content><ToolbarSpacer /><Button\n                        type="Accept"\n                        text="Aceptar"\n                        press="._closeDialog"\n                    /></content></Toolbar></footer></Dialog></core:FragmentDefinition>\n',
	"project1/view/View1.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:dnd="sap.ui.core.dnd" xmlns:microchart="sap.suite.ui.microchart" xmlns:table="sap.ui.table" xmlns:core="sap.ui.core" xmlns:chart="sap.chart" xmlns:l="sap.ui.layout" xmlns:smartChart="sap.ui.comp.smartchart" xmlns:viz="sap.viz.ui5.controls" xmlns:viz.data="sap.viz.ui5.data" xmlns:gantt="sap.gantt.simple" xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds" xmlns:smartFilter="sap.ui.comp.smartfilterbar" xmlns:layout="sap.ui.layout" controllerName="project1.controller.View1" \txmlns:u="sap.ui.unified" displayBlock="true"><App id="app2"><Page id="page" title="{i18n>title}"><customHeader><Bar xmlns="sap.m" class="sapContrastPlus myCustomBar" id="bar120" busyIndicatorSize="Large" design="Header"><contentLeft><Button icon="sap-icon://arrow-left" tooltip="" id="button3" press="onNavToView1"/><Image src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Telef%C3%B3nica_2021_logo.svg/1200px-Telef%C3%B3nica_2021_logo.svg.png" width="120px" id="image034"/></contentLeft></Bar></customHeader><content><VBox id="vbox1230"><items><ObjectHeader id="oh1" responsive="true" fullScreenOptimized="true" intro="Comite de oportunidades" title="Ficha Solicitud Aprobación Proyecto - Comité de Oportunidades" numberUnit="" numberState="Success" backgroundDesign="Translucent" class="sapUiResponsivePadding--header  miHeader"><ObjectAttribute id="23d3" title="Empleado" text="" active="true"/><ObjectAttribute id="dddtg" title="Email" text="" tooltip="" active="true" press=".onEmailPress"/><ObjectAttribute id="unam" title="Area" text="TGT"/><statuses><ObjectStatus id="23437" title="Approval" text="Pending" state="Warning"/></statuses><headerContainer><IconTabBar id="itb1333" selectedKey="key2" upperCase="true" select="onTabSelect"><items><IconTabFilter id="idIniu" text="Activities" count="" key="key2" class=".miClase"><Panel xmlns="sap.m" width="auto" expandable="true" expanded="true" id="panel1"><headerToolbar><Toolbar id="toolbar3341"><Title text="Solicitud de proyecto" id="titulo1" class="miTitulo color"/><ToolbarSpacer id="333d"/><Button icon="sap-icon://hint" type="Transparent" press="onInfoGeneralPress" tooltip="Ver ayuda de los campos"/></Toolbar></headerToolbar><content><FlexBox width="100%" id="flx_1" justifyContent="Center"><items><Table ariaLabelledBy="__label0 __label2" noDataText="Drop column list items here and columns in the area above" id="table1" class="onAfterShow  customHeaderColor2" width="1450px" headerText="Datos Proyecto"><items><ColumnListItem type="Active" id="item1"><cells><Input xmlns="sap.m" id="input0" type="Number" value="" placeholder="5524455" liveChange="onInputChange" editable="false" tooltip="Codigo Proyecto asignado por la PMO" showSuggestion="true"/><Input xmlns="sap.m" id="input1" value="" placeholder="Proyect...." liveChange="onInputChange" showSuggestion="true"/><Input xmlns="sap.m" value="" id="idDescripcion"/><Select xmlns="sap.m" id="slct_area" change="onInputChange" selectedKey="{Area>valueArea}" items="{/Area}" width="100%" forceSelection="false" tooltip="Area Funcional de la DAGC que pertenece a la solicitud"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreArea}" id="item155"/></items></Select><Select xmlns="sap.m" id="slct_Jefe" selectedKey="{Jefeproyect>valueJefe}" items="{/Jefeproyect}" width="100%" tooltip="Nombre del Jefe de Proyecto preasignado: si el jefe de proyecto no está disponible en el despegable escribir" change="onInputChange" forceSelection="false"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{name}" id="item155p"/></items></Select><Select xmlns="sap.m" id="slct_verti" selectedKey="{Vertical>valueVertical}" forceSelection="false" width="100%" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item156"/></items></Select><Select xmlns="sap.m" id="slct_client" selectedKey="{clienteFuncional>valueClienteFun}" forceSelection="false" width="100%" items="{/clienteFuncional}" change="onInputChange"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreClienteFun}" id="item158"/></items></Select></cells></ColumnListItem></items><columns><Column id="column3" hAlign="Center"><header><Label text="Codigo" id="label3"/></header></Column><Column id="column4" hAlign="Center"><header><Label text="Nombre Proyecto" id="label4"/></header></Column><Column id="column0_1742402609837" hAlign="Center"><header><Label text="Descripcion" id="text63" textAlign="Center"/></header></Column><Column id="column5" hAlign="Center" width="270px"><header><Label text="Area" id="label5"/></header></Column><Column id="column0" hAlign="Center" width="260px"><header><Label text="Jefe  Proyecto" id="label0"/></header></Column><Column id="column1" hAlign="Center"><header><Label text="Veritical" id="label1"/></header></Column><Column id="column2" hAlign="Center"><header><Label text="Cliente Nuevo" id="label2"/></header></Column></columns></Table></items></FlexBox><FlexBox width="100%" id="box1" justifyContent="Center"><items><Table ariaLabelledBy="__xmlview0--label4 __label10" noDataText="Drop column list items here and columns in the area above" id="table4" class="sapUiTinyMargin customHeaderColor2" width="1450px"><items><ColumnListItem type="Active" id="item8"><cells><Select xmlns="sap.m" id="slct_inic" change="onSelectIniMethod" selectedKey="{TipoIniciativa>valueinicia}" width="100%" forceSelection="false" items="{/TipoIniciativa}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreIniciativa}" id="item159"/></items></Select><Input xmlns="sap.m" id="int_clienteFun" liveChange="onInputChange" tooltip="En caso de que exista más de una juridica marca el checkbox de \'Multijurida\' y completar la informacion en la tabla Cliente Facturacion / Juridicas. En caso contrario indicar la juridica en Cliente Facturacion  "/><Input xmlns="sap.m" id="id_Cfactur" placeholder="Facturacion..." liveChange="onInputChange"/><Select xmlns="sap.m" id="idNatu" selectedKey="{Naturaleza>valueNaturaleza}" forceSelection="false" items="{/Naturaleza}" change="onInputChange" tooltip="OPEX o CAPEX"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreNaturaleza}" id="item160"/></items></Select><Select xmlns="sap.m" id="selc_Segui" selectedKey="{Seguimiento>valueSeguimiento}" forceSelection="false" items="{/Seguimiento}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreSeguimiento}" id="item161"/></items></Select><Select xmlns="sap.m" id="selc_ejcu" selectedKey="{EjecucionVia>valueEjecuVia}" forceSelection="false" items="{/EjecucionVia}" tooltip="Aplica a iniciativas GlobalSAP"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreEjecuVia}" id="item162"/></items></Select><Select xmlns="sap.m" id="selct_Amrecp" selectedKey="{AMreceptor>valueAMreceptor}" forceSelection="false" items="{/AMreceptor}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreAMreceptor}" id="item163"/></items></Select></cells></ColumnListItem></items><columns><Column id="column12" hAlign="Center" width="290px"><header><Label text="Tipo Iniciativa" id="label12"/></header></Column><Column id="column0_1724664686677"><header><Label text="Cliente Funcional" id="text66_1724664686677"/></header></Column><Column id="column13" hAlign="Center"><header><Label text="Cliente Facturacion" id="label13"/></header></Column><Column id="column14" hAlign="Center"><header><Label text="Naturaleza" id="label14"/></header></Column><Column id="column9" hAlign="Center"><header><Label id="label9" text="Seguimiento"/></header></Column><Column id="column10" hAlign="Center"><header><Label id="label10" text="Ejecucion Via Nuevo Modelo"/></header></Column><Column id="column11" hAlign="Center"><header><Label text="AM receptor" id="label11"/></header></Column></columns></Table></items></FlexBox><FlexBox width="100%" id="box0" justifyContent="Center"><items><Table ariaLabelledBy="__label1" noDataText="Drop column list items here and columns in the area above" id="table1_1714405548914" class="sapUiTinyMargin  customHeaderColor2" width="1450px"><items><ColumnListItem type="Active" id="item1_1714405548913"><cells><CheckBox xmlns="sap.m" text=" " selected="false" select=".onCheckBoxSelectMulti" id="box_multiJuridica"/><CheckBox xmlns="sap.m" text="" selected="false" id="box_pluriAnual"/><Input xmlns="sap.m" value="2,5%" id="input_ipc" placeholder="2,5%" textAlign="End" width="6rem" tooltip="En los proyecto PluriAnuales se considera un incremento del IPC del 2,5% para Recursos Internos a partir del segundo año, para Recursos Externos el responsable de la cotizacion tiene que considerar si es necesario incrementar la tarifa en cada uno de los años sucesivos"/><Input xmlns="sap.m" value="" id="inputCambioEu" placeholder="$" textAlign="End" change="onTipoCambioLive" tooltip="En caso de querer obtener el total de la tabla oferta en $ indicar el tipo de cambio aplicado. Consultar a Control el tipo de cambio vigente en el momento de la realización de la ficha "/><DatePicker xmlns="sap.m" id="date_inico" change="onselectmethodsetinfo" displayFormat="dd-MM-yyyy" valueFormat="dd-MM-yyyy" tooltip="Inserta la Fecha inicio del proyecto"/><DatePicker xmlns="sap.m" id="date_fin" change="onselectmethodsetinfo" displayFormat="dd-MM-yyyy" valueFormat="dd-MM-yyyy" tooltip="Inserta la Fecha fin del proyecto"/></cells></ColumnListItem></items><columns><Column id="column3_1714405548913" hAlign="Center"><header><Label text="Multi Jurídica" id="label3_1714405548913"/></header></Column><Column id="column4_1714405548913" hAlign="Center"><header><Label text="PluriAnual" id="label4_1714405548913"/></header></Column><Column id="column5_1714405548914" hAlign="Center"><header><Label text="IPC Aplicable " id="label5_1714405548914"/></header></Column><Column id="column5_17144055489768686676814" hAlign="Center"><header><Label text="Cambio EUR - USD " id="label5_171687678678674405548914"/></header></Column><Column id="column0_1714405544374" hAlign="Center"><header><Label text="Fecha inicio" id="label0_1714405544374"/></header></Column><Column id="column1_1714405544375" hAlign="Center"><header><Label text="Fecha fin " id="label1_1714405544374"/></header></Column></columns></Table></items></FlexBox></content></Panel><Panel xmlns="sap.m" width="auto" expandable="true" expanded="true" id="panel2" class="sapUiTinyMarginTop"><headerToolbar><Toolbar id="toolbar2"><Title text="Planificación " id="titulo_2" class="customHeaderTitle color"/><ToolbarSpacer id="f"/><Button icon="sap-icon://settings" id="btn2"/></Toolbar></headerToolbar><content><Text text="Fechas planificacion" id="text10_1714468462964" class="sapUiSmallMarginBottom myText2"/><FlexBox width="100%" id="box0_1714468536656"><items><Table ariaLabelledBy="__label7" id="table3_1714468867118" class="table1  customHeaderColor" items="{planning>/milestones}" width="500px"><headerToolbar><Toolbar id="dhyff"><Title id="2ff" text="Fechas planificacion" level="H2" class="myText2"/></Toolbar></headerToolbar><columns><Column id="column9_1714468867115" hAlign="Center"><header><Label text="Hito/Fase" id="label9_1714468867114" tooltip="Indicar las fechas de las fases que apliquen a la iniciativa"/></header></Column><Column id="column10_1714468867116"><header><Label text="Fecha Inicio " id="label10_1714468867116" textAlign="Center"/></header></Column><Column id="column11_1714468867118"><header><Label text="Fecha FIn " id="label11_1714468867117" textAlign="Center"/></header></Column></columns><items><ColumnListItem type="Active" id="colum4"><cells><Label id="texty" text="{planning>fase}"/><DatePicker id="Fechainicio" value="{planning>fechaInicio}" change="onFechaChange" displayFormat="dd-MM-yyyy" valueFormat="yyyy-MM-dd"/><DatePicker id="fecha_fin1" value="{planning>fechaFin}" change="onFechaChange" displayFormat="dd-MM-yyyy" valueFormat="yyyy-MM-dd"/></cells></ColumnListItem></items></Table><viz:VizFrame id="idVizFrame" height="400px" width="500px" uiConfig="{ \'applicationSet\': \'fiori\' }" legendVisible="true" vizType="bar" visible="true"><viz:dataset><viz.data:FlattenedDataset id="fnor" data="{planning>/chartData}"><viz.data:dimensions><viz.data:DimensionDefinition id="suyel" name="Fase" value="{planning>fase}"/></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition id="mied" name="Duración (días)" value="{planning>duracion}"/><viz.data:MeasureDefinition id="miedLabel" name="Información" value="{planning>label}"/></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem id="juras" uid="valueAxis" type="Measure" values="Duración (días)"/><viz.feeds:FeedItem id="nopue" uid="color" type="Dimension" values="Fase"/></viz:feeds><viz:feeds><viz.feeds:FeedItem id="feedLabel" uid="tooltip" type="Measure" values="Información"/></viz:feeds></viz:VizFrame></items></FlexBox><FlexBox width="100%" id="box0_1714472600967"><items><Table noDataText="Drop column list items here and columns in the area above" id="table0_1714472906427" class="sapUiSmallMargin  customHeaderColor2 customHeaderColor1" items="{fechasModel>/fechas}" width="400px"><headerToolbar><Toolbar id="plsn" class="toolbar-con-borde"><Title id="tuilo45" text="Plan de servicio" level="H2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1714472906426"><cells><Text id="text9" text="Plan"/><Text text="{fechasModel>fechaInicioConstruccion}" id="text11"/><Text text="{fechasModel>fechaFinPruebasTQ}" id="text100052881"/></cells></ColumnListItem></items><columns><Column id="column0_1714472906426" class="sapUiSmallMarginBottom"><header><Label text="Hito/Fase" id="label0_1714472906426"/></header></Column><Column id="column1_1714472906427"><header><Label text="Fecha Inicio " id="label1_1714472906427"/></header></Column><Column id="column2_1714472906427"><header><Label text="Fecha Fin " id="label2_1714472906427"/></header></Column></columns></Table><viz:VizFrame id="idVizFrame2" height="280px" width="400px" uiConfig="{ \'applicationSet\': \'fiori\' }" legendVisible="true" vizType="bar" visible="true"><viz:dataset><viz.data:FlattenedDataset id="fnor2" data="{planning>/chartModel}"><viz.data:dimensions><viz.data:DimensionDefinition id="suyel2" name="Fase" value="{planning>fase}"/></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition id="mied2" name="Duración (días)" value="{planning>duracion}"/><viz.data:MeasureDefinition id="miedLabel2" name="Información" value="{planning>label}"/></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem id="juras2" uid="valueAxis" type="Measure" values="Duración (días)"/><viz.feeds:FeedItem id="nopue2" uid="categoryAxis" type="Dimension" values="Fase"/></viz:feeds><viz:feeds><viz.feeds:FeedItem id="feedLabel2" uid="tooltip" type="Measure" values="Información"/></viz:feeds></viz:VizFrame></items></FlexBox><FlexBox width="100%" id="box0_1721815442596"><HBox id="cambfgiDFSDFggy" justifyContent="SpaceAround" width="1900px" class="sapUiSmallMargin  sapUiLargeMarginEnd"><Table ariaLabelledBy="__xmlview0--label9_1714468867114" noDataText="Drop column list items here and columns in the area above" id="table2" width="400px" class="customHeaderColor2"><items><ColumnListItem id="item2_1723105790552"><cells><Input xmlns="sap.m" id="input4"/><Input xmlns="sap.m" id="input5"/></cells></ColumnListItem><ColumnListItem id="item1_1723105787832"><cells><Input xmlns="sap.m" id="input0_1723105930068"/><Input xmlns="sap.m" id="input3"/></cells></ColumnListItem><ColumnListItem id="item3_1723105794572"><cells><Input xmlns="sap.m" id="input1_1723105936805"/><Input xmlns="sap.m" id="input6"/></cells></ColumnListItem><ColumnListItem id="item0_1723105785244"><cells><Input xmlns="sap.m" id="input7"/><Input xmlns="sap.m" id="input8_1723105979796"/></cells></ColumnListItem><ColumnListItem type="Active" id="item0_1723105402188"><cells><Input xmlns="sap.m" id="input9_1723106964685"/><Input xmlns="sap.m" id="input10_1723106967478"/></cells></ColumnListItem></items><columns><Column id="column0_1723105402188"><header><CheckBox xmlns="sap.m" text="Condicionado" selected="false" id="box_condi" select="onSelectCheckbox" tooltip="Si es una contratación condicionada marca el checkbox e indicar los proveedores condicionados, asi como el motivo del condicionamiento en el apartado Motivo de Condicionamiento  "/></header></Column><Column id="column1_1723105402189"><header><CheckBox xmlns="sap.m" text="Proveedores" selected="false" id="box_prove" select="onSelectCheckbox" tooltip="Si se va a abrir a Licitación marca el checkbox e indicar los proveedores a ser invitados al proceso (Contratación ordinaria) "/></header></Column></columns></Table><ToolbarSpacer/><VBox id="cambio2" class="sapUiLargeMarginBegin" justifyContent="End" alignItems="End" width="100%"><HBox class="sapUiLargeMarginBottom" justifyContent="Center" alignItems="Center"><VBox class="sapUiSmallMarginEnd  sapUiLargeMarginBegin" justifyContent="Center" alignItems="Center"><Label text="Tipo Compra" class="color"/><Select id="select_tipoCom" selectedKey="{TipoCompra>valor}" change="onInputChange" width="300px" items="{/TipoCompra}" forceSelection="false"><items><core:Item key="{ID}" text="{tipo}"/></items></Select></VBox><VBox justifyContent="Center" alignItems="Center"><Label text="Motivo Condicionamiento" class="color"/><Select id="selectMotivo" width="520px" selectedKey="{MotivoCondi>valor}" change="onInputChange" items="{/MotivoCondi}" forceSelection="false"><items><core:Item key="{ID}" text="{tipo}"/></items></Select></VBox></HBox><Label text="Comentarios tipo Compra" textAlign="Center" id="titul23445" class="color" tooltip="Comentarios sobre la facturación si aplica"/><TextArea id="idComentariosFac" placeholder="Escribe aquí..." rows="2" cols="60" class="sapUiSmallMarginBottom"/><HBox class="sapUiLargeMarginBottom" justifyContent="Center" alignItems="Center"><VBox class="sapUiSmallMarginEnd  sapUiLargeMarginBegin" justifyContent="Center" alignItems="Center"><Label text="Comentarios Proveedores" textAlign="End" id="tituloCome" class="color" visible="true" tooltip="Comentarios sobre la facturación si aplica"/><TextArea xmlns="sap.m" placeholder="Escribe aquí..." id="idTextComProve" rows="2" cols="60" editable="false" visible="true"/></VBox><VBox class="sapUiSmallMarginEnd  sapUiLargeMarginBegin" justifyContent="End" alignItems="Center"><Label text="Comentarios Proyecto Interno PdV" textAlign="End" id="titulo12984" class="color" visible="true" tooltip="Comentarios sobre la facturación si aplica"/><TextArea xmlns="sap.m" placeholder="Escribe aquí..." id="idComenpVd" rows="2" cols="60" editable="false" visible="true"/></VBox></HBox></VBox></HBox></FlexBox></content></Panel><Panel xmlns="sap.m" width="auto" expandable="true" expanded="true" id="panel3" class="sapUiTinyMarginTop"><headerToolbar><Toolbar id="toolbar1_1714475868856"><Title text="Objetivos" id="titu" class="customHeaderTitle color"/><ToolbarSpacer id="ddd"/><Button icon="sap-icon://settings" id="btn_3"/></Toolbar></headerToolbar><content><FlexBox width="100%" id="box0_1714476532308" justifyContent="Center"><items><VBox id="cambfgiggy" class="sapUiSmallMargin"><Toolbar id="d5gc5c"><Title id="text9_1714476556932c" text="Objectivo y Alcance" level="H2" class="color"/></Toolbar><TextArea xmlns="sap.m" placeholder="Escribe aquí..." id="idObje" rows="4" cols="60"/></VBox></items><items><VBox id="cambio34gg4" justifyContent="End" class="sapUiSmallMargin"><Toolbar id="d5g5c"><Title id="ds2654" text="Asunciones y Restricciones" level="H2" class="color"/></Toolbar><TextArea xmlns="sap.m" placeholder="Escribe aquí..." id="idAsunyRestri" rows="4" cols="60"/></VBox></items></FlexBox><FlexBox width="100%" id="box0_1714486261986" justifyContent="Center" alignItems="Center"><items><Label text="" id="label25466427"/><Label text="" id="la3423423442342306427" class="sapUiLargeMarginTop"/><Label text="" id="frted"/><Label text="" id="3234324"/><Label text="" id="la342344232323442306427"/><Label text="" id="frt234234ed" class="sapUiLargeMarginTop"/><Table noDataText="Drop column list items here and columns in the area above" id="table_clienteFac" class="sapUiLargeMargin sapUiLargeMarginTop sapUiLargeMarginBottom  customHeaderColor" visible="false" width="600px"><headerToolbar><Toolbar id="d55"><Title id="d2654" text="Cliente Facturacion" level="H2" class="color" tooltip="Indicar las jurídicas y sus correspondientes porcentajes aplicables"/></Toolbar></headerToolbar><items><ColumnListItem id="item4"><cells><Input xmlns="sap.m" value="" id="input3_1721377434240"/><Input xmlns="sap.m" value="" id="input4_1721377439916" placeholder="%" liveChange="metodoSumar" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item2"><cells><Input xmlns="sap.m" value="" id="input5_1721377442858"/><Input xmlns="sap.m" value="" id="input6_1721377445026" placeholder="%" liveChange="metodoSumar" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item3"><cells><Input xmlns="sap.m" value="" id="input8_1721377454370"/><Input xmlns="sap.m" value="" id="input11_1721377485489" placeholder="%" liveChange="metodoSumar" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item1_1721377335122"><cells><Input xmlns="sap.m" value="" id="input7_17213749328"/><Input xmlns="sap.m" value="" id="input7_1721377449328" placeholder="%" liveChange="metodoSumar" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item0_1721377331534"><cells><Input xmlns="sap.m" value="" id="input9"/><Input xmlns="sap.m" value="" id="input10" placeholder="%" liveChange="metodoSumar" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item0_172137731534"><cells><Title xmlns="sap.m" text="Total " id="titl4498465562859635552"/><Text id="text73_172746565340567" text="" textAlign="Right"/></cells></ColumnListItem></items><columns><Column id="column0_1721311953574"><header><Label text="Jurídicas" id="label0_1721311953574"/></header></Column><Column id="column1_1721311953574"><header><Label text="Oferta" id="label1_1721311953574"/></header></Column></columns></Table><VBox id="vboxFactura" class="sapUiMediumMarginBegin" justifyContent="End" alignItems="End" width="100%"><HBox class="sapUiSmallMarginBottom" justifyContent="End" alignItems="End"><VBox class="sapUiSmallMarginEnd" justifyContent="End"><CheckBox text="Mensual " id="idCheckMensual" selected="false" visible="false" class="customCheck" tooltip="Marcar en caso de facturación mensual (Mantenimiento, servicios,... )"/></VBox><VBox justifyContent="End"><Label text="Comentarios de Facturación" textAlign="End" id="TextoCon" class="color" visible="false" tooltip="Comentarios sobre la facturación si aplica"/><TextArea xmlns="sap.m" placeholder="Escribe aquí..." id="idComentarioTipo" rows="1" cols="60" visible="false"/></VBox></HBox><Table noDataText="Drop column list items here and columns in the area above" id="table0" class="sapUiSmallMargin  customHeaderColor" width="600px" visible="false"><headerToolbar><Toolbar id="dfff"><HBox alignItems="Center"><Button icon="sap-icon://hint" type="Transparent" press="onInfoPress" tooltip="Ver más información"/><Title id="d2ff" text="Facturación Proyecto / Servicio Cliente Externo" level="H2" class="color"/></HBox></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1718882030913"><cells><DatePicker xmlns="sap.m" id="picker0" displayFormat="yyyy-MM-dd"/><Input xmlns="sap.m" value="" id="input6_1718884539620"/><Input xmlns="sap.m" value="" id="input8" liveChange="metodoSumarFac" placeholder="%" textAlign="Right"/></cells></ColumnListItem><ColumnListItem type="Active" id="ite"><cells><DatePicker xmlns="sap.m" id="picker1" displayFormat="yyyy-MM-dd"/><Input xmlns="sap.m" value="" id="input5_1718884535732"/><Input xmlns="sap.m" value="" id="input4_1718884530459" liveChange="metodoSumarFac" placeholder="%" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item0_1718884640237"><cells><DatePicker xmlns="sap.m" id="picker2" displayFormat="yyyy-MM-dd"/><Input xmlns="sap.m" value="" id="input3_1718884677565"/><Input xmlns="sap.m" value="" id="input1_1718884666668" liveChange="metodoSumarFac" placeholder="%" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item1_1718884655263"><cells><DatePicker xmlns="sap.m" id="picker3" displayFormat="yyyy-MM-dd"/><Input xmlns="sap.m" value="" id="input4_1718884681583"/><Input xmlns="sap.m" value="" id="input7_1718884705972" liveChange="metodoSumarFac" placeholder="%" textAlign="Right"/></cells></ColumnListItem><ColumnListItem type="Active" id="itefttt"><cells><DatePicker xmlns="sap.m" id="picker4" displayFormat="yyyy-MM-dd"/><Input xmlns="sap.m" value="" id="input3_1718884526227"/><Input xmlns="sap.m" value="" id="input0_1718884628484" liveChange="metodoSumarFac" placeholder="%" textAlign="Right"/></cells></ColumnListItem><ColumnListItem id="item0_17213773153499"><cells><Title xmlns="sap.m" text="Total " id="titl4498465552"/><Text xmlns="sap.m" id="text66_1728298016626"/><Text id="text73_172746565340569997" text="" class="metodoSumarFac" textAlign="Right"/></cells></ColumnListItem></items><columns><Column id="column0_1718882030913"><header><Label text="Fecha Estimada" id="label0_1718882030913" textAlign="Center"/></header></Column><Column id="column1_1718882030914"><header><Label text="Descripción Hito" id="label1_1718882030913" textAlign="Center"/></header></Column><Column id="column2_1718882030914"><header><Label text="Facturación" id="label2_1718882030914" textAlign="Center"/></header></Column></columns></Table></VBox></items></FlexBox></content></Panel></IconTabFilter><IconTabFilter id="coste52" text="Costes Mensualizados " count="" key="key1"><Panel xmlns="sap.m" width="auto" expandable="true" expanded="true" id="panel4"><headerToolbar><Toolbar id="toolbar1_1714730282344"><Title text="Comité de Oportunidades" id="titulo4" class="customHeaderTitle color"/><ToolbarSpacer id="t"/><Button icon="sap-icon://hint" type="Transparent" press="onInfoPressRecursos" tooltip="Ver más información"/></Toolbar></headerToolbar><content><Text text="Comité de Oportunidades" id="text9_1714730282344" class="sapUiSmallMargin myText2 "/><FlexBox width="100%" id="box0_1714732707799" justifyContent="Center"><items><Table noDataText="Drop column list items here and columns in the area above" id="tabla_datos" class="sapUiMediumMargin customHeaderColor2" width="1000px"><items><ColumnListItem type="Active" id="item0_1714732717715"><cells><Text text="" id="txt_ini"/><Text text="" id="txt_funcio"/><Text text="" id="txt_codig"/><Text text="" id="txt_nomPro"/><Text text="" id="txt_area"/><Text text="" id="txt_NomJefe"/><Text text="" id="txt_feIni"/><Text text="" id="txt_feFin"/></cells></ColumnListItem></items><columns><Column id="column0_1714732717716" hAlign="Center"><header><Label text="Iniciativa " id="label0_1714732717716" class=".myText2"/></header></Column><Column id="column1_1714732717716" hAlign="Center"><header><Label text="Cliente Funcional " id="label1_1714732717716" class=".myText2"/></header></Column><Column id="column2_1714732717716" hAlign="Center"><header><Label text="Codigo" id="label2_1714732717716" class=".myText2"/></header></Column></columns><columns><Column id="column0_1714732h717716" hAlign="Center"><header><Label text="Nombre Proyecto" id="label0_171r4732717716" class=".myText2"/></header></Column><Column id="column1_171473s2717716" hAlign="Center"><header><Label text="Area" id="label1_17147s32717716" class=".myText2"/></header></Column><Column id="column2_171w4732717716" hAlign="Center"><header><Label text="Jefe de Proyecto" id="label2_171sw4732717716" class=".myText2"/></header></Column></columns><columns><Column id="column0_171473717716" hAlign="Center"><header><Label text="Fecha Inicio " id="label0_171r47717716" class=".myText2"/></header></Column><Column id="column1_171473s27716" hAlign="Center"><header><Label text="Fecha Fin " id="label1_177s32717716" class=".myText2"/></header></Column></columns></Table></items></FlexBox><FlexBox width="2000px" id="box0_1714747137718" class="sapUiTinyMargin"><items><ScrollContainer id="scroll_container" width="100%" height="auto"><Text\n        text="Por favor, asegúrese de seleccionar la Vertical, el Tipo de Servicio y el Perfil/Servicio, ya que estos tres campos son obligatorios. También debe indicar el valor correspondiente en el campo Oferta (Adicionales, Formación, Soporte). En caso de no completar los campos obligatorios, no se realizará el registro y no se registrará la información ingresada"\n        class="sapUiSmallMarginBottom"\n        wrapping="true"\n        width="100%"\n    /><Table noDataText="Drop column list items here and columns in the area above" id="table_dimicFecha" width="auto" class="customHeaderColor"><headerToolbar><Toolbar id="toolbr1" class=".customTableHeader"><HBox><Title text="Recursos Interno" id="tituo1" class="customTextColor "/></HBox><ToolbarSpacer id="d45"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item1_174747617887"><cells><Select xmlns="sap.m" id="selec0" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}" tooltip="En todas las secciones Seleccionar la Vertical, Tipo de Servicio, Perfil / Servicio (Estos tres campos son obligatorios) e indicar el Concepto de Oferta (adicionales, formacion, soporte... )"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item0_1716637548"/></items></Select><Select xmlns="sap.m" id="select0_17163029264" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item"/></items></Select><Select xmlns="sap.m" id="selct3" selectedKey="{PerfilServicio>valuePerfil}" forceSelection="false" items="{/PerfilServicio}" change=".onPerfilChangeTabla1"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombrePerfil}" id="item2_1716302986"/></items></Select><Input xmlns="sap.m" id="input0_2958934"/><Text xmlns="sap.m" id="pmj2" class="boldText"/><Text xmlns="sap.m" id="text26"/><Text xmlns="sap.m" id="idtest5"/><Text xmlns="sap.m" id="txt2026r"/><Text xmlns="sap.m" id="migt5"/><Text xmlns="sap.m" id="text30"/><Text xmlns="sap.m" id="text31"/><Text xmlns="sap.m" id="text32" class="boldText"/><Text xmlns="sap.m" id="text33" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item0"><cells><Select xmlns="sap.m" id="select2_17242325367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item6"/></items></Select><Select xmlns="sap.m" id="select3" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item9"/></items></Select><Select xmlns="sap.m" id="select4" selectedKey="{PerfilServicio>valuePerfil}" forceSelection="false" items="{/PerfilServicio}" change="onPerfilChangeTabla1"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombrePerfil}" id="item11"/></items></Select><Input xmlns="sap.m" value="" id="input0_1723542368780"/><Text xmlns="sap.m" text="" id="pmj3" class="boldText"/><Text xmlns="sap.m" text="" id="text25_1723542407010"/><Text xmlns="sap.m" text="" id="text26_1723542427727"/><Text xmlns="sap.m" text="" id="text27"/><Text xmlns="sap.m" text="" id="text28"/><Text xmlns="sap.m" text="" id="text29"/><Text xmlns="sap.m" text="" id="text30_1723542463030"/><Text xmlns="sap.m" text="" id="text31_1723542471572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_1723542481599" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_1723542179949"><cells><Select xmlns="sap.m" id="select2_1723542325367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item212"/></items></Select><Select xmlns="sap.m" id="select334" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item332"/></items></Select><Select xmlns="sap.m" id="select409" selectedKey="{PerfilServicio>valuePerfil}" forceSelection="false" items="{/PerfilServicio}" change="onPerfilChangeTabla1"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombrePerfil}" id="itewm11"/></items></Select><Input xmlns="sap.m" value="" id="input0_17235428780"/><Text xmlns="sap.m" text="" id="pmj5" class="boldText"/><Text xmlns="sap.m" text="" id="text25_1723407010"/><Text xmlns="sap.m" text="" id="text26_17235427727"/><Text xmlns="sap.m" text="" id="text334d"/><Text xmlns="sap.m" text="" id="text2t56"/><Text xmlns="sap.m" text="" id="text29666"/><Text xmlns="sap.m" text="" id="text30_172463030"/><Text xmlns="sap.m" text="" id="text31_172351572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_172341599" class="boldText"/></cells></ColumnListItem><ColumnListItem id="Column234345"><cells><Select xmlns="sap.m" id="select1_1749565933756" selectedKey="{Vertical>valueVertical}"  forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item634"/></items></Select><Select xmlns="sap.m" id="select2" selectedKey="{TipoServicio>valueTipoServ}"  forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item6_1749565978362"/></items></Select><Select xmlns="sap.m" id="select0_1749566678136" selectedKey="{PerfilServicio>valuePerfil}" forceSelection="false" items="{/PerfilServicio}" change="onPerfilChangeTabla1"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombrePerfil}" id="item2_1749566678135"/></items></Select><Input xmlns="sap.m" id="input0_1749566689065"/><Text xmlns="sap.m" id="pmj23"   class="boldText"/><Text xmlns="sap.m" id="text97_1749566900765"/><Text xmlns="sap.m" id="text98_1749566908601"/><Text xmlns="sap.m"/><Text xmlns="sap.m" id="text100_1749566961856"/><Text xmlns="sap.m" id="text101_1749566974942"/><Text xmlns="sap.m" id="text102_1749567001265"/><Text xmlns="sap.m" text="" id="text103_1749567071319" class="boldText"/><Text xmlns="sap.m" text="" id="text104_1749567079346"  class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_custom_001"><cells><Select xmlns="sap.m" id="select2_custom_001" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item_custom_001"/></items></Select><Select xmlns="sap.m" id="select3_custom_001" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item_custom_002"/></items></Select><Select xmlns="sap.m" id="select4_custom_001" selectedKey="{PerfilServicio>valuePerfil}" forceSelection="false" items="{/PerfilServicio}" change="onPerfilChangeTabla1"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombrePerfil}" id="item_custom_003"/></items></Select><Input xmlns="sap.m" value="" id="input0_custom_001"/><Text xmlns="sap.m" text="" id="text1_custom_001" class="boldText"/><Text xmlns="sap.m" text="" id="text2_custom_001"/><Text xmlns="sap.m" text="" id="text3_custom_001"/><Text xmlns="sap.m" text="" id="text4_custom_001"/><Text xmlns="sap.m" text="" id="text5_custom_001"/><Text xmlns="sap.m" text="" id="text6_custom_001"/><Text xmlns="sap.m" text="" id="text7_custom_001"/><Text xmlns="sap.m" text="" id="text8_custom_001" class="boldText"/><Text xmlns="sap.m" text="" id="text9_custom_001" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column3_1714747617887" hAlign="Center"><header><Label text="Vertical" id="lbl_ver" class="color" textAlign="Center" tooltip="En todas las secciones Seleccionar la Vertical, Tipo de Servicio, Perfil / Servicio (Estos tres campos son obligatorios) e indicar el Concepto de Oferta (adicionales, formacion, soporte... )"/></header></Column><Column id="column4_1714747617887" hAlign="Center"><header><Label text="Tipo Servicios" id="lbl_tipoSe"/></header></Column><Column id="column5_1714747617888" vAlign="Bottom"><header><Label text="Perfil/Servicio" id="lbl_perSer"/></header></Column><Column id="column5_171461788" vAlign="Bottom"><header><Label text="Concepto Oferta" id="lbl_conOfer"/></header></Column><Column id="column5_17476188" vAlign="Bottom"><header><Label text="PMJ" id="lbl_pmj"/></header></Column><Column id="column5_1476188" vAlign="Bottom"><header><Label text="2025" id="anio1"/></header></Column><Column id="column5_76188" vAlign="Bottom"><header><Label text="2026" id="anio2"/></header></Column><Column id="column5_7688" vAlign="Bottom"><header><Label text="2027" id="anio3"/></header></Column><Column id="column5_768" vAlign="Bottom"><header><Label text="2028" id="anio4"/></header></Column><Column id="column5_788" vAlign="Bottom"><header><Label text="2029" id="anio5"/></header></Column><Column id="column5_76" vAlign="Bottom"><header><Label text="2030" id="anio6"/></header></Column><Column id="column5_78" vAlign="Bottom"><header><Label text="Total" id="lbl_total"/></header></Column><Column id="column5_8" vAlign="Bottom"><header><Label text="Total €" id="total_1"/></header></Column></columns></Table></ScrollContainer></items></FlexBox><FlexBox width="2000px" id="box0_1727879568594"><items><ScrollContainer id="scroll_container23" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="tableServicioInterno" width="auto" class="customHeaderColor2 "><items><ColumnListItem id="item3_1723544157941"><cells><Select xmlns="sap.m" id="select2_1325367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item456"/></items></Select><Select xmlns="sap.m" id="select165678" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item5423547174354"/></items></Select><Text xmlns="sap.m" text="" id="text27_172792"/><Input xmlns="sap.m" value="" id="input0_17235423780"/><Text xmlns="sap.m" id="pmj1" text="" class="boldText"/><Text xmlns="sap.m" text="" id="text25_172354240710"/><Text xmlns="sap.m" text="" id="text26_1723542467727"/><Text xmlns="sap.m" text="" id="text2767"/><Text xmlns="sap.m" text="" id="text2558"/><Text xmlns="sap.m" text="" id="text2559"/><Text xmlns="sap.m" text="" id="text30_17235424030"/><Text xmlns="sap.m" text="" id="text31_17251572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_172354299" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item3_9999999999999"><cells><Select xmlns="sap.m" id="select2_999001" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item999001"/></items></Select><Select xmlns="sap.m" id="select165999" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item999002"/></items></Select><Text xmlns="sap.m" text="" id="text999001"/><Input xmlns="sap.m" value="" id="input999001"/><Text xmlns="sap.m" id="pmj999001" text="" class="boldText"/><Text xmlns="sap.m" text="" id="text999002"/><Text xmlns="sap.m" text="" id="text999003"/><Text xmlns="sap.m" text="" id="text999004"/><Text xmlns="sap.m" text="" id="text999005"/><Text xmlns="sap.m" text="" id="text999006"/><Text xmlns="sap.m" text="" id="text999007"/><Text xmlns="sap.m" text="" id="text999008" class="boldText"/><Text xmlns="sap.m" text="" id="text999009" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item3_8888888888888"><cells><Select xmlns="sap.m" id="select2_888001" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item888001"/></items></Select><Select xmlns="sap.m" id="select165888" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item888002"/></items></Select><Text xmlns="sap.m" text="" id="text888001"/><Input xmlns="sap.m" value="" id="input888001"/><Text xmlns="sap.m" id="pmj888001" text="" class="boldText"/><Text xmlns="sap.m" text="" id="text888002"/><Text xmlns="sap.m" text="" id="text888003"/><Text xmlns="sap.m" text="" id="text888004"/><Text xmlns="sap.m" text="" id="text888005"/><Text xmlns="sap.m" text="" id="text888006"/><Text xmlns="sap.m" text="" id="text888007"/><Text xmlns="sap.m" text="" id="text888008" class="boldText"/><Text xmlns="sap.m" text="" id="text888009" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item3_7777777777777"><cells><Select xmlns="sap.m" id="select2_777001" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item777001"/></items></Select><Select xmlns="sap.m" id="select165777" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item777002"/></items></Select><Text xmlns="sap.m" text="" id="text777001"/><Input xmlns="sap.m" value="" id="input777001"/><Text xmlns="sap.m" id="pmj777001" text="" class="boldText"/><Text xmlns="sap.m" text="" id="text777002"/><Text xmlns="sap.m" text="" id="text777003"/><Text xmlns="sap.m" text="" id="text777004"/><Text xmlns="sap.m" text="" id="text777005"/><Text xmlns="sap.m" text="" id="text777006"/><Text xmlns="sap.m" text="" id="text777007"/><Text xmlns="sap.m" text="" id="text777008" class="boldText"/><Text xmlns="sap.m" text="" id="text777009" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column0_1727879576856"><header><Title xmlns:mvc="sap.ui.core.mvc" text="Otros Servicios" id="title43_copy" class="color"/></header></Column><Column id="column5_84" vAlign="Bottom"><header/></Column><Column id="column1_172879576857"/><Column id="column1_172787582676857"/><Column id="colum8279576857"/><Column id="column1_1728279576857"/><Column id="col8279576857"/><Column id="column729576857"/><Column id="column858279576857"/><Column id="column1_1728776857"/><Column id="column1_1727576857"/><Column id="column1_172779576857"/><Column id="column2_179576857"><header><Text xmlns="sap.m" id="text71_1729582650577"/></header></Column></columns></Table></ScrollContainer></items></FlexBox><FlexBox width="2000px" id="box0_1727879817594"><items><ScrollContainer id="scroll_container2983" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="tablGastoViajeInterno" width="auto" class="customHeaderColor2"><items><ColumnListItem id="item0_172354393445"><cells><Select xmlns="sap.m" id="select187" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item2_17235452431"/></items></Select><Select xmlns="sap.m" id="select2_172354530484" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item085"/></items></Select><Text xmlns="sap.m" text="" id="text27_17235452792"/><Input xmlns="sap.m" id="input0552587" tooltip="Codigo Proyecto"/><Text xmlns="sap.m" text="" id="pmj6" class="boldText"/><Text xmlns="sap.m" text="" id="text30_1235430075"/><Text xmlns="sap.m" text="" id="text31_172354536874"/><Text xmlns="sap.m" text="" id="text32_172545344700"/><Text xmlns="sap.m" text="" id="text33_17354532636"/><Text xmlns="sap.m" text="" id="text084"/><Text xmlns="sap.m" text="" id="tex05"/><Text xmlns="sap.m" text="" id="text3887" class="boldText"/><Text xmlns="sap.m" text="" id="text3888" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item0_new_id"><cells><Select xmlns="sap.m" id="select_vertical_new" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item_vertical_new"/></items></Select><Select xmlns="sap.m" id="select_tipo_servicio_new" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item_tipo_servicio_new"/></items></Select><Text xmlns="sap.m" text="" id="text_empty_1_new"/><Input xmlns="sap.m" id="input_codigo_proyecto_new" tooltip="Codigo Proyecto"/><Text xmlns="sap.m" text="" id="text_bold_1_new" class="boldText"/><Text xmlns="sap.m" text="" id="text_empty_2_new"/><Text xmlns="sap.m" text="" id="text_empty_3_new"/><Text xmlns="sap.m" text="" id="text_empty_4_new"/><Text xmlns="sap.m" text="" id="text_empty_5_new"/><Text xmlns="sap.m" text="" id="text_empty_6_new"/><Text xmlns="sap.m" text="" id="text_empty_7_new"/><Text xmlns="sap.m" text="" id="text_bold_2_new" class="boldText"/><Text xmlns="sap.m" text="" id="text_bold_3_new" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_1723544014499"><cells><Select xmlns="sap.m" id="select0" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item0_1723547152451"/></items></Select><Select xmlns="sap.m" id="select1" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item3_1723547174354"/></items></Select><Text xmlns="sap.m" text="" id="text31_17235471659"/><Input xmlns="sap.m" id="input855025865"/><Text xmlns="sap.m" text="" id="pmj4" class="boldText"/><Text xmlns="sap.m" text="" id="text33_1723547184800"/><Text xmlns="sap.m" text="" id="text34"/><Text xmlns="sap.m" text="" id="text35"/><Text xmlns="sap.m" text="" id="text36"/><Text xmlns="sap.m" text="" id="text37"/><Text xmlns="sap.m" text="" id="text38"/><Text xmlns="sap.m" text="" id="text39" class="boldText"/><Text xmlns="sap.m" text="" id="text40" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column0_1727879940115"><header><Title xmlns="sap.m" text="Gastos de Viaje" id="title44" class="color"/></header></Column><Column id="column1_1727879940115"/><Column id="column2_1700000115"/><Column id="column2_17278791940115"/><Column id="column1727879940115"/><Column id="column2t_1727815"/><Column id="columtn2_1727845"/><Column id="colum79940415456"/><Column id="columt8579940115"/><Column id="coluomn787994540115"/><Column id="coluomn7879945465850115"/><Column id="coluomn78799454890115"/><Column id="co6890115"/></columns></Table></ScrollContainer></items></FlexBox><FlexBox width="2000px" id="box0_1721815443829" class="sapUiTinyMargin"><items><ScrollContainer id="scroll_containe2" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="tablaConsuExter" width="auto" class="customHeaderColor sapUiMediumMarginTop"><headerToolbar><Toolbar id="toolbr3"><Title text="Consumo Externo" id="tituo5" class="customTextColor"/><ToolbarSpacer id="d4ds5"/></Toolbar></headerToolbar><items><ColumnListItem id="item1_1721815314200"><cells><Select xmlns="sap.m" id="select2_1723539571816" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item8_1723539571815"/></items></Select><Select xmlns="sap.m" id="select5" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item13"/></items></Select><Select xmlns="sap.m" id="select6" selectedKey="{PerfilConsumo>valuePerfilC}" forceSelection="false" tooltip="Seleccionar un perfil de la lista en caso de estar predefinido en caso contrario, introducir el Perfil y el PMJ aplicable al mismo en la columna PMJ" items="{/PerfilConsumo}" change="selectFuncionchange"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{nombrePerfilC}" id="item145"/></items></Select><Input xmlns="sap.m" value="" id="input0_1723560526473"/><Text xmlns="sap.m" text="" id="text481" class="boldText"/><Text xmlns="sap.m" text="" id="text492"/><Text xmlns="sap.m" text="" id="text503"/><Text xmlns="sap.m" text="" id="text514"/><Text xmlns="sap.m" text="" id="text552"/><Text xmlns="sap.m" text="" id="text536"/><Text xmlns="sap.m" text="" id="text547"/><Text xmlns="sap.m" text="" id="text558" class="boldText"/><Text xmlns="sap.m" text="" id="text560" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item0_1723561579633"><cells><Select xmlns="sap.m" id="select2_1723539576" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item8_17235395"/></items></Select><Select xmlns="sap.m" id="select2345" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item13888"/></items></Select><Select xmlns="sap.m" id="select6543" selectedKey="{PerfilConsumo>valuePerfilC}" forceSelection="false" tooltip="Seleccionar un perfil de la lista en caso de estar predefinido en caso contrario, introducir el Perfil y el PMJ aplicable al mismo en la columna PMJ" items="{/PerfilConsumo}" change="selectFuncionchange"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{nombrePerfilC}" id="item15"/></items></Select><Input xmlns="sap.m" value="" id="input0_1723560523"/><Text xmlns="sap.m" text="" id="text4898" class="boldText"/><Text xmlns="sap.m" text="" id="text49"/><Text xmlns="sap.m" text="" id="text50"/><Text xmlns="sap.m" text="" id="text51"/><Text xmlns="sap.m" text="" id="text52"/><Text xmlns="sap.m" text="" id="text53"/><Text xmlns="sap.m" text="" id="text54"/><Text xmlns="sap.m" text="" id="text55" class="boldText"/><Text xmlns="sap.m" text="" id="text56" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_1723561596033"><cells><Select xmlns="sap.m" id="select2_1723559576" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item8_17535395"/></items></Select><Select xmlns="sap.m" id="select23455" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item135888"/></items></Select><Select xmlns="sap.m" id="select65443" selectedKey="{PerfilConsumo>valuePerfilC}" tooltip="Seleccionar un perfil de la lista en caso de estar predefinido en caso contrario, introducir el Perfil y el PMJ aplicable al mismo en la columna PMJ" forceSelection="false" items="{/PerfilConsumo}" change="selectFuncionchange"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{nombrePerfilC}" id="item44415"/></items></Select><Input xmlns="sap.m" value="" id="input0_100723560523"/><Text xmlns="sap.m" text="" id="text48098" class="boldText"/><Text xmlns="sap.m" text="" id="text0049"/><Text xmlns="sap.m" text="" id="text5000"/><Text xmlns="sap.m" text="" id="text5100"/><Text xmlns="sap.m" text="" id="text5002"/><Text xmlns="sap.m" text="" id="text5003"/><Text xmlns="sap.m" text="" id="text5004"/><Text xmlns="sap.m" text="" id="text5005" class="boldText"/><Text xmlns="sap.m" text="" id="text50006" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column3_1721815314201"><header><Label text="Vertical " id="label3_1721815314201"/></header></Column><Column id="column4_1721815314201"><header><Label text="Tipo Servicio" id="label4_1721815314201"/></header></Column><Column id="column5_1721815314201"><header><Label text="Perfil Servicio " id="label5_1721815314201"/></header></Column><Column id="column1_1723559260833"><header><Label text="Concepto Oferta" id="text38_1723559260832"/></header></Column><Column id="column2_1723559272834"><header><Label text="PMJ" id="text39_1723559272834"/></header></Column><Column id="column3_1723559286551"><header><Label text="2025" id="text40_1723559286550"/></header></Column><Column id="column4_1723559297070"><header><Label text="2026" id="text41_1723559297069"/></header></Column><Column id="column5_1723559395812"><header><Label text="2027" id="text42_1723559395811"/></header></Column><Column id="column6"><header><Label text="2028" id="text43"/></header></Column><Column id="column7"><header><Label text="2029" id="text44"/></header></Column><Column id="column8"><header><Label text="2030" id="text45"/></header></Column><Column id="column9_1723560312685"><header><Label text="Total" id="txt46"/></header></Column><Column id="column10_1723560351944"><header><Label text="Total € " id="text47"/></header></Column></columns></Table></ScrollContainer></items></FlexBox><FlexBox width="2000px" id="box0_1727948724833"><items><ScrollContainer id="scroll_containe345968" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="idOtroserConsu" width="auto" class="customHeaderColor2"><items><ColumnListItem id="item1_1724397774576"><cells><Select xmlns="sap.m" id="select2_132531067" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item45106"/></items></Select><Select xmlns="sap.m" id="seect104" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item156101"/></items></Select><Text xmlns="sap.m" text="" id="text27_17279210"/><Input xmlns="sap.m" id="input0552896767" tooltip="Codigo Proyecto"/><Text xmlns="sap.m" text="" id="text29410" class="boldText"/><Text xmlns="sap.m" text="" id="text25_172354240710100"/><Text xmlns="sap.m" text="" id="text26_172354246701727"/><Text xmlns="sap.m" text="" id="text271067"/><Text xmlns="sap.m" text="" id="text250158"/><Text xmlns="sap.m" text="" id="text255109"/><Text xmlns="sap.m" text="" id="text30_1723542104030"/><Text xmlns="sap.m" text="" id="text31_1725157102" class="boldText"/><Text xmlns="sap.m" text="" id="text32_17235429910" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item2_1724397821392"><cells><Select xmlns="sap.m" id="select2_13205367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item4560"/></items></Select><Select xmlns="sap.m" id="seect40" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item17561"/></items></Select><Text xmlns="sap.m" text="" id="text27_1702792"/><Input xmlns="sap.m" id="input05" tooltip="Codigo Proyecto"/><Text xmlns="sap.m" text="" id="text2904" class="boldText"/><Text xmlns="sap.m" text="" id="text25_1723542710"/><Text xmlns="sap.m" text="" id="text26_1723542427"/><Text xmlns="sap.m" text="" id="text276007"/><Text xmlns="sap.m" text="" id="text25058"/><Text xmlns="sap.m" text="" id="text25059"/><Text xmlns="sap.m" text="" id="text30_1723540204030"/><Text xmlns="sap.m" text="" id="text31_1725015072" class="boldText"/><Text xmlns="sap.m" text="" id="text32_1702354299" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column0_1727948918033"><header><Title xmlns="sap.m" text="Otros Servicios" id="title45" class="color"/></header></Column><Column id="column1_1727948918033"/><Column id="column2_1727948918033"/><Column id="column2_172794891804533"/><Column id="column4_1727948937547"/><Column id="column5_1727948940622"/><Column id="column7_1727948946436"/><Column id="column6_1727948943601"/><Column id="column8_1727948948989"/><Column id="column11_1727948977071"/><Column id="column9_1727948952449"/><Column id="column10_1727948956089"/><Column id="column3_1727948934250"/></columns></Table></ScrollContainer></items></FlexBox><FlexBox id="box0_1727950351451" width="2000px"><items><ScrollContainer id="scroll_containe345" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="idGastoViajeConsu" width="auto" class="customHeaderColor2 "><items><ColumnListItem id="item0_1724399567964"><cells><Select xmlns="sap.m" id="select2_17325367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item4576"/></items></Select><Select xmlns="sap.m" id="seect488" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item15861"/></items></Select><Text xmlns="sap.m" text="" id="text27_1728792"/><Input xmlns="sap.m" id="input55605"/><Text xmlns="sap.m" text="" id="text2943" class="boldText"/><Text xmlns="sap.m" text="" id="text25_17235440710"/><Text xmlns="sap.m" text="" id="text26_172354246727"/><Text xmlns="sap.m" text="" id="text27677"/><Text xmlns="sap.m" text="" id="text25578"/><Text xmlns="sap.m" text="" id="text25597"/><Text xmlns="sap.m" text="" id="text30_17235424430"/><Text xmlns="sap.m" text="" id="text31_1725152572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_17235452299" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_1724399587539"><cells><Select xmlns="sap.m" id="select2_132785367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item4541476"/></items></Select><Select xmlns="sap.m" id="seect4144" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item154161"/></items></Select><Text xmlns="sap.m" text="" id="text27_17241792"/><Input xmlns="sap.m" id="input054645"/><Text xmlns="sap.m" text="" id="text2947" class="boldText"/><Text xmlns="sap.m" text="" id="text25_17235424010"/><Text xmlns="sap.m" text="" id="text26_17235467727"/><Text xmlns="sap.m" text="" id="text2767527"/><Text xmlns="sap.m" text="" id="text2418"/><Text xmlns="sap.m" text="" id="text25459"/><Text xmlns="sap.m" text="" id="text30_1777235424030"/><Text xmlns="sap.m" text="" id="text31_1724551572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_17235475299" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column0_1727950359285"><header><Title xmlns="sap.m" text="Gastos de viaje" id="title4145" class="color"/></header></Column><Column id="column7_1727950403610"><header/></Column><Column id="column4_1727950396824"/><Column id="column9_1727950408140"/><Column id="column10_1727950410822"/><Column id="column6_1727950401522"/><Column id="column12_1727950435214"/><Column id="column8_1727950405901"/><Column id="column5_1727950399522"/><Column id="column3_1727950372051"/><Column id="column378_1727950372051"/><Column id="column1_1727950359287"/><Column id="column2_1727950359288"/></columns></Table></ScrollContainer></items></FlexBox><FlexBox width="2000px" id="box0_17218154429" class="sapUiTinyMargin"><ScrollContainer id="scroll_containe3" width="100%"><Table noDataText="Drop column list items here and columns in the area above" id="tablaRecExterno" width="auto" class="customHeaderColor  sapUiMediumMarginTop"><headerToolbar><Toolbar id="toolbr03"><Title text="Recurso Externo" id="tituo500" class="customTextColor "/><ToolbarSpacer id="d4005"/></Toolbar></headerToolbar><items><ColumnListItem id="item1_17215314200"><cells><Select xmlns="sap.m" id="select2_172353950816" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item8_172353957100815"/></items></Select><Select xmlns="sap.m" id="select50" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item1023"/></items></Select><Input xmlns="sap.m" value="" id="input0_1723652356052643"/><Input xmlns="sap.m" value="" id="input0_1723560528897864314"/><Input xmlns="sap.m" value="" id="input140_17235605264314"/><Text xmlns="sap.m" text="" id="text4902"/><Text xmlns="sap.m" text="" id="text50003"/><Text xmlns="sap.m" text="" id="text5104"/><Text xmlns="sap.m" text="" id="text5502"/><Text xmlns="sap.m" text="" id="text53600"/><Text xmlns="sap.m" text="" id="text5407"/><Text xmlns="sap.m" text="" id="text55008" class="boldText"/><Text xmlns="sap.m" text="" id="text56000" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item0_172356157633"><cells><Select xmlns="sap.m" id="select2_172353956" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item8_172353595"/></items></Select><Select xmlns="sap.m" id="select23450" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item138858"/></items></Select><Input xmlns="sap.m" value="" id="inpumt0_172360523"/><Input xmlns="sap.m" value="" id="input0_172360523"/><Input xmlns="sap.m" value="" id="input0_172360145641523"/><Text xmlns="sap.m" text="" id="text480948"/><Text xmlns="sap.m" text="" id="text419"/><Text xmlns="sap.m" text="" id="text504"/><Text xmlns="sap.m" text="" id="text5144"/><Text xmlns="sap.m" text="" id="text5442"/><Text xmlns="sap.m" text="" id="text5344"/><Text xmlns="sap.m" text="" id="text5544" class="boldText"/><Text xmlns="sap.m" text="" id="text5644" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_17235616033"><cells><Select xmlns="sap.m" id="select2_17259576" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item8_1753535"/></items></Select><Select xmlns="sap.m" id="select2355" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="411477898652"/></items></Select><Input xmlns="sap.m" value="" id="input0_1007210114323"/><Input xmlns="sap.m" value="" id="input0_10072323"/><Input xmlns="sap.m" value="" id="input0_1724585865452360523"/><Text xmlns="sap.m" text="" id="text010049"/><Text xmlns="sap.m" text="" id="text15000"/><Text xmlns="sap.m" text="" id="text51004"/><Text xmlns="sap.m" text="" id="text501402"/><Text xmlns="sap.m" text="" id="text50043"/><Text xmlns="sap.m" text="" id="text54004"/><Text xmlns="sap.m" text="" id="text50405" class="boldText"/><Text xmlns="sap.m" text="" id="text500406" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column3_172221815314201"><header><Label text="Vertical " id="label3_1721815551"/></header></Column><Column id="column4_17218153140551"><header><Label text="Tipo Servicio" id="label4_1721201"/></header></Column><Column id="column5_1721814201"><header><Label text="Perfil Servicio " id="label5_172181531401"/></header></Column><Column id="column1_172356033"><header><Label text="Concepto Oferta" id="text38_17235592832"/></header></Column><Column id="column2_17235592234"><header><Label text="PMJ" id="text39_1723552834"/></header></Column><Column id="column3_172355928651"><header><Label text="2025" id="text40_17559286550"/></header></Column><Column id="column4_17235592970"><header><Label text="2026" id="text41_179297069"/></header></Column><Column id="column5_172355932"><header><Label text="2027" id="text1723559395811"/></header></Column><Column id="column66569"><header><Label text="2028" id="text4556853"/></header></Column><Column id="column79978"><header><Label text="2029" id="text58744"/></header></Column><Column id="column8879"><header><Label text="2030" id="text984798445"/></header></Column><Column id="column9_170312685"><header><Label text="Total" id="lbl_tal"/></header></Column><Column id="column10_172356035"><header><Label text="Total € " id="text565447"/></header></Column></columns></Table></ScrollContainer><items/></FlexBox><FlexBox width="2000px" id="box0_1727953252765"><items><ScrollContainer id="scroll_containe345222" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="idServiExterno" width="auto" class="customHeaderColor2"><items><ColumnListItem id="item1_17243977745476"><cells><Select xmlns="sap.m" id="select2_13253067" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item451067"/></items></Select><Select xmlns="sap.m" id="seect10204" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item15610101"/></items></Select><Text xmlns="sap.m" text="" id="text27_1727910"/><Input xmlns="sap.m" id="input05545" tooltip="Codigo Proyecto"/><Text xmlns="sap.m" id="text2910"/><Text xmlns="sap.m" id="text25_1723542407100"/><Text xmlns="sap.m" id="text26_1723246701727"/><Text xmlns="sap.m" id="text2717"/><Text xmlns="sap.m" id="text2508"/><Text xmlns="sap.m" id="text25519"/><Text xmlns="sap.m" text="" id="text30_1723542130"/><Text xmlns="sap.m" text="" id="text31_17251502" class="boldText"/><Text xmlns="sap.m" text="" id="text32_17235410" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item2_1724397822"><cells><Select xmlns="sap.m" id="select2_132054367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item45460"/></items></Select><Select xmlns="sap.m" id="seect40414" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item17404561"/></items></Select><Text xmlns="sap.m" text="" id="text27_17024792"/><Input xmlns="sap.m" id="input055287"/><Text xmlns="sap.m" id="text294004" class="boldText"/><Text xmlns="sap.m" id="text25_172340542710"/><Text xmlns="sap.m" id="text26_17235042427"/><Text xmlns="sap.m" id="text27600407"/><Text xmlns="sap.m" id="text2504058"/><Text xmlns="sap.m" id="text2505940"/><Text xmlns="sap.m" text="" id="text30_1723540200004030"/><Text xmlns="sap.m" text="" id="text31_1724050015072" class="boldText"/><Text xmlns="sap.m" text="" id="text32_170235429409" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column3_1727953316919"><header><Title xmlns="sap.m" text="Otros Servicios" id="title4445" class="color"/></header></Column><Column id="column11_1727953342801"/><Column id="column865420"/><Column id="column10_1727953340239"/><Column id="column12_1727953346004"/><Column id="column9_1727953335905"/><Column id="column7_1727953331492"/><Column id="column0_1727953262176"/><Column id="column6_1727953328949"/><Column id="column4_1727953320366"/><Column id="column5_1727953325886"/><Column id="column1_1727953262176"/><Column id="column2_1727953262177"/></columns></Table></ScrollContainer></items></FlexBox><FlexBox width="2000px" id="box1_1727953468615"><items><ScrollContainer id="scroll_containe341115" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="idGastoRecuExter" width="auto" class="customHeaderColor2"><items><ColumnListItem id="item0_172439956007964"><cells><Select xmlns="sap.m" id="select2_1725367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item455276"/></items></Select><Select xmlns="sap.m" id="seect48588" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item15868251"/></items></Select><Text xmlns="sap.m" text="" id="text27_172852792"/><Input xmlns="sap.m" id="input0555436287"/><Text xmlns="sap.m" text=" " id="text8692943"/><Text xmlns="sap.m" text=" " id="text25_17235465340710"/><Text xmlns="sap.m" text="" id="text26_172354256346727"/><Text xmlns="sap.m" text="" id="text27656377"/><Text xmlns="sap.m" text="" id="text255765638"/><Text xmlns="sap.m" text="" id="text2556397"/><Text xmlns="sap.m" text="" id="text30_17256335424430"/><Text xmlns="sap.m" text="" id="text31_1725635152572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_17235465352299" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_172439965587539"><cells><Select xmlns="sap.m" id="select2_132785365367" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item454221476"/></items></Select><Select xmlns="sap.m" id="seect415675444" selectedKey="{TipoServicio>valueTipoServ}" forceSelection="false" items="{/TipoServicio}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreTipoServ}" id="item188854161"/></items></Select><Text xmlns="sap.m" text="" id="text27_1724122792"/><Input xmlns="sap.m" id="input05528856877"/><Text xmlns="sap.m" id="text2945567"/><Text xmlns="sap.m" id="text25_1723542401550"/><Text xmlns="sap.m" id="text26_172354677545427"/><Text xmlns="sap.m" id="text2767544427"/><Text xmlns="sap.m" id="text24148"/><Text xmlns="sap.m" id="text25454744449"/><Text xmlns="sap.m" text="" id="text30_1777230"/><Text xmlns="sap.m" text="" id="text31_17245544572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_23545299" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column13_1727953477166"><header><Title xmlns="sap.m" text="Gastos de viaje" id="title400145" class="color"/></header></Column><Column id="column0_1727955320651"><header/></Column><Column id="column14_1727953477167"><header/></Column><Column id="column9_1727955353197"><header/></Column><Column id="column1_1727955323593"><header/></Column><Column id="column5_1727955342170"><header/></Column><Column id="column8_1727955350313"><header/></Column><Column id="column4_1727955339745"><header/></Column><Column id="column7_1727955348070"><header/></Column><Column id="column6_1727955344912"><header/></Column><Column id="column3_1727955329344"><header/></Column><Column id="column2_1727955326936"><header/></Column><Column id="column15_1727953477170"><header/></Column></columns></Table></ScrollContainer></items></FlexBox><FlexBox width="2000px" id="box0_17254429" class="sapUiLargeMarginTop"><ScrollContainer id="scroll_containe4" width="100%" height="auto"><Table noDataText="Drop column list items here and columns in the area above" id="tablaInfrestuctura" class="customHeaderColor" width="auto"><headerToolbar><Toolbar id="toolbr6"><Title text="Otros conceptos" id="tituo6" class="customTextColor borderedTable" width="2000px"/><ToolbarSpacer id="d4ds55"/></Toolbar></headerToolbar><items><ColumnListItem id="item0_1724421285072"><cells><Select xmlns="sap.m" id="select0_1724421301612" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item1_1724421301610"/></items></Select><Text xmlns="sap.m" text="" id="text67"/><Input xmlns="sap.m" value="" id="input0_1724422144416"/><Text xmlns="sap.m" text="" id="text69_1729172956538" class="boldText"/><Text xmlns="sap.m" text="" id="text71_1729173066345"/><Text xmlns="sap.m" text="" id="text72_1729173082482"/><Text xmlns="sap.m" text="" id="text73_1729173098474"/><Text xmlns="sap.m" text="" id="text74_1729173156735"/><Text xmlns="sap.m" text="" id="text75_1729173165560"/><Text xmlns="sap.m" text="" id="text76_1729173175636"/><Text xmlns="sap.m" text="" id="text77_1729173187036" class="boldText"/><Text xmlns="sap.m" text="" id="text78_1729173199360" class="boldText"/></cells></ColumnListItem><ColumnListItem id="item1_1724414006634"><cells><Select xmlns="sap.m" id="select1_1724421323918" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" key="{ID}" text="{NombreVertical}" id="item3_1724421323916"/></items></Select><Text xmlns="sap.m" text="" id="text6527"/><Input xmlns="sap.m" value="" id="input05528857"/><Text xmlns="sap.m" text="" id="text29467" class="boldText"/><Text xmlns="sap.m" text="" id="text25_172342450"/><Text xmlns="sap.m" text="" id="text26_172357545427"/><Text xmlns="sap.m" text="" id="text2754427"/><Text xmlns="sap.m" text="" id="text2418528"/><Text xmlns="sap.m" text="" id="text25449"/><Text xmlns="sap.m" text="" id="text30_17354030"/><Text xmlns="sap.m" text="" id="text31_4544572" class="boldText"/><Text xmlns="sap.m" text="" id="text32_171145299" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column0_1724413700663"><header><Label text="Infrestuctura/Licencias/Viajes" id="label0_1724413700663"/></header></Column><Column id="column1_1724413700664"><header><Label text="Servicios" id="label1_1724413700664"/></header></Column><Column id="column2_1724413700664"><header><Label text="Concepto Oferta" id="label2_1724413700664"/></header></Column><Column id="column3_1724414044811"><header><Label text="PMJ" id="text71"/></header></Column><Column id="column4_1724414055800"><header><Label text="2025" id="text72"/></header></Column><Column id="column5_1724414073667"><header><Label text="2026" id="text73"/></header></Column><Column id="column6_1724414086329"><header><Label text="2027" id="text74"/></header></Column><Column id="column7_1724414094602"><header><Label text="2028" id="text75"/></header></Column><Column id="column8_1724414260725"><header><Label text="2029" id="text76"/></header></Column><Column id="column9_1724414268892"><header><Label text="2030" id="text77"/></header></Column><Column id="column10_1724414276433"><header><Label text="Total" id="text78"/></header></Column><Column id="column11_1724414284497"><header><Label text="Total €" id="text79"/></header></Column></columns></Table></ScrollContainer></FlexBox><FlexBox width="2000px" id="box0_1727955568380"><items><Table xmlns="sap.m" noDataText="Drop column list items here and columns in the area above" id="tablaLicencia" width="auto" class="customHeaderColor2"><columns><Column id="column0_1727955577123"><header><Title id="title65680" text="Licencias" class="color"/></header></Column><Column id="column3_1727955658552"/><Column id="column8_1727955671439"/><Column id="column4_1727955660992"/><Column id="column10_1727955676540"/><Column id="column9_1727955674062"/><Column id="column7_1727955668700"/><Column id="column6_1727955665646"/><Column id="column5_1727955663538"><header/></Column><Column id="column1_1727955577123"/><Column id="column0_1729173455651"/><Column id="column0_1730206050097"/></columns><items><ColumnListItem id="item7"><cells><Select id="select2_1724421568007" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" id="item8_1724421568005" key="{ID}" text="{NombreVertical}"/></items></Select><Text id="text72_1724608268260"/><Input id="input1_1724608279183" value=""/><Text id="text80_1729173297936" class="boldText" text=""/><Text id="text82_1729173316711" text=""/><Text id="text83_1729173320937" text=""/><Text id="text85_1729173332094" text=""/><Text id="text84_1729173328578" text=""/><Text id="text87_1729173377445" text=""/><Text id="text86_1729173336987" text=""/><Text id="text88_1729173381996" class="boldText" text=""/><Text id="text90_1729173466313" class="boldText" text=""/></cells></ColumnListItem><ColumnListItem id="item6_1724421342842"><cells><Select id="select3_1724421586106" selectedKey="{Vertical>valueVertical}" forceSelection="false" items="{/Vertical}"><items><core:Item xmlns:core="sap.ui.core" id="item10" key="{ID}" text="{NombreVertical}"/></items></Select><Text id="text73_1724608398319"/><Input id="input2" value=""/><Text id="text69_1729177354727" class="boldText" text=""/><Text id="text67_1729177335361" text=""/><Text id="text68_1729177339385" text=""/><Text id="text70_1729177361584" text=""/><Text id="text71_1729177364955" text=""/><Text id="text72_1729177370550" text=""/><Text id="text73_1729177374604" text=""/><Text id="text74_1729177380906" class="boldText" text=""/><Text id="text75_1729177384465" class="boldText" text=""/></cells></ColumnListItem></items></Table></items></FlexBox></content></Panel></IconTabFilter><IconTabFilter id="coste652" text="Resumen Costes y Margen" count="" key="key3"><Panel xmlns="sap.m" width="auto" expandable="true" expanded="true" id="panel0"><headerToolbar><Toolbar id="toolbar1_1724662285163"><Title id="title34" text="Resumen Costes y Margen" class="customHeaderTitle color"/><ToolbarSpacer id="mu345"/><Button icon="sap-icon://settings" id="btn5643"/></Toolbar></headerToolbar><content><FlexBox width="100%" id="boxs0_1724667519593" justifyContent="Center"><items><Table noDataText="Drop column list items here and columns in the area above" id="table0_1724662386430" width="1000px" class="sapUiLargeMargin customHeaderColor2"><items><ColumnListItem type="Active" id="item0_1724662386428"><cells><Text xmlns="sap.m" id="text72_1731325324246"/><Text xmlns="sap.m" id="text73_1731325328049"/><Text id="txt_client"/><Text id="txt_cFactura"/><Text id="txt_Codi2"/><Text xmlns="sap.m" id="txt_Nombre2"/><Text xmlns="sap.m" id="txt_area2"/><Text xmlns="sap.m" id="txt_Fe_ini2"/><Text xmlns="sap.m" id="txt_Fe_fin2"/></cells></ColumnListItem></items><columns><Column id="column1_1731325278215" hAlign="Center"><header><Label text="Iniciativa" id="text71_1731325278215"/></header></Column><Column id="column0_1731325275102" hAlign="Center"><header><Label text="Naturaleza" id="text70_1731325275101"/></header></Column><Column id="column0_1724662386428" hAlign="Center"><header><Label text="Cliente Funcional" id="label0_1724662386428"/></header></Column><Column id="column1_1724662386429" hAlign="Center"><header><Label text="Cliente Facturación" id="label1_1724662386429"/></header></Column><Column id="column2_1724662386429" hAlign="Center"><header><Label text="Codigo" id="label2_1724662386429"/></header></Column><Column id="column0_1724662560509" hAlign="Center"><header><Label text="Nombre" id="text66"/></header></Column><Column id="column1_1724662575822" hAlign="Center"><header><Label text="Area" id="text67_1724662575822"/></header></Column><Column id="column2_1724662579976" hAlign="Center"><header><Label text="Fecha Inicio" id="text68"/></header></Column><Column id="column3_1724662593213" hAlign="Center"><header><Label text="Fecha Fin " id="text69"/></header></Column></columns></Table></items></FlexBox><FlexBox width="100%" id="box0_1724667519593" justifyContent="Center"><items><Table noDataText="Drop column list items here and columns in the area above" id="tablaTotalesRecur" width="1180px" class="customHeaderColor"><items><ColumnListItem id="item0_1724751005422"><cells><Label id="label0_1724751005420"/><Label width="100%" id="label0_1724751459061"/><VBox id="vboxJorTotal" width="auto"><Input xmlns="sap.m" description="Jornada de Recursos Internos" class="miInputNoEditable" editable="false" id="inputReInter" width="105%" fieldWidth="35%"/><Input xmlns="sap.m" value="" description="Jornada Consumo Externo" id="inputConsuEx" editable="false" width="105%" fieldWidth="35%"/><Input xmlns="sap.m" value="" id="inputRcurExtern" description="Jornada Recurso Externo" editable="false" width="105%" fieldWidth="35%"/><Text xmlns="sap.m" text="________________________" id="text72_1724755428618"/><Input xmlns="sap.m" value="" description="Jornadas totales" id="inputTotalJor" editable="false" width="auto" fieldWidth="35%"/></VBox><VBox id="vbox205" width="auto"><Input xmlns="sap.m" value="" description="Servicios" editable="false" fieldWidth="45%" id="inputServi1" width="105%" class="customNonEditableInput"/><Input xmlns="sap.m" value="" id="inputOtrosServi1" description="Otros Servicios" editable="false" width="auto" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="inputGastoVia1" description=" Gastos de Viaje" editable="false" width="auto" fieldWidth="45%"/><ToolbarSpacer/><ToolbarSpacer/><ToolbarSpacer class="colorCora"/><Input xmlns="sap.m" value="" id="totalRecuInter" description="Recursos Internos" editable="false" width="auto" fieldWidth="45%"/><items/></VBox><VBox width="100%" direction="Column" id="vbox0_1724756807778"><items><Input xmlns="sap.m" value="" id="inputServi2" description="Servicios" editable="false" width="105%" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="inputOtroSer2" description="Otros Servicios " editable="false" width="105%" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="inptGastoVi2" description="Gastos de viaje" editable="false" width="105%" fieldWidth="45%"/><ToolbarSpacer/><ToolbarSpacer/><ToolbarSpacer class="colorCora"/><Input xmlns="sap.m" value="" id="totalConsuExternot" description="Consumo Externo" editable="false" width="105%" fieldWidth="45%"/></items></VBox><VBox width="100%" direction="Column" id="vbox1"><items><Input xmlns="sap.m" value="" id="inputServi" description="Servicios" editable="false" width="105%" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="input10_1724757017406" description="Otros Servicios" editable="false" width="105%" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="input9_1724757015442" description="Gastis de viaje" editable="false" width="105%" fieldWidth="45%"/><ToolbarSpacer/><ToolbarSpacer/><ToolbarSpacer class="colorCora"/><Input xmlns="sap.m" value="" id="totaRecurExterno" description="Recursos Externos" editable="false" width="105%" fieldWidth="45%"/></items></VBox></cells></ColumnListItem><ColumnListItem id="item3_1724757890529"><cells><Label width="100%" id="label4_1724758163611"/><Label width="100%" id="label5_1724758166913"/><Label width="100%" id="label6"/><VBox width="100%" direction="Column" id="vbox009" class="highlight-border2"><items><Label text="Licencias" width="100%" id="label3_1728582401804" class="color "/><Label xmlns="sap.m" text="Vertical" width="100%" id="label7" class="color"/></items></VBox><Label width="100%" id="label8"/><VBox width="100%" direction="Column" id="vbox1_1724758351656"><items><Label width="100%" id="label1_1724758443032"/><Input xmlns="sap.m" value="00.0" id="totalInfraestruc" class="customInputDescription" description="Infraestructura" editable="false" width="105%" fieldWidth="50%"/><Input xmlns="sap.m" value="" id="input0_1724758359" description="Licencia" editable="false" width="105%" fieldWidth="50%"/></items></VBox></cells></ColumnListItem></items><columns><Column id="column0_1724667530564" width="100px"><header><VBox id="vox0104"><Label id="label0_1724667530564"/><Label xmlns="sap.m" text="Vertical" id="text67_17247477226710"/></VBox></header></Column><Column id="column1_1724667530564" width="100px"><header><VBox id="vox0103"><Label id="label1_1724667530564"/><Label xmlns="sap.m" text="Tipo Servicio" id="text67_177722671"/></VBox></header></Column><Column id="column2_1724667530565" width="260px" hAlign="Center"><VBox id="vox0102"><Label text="" id="text76978540"/><Label xmlns="sap.m" text="Perfil" id="text67_1724747722671"/></VBox></Column><Column id="column3_1724667573396" width="260px" hAlign="Center"><header><VBox id="sdkjffhj"><Label text="Recursos Internos " id="text69_1724667573396" tooltip="Recursos propios de Telefonica"/><Label xmlns="sap.m" text="Ezfuerzo PMJ Coste" id="text66_172474778"/></VBox></header></Column><Column id="column4_1724667576735" width="260px" hAlign="Center"><header><VBox id="vox2"><Label text="Consumo Externo" id="text70" tooltip="Uso de recursos externosa contratados"/><Label xmlns="sap.m" text="Ezfuerzo PMJ Coste" id="text67_1724747722141"/></VBox></header></Column><Column id="column5_1724667579931" width="250px" hAlign="Center"><header><VBox id="vox3"><Label text="Recurso Externo" id="text752890" tooltip="Recursos a subcontratar"/><Label xmlns="sap.m" text="Ezfuerzo PMJ Coste" id="text67_17241"/></VBox></header></Column></columns></Table></items></FlexBox><FlexBox height="100px" alignItems="Start" justifyContent="End"><HBox id="cambio344" justifyContent="End"><Table noDataText="Drop column list items here and columns in the area above" id="table1_1725623729321" width="900px" class="sapUiLargeMarginTop"><items><ColumnListItem id="item2_1725624112050"><cells><VBox width="100%" direction="Column" id="vbox3"><items><Text xmlns="sap.m" text="Valor de referencia 0%. Cualquier cambio a este dato debe ser acordado con Control" class="boldText" wrapping="false" id="text66_1728582744699"/><Text xmlns="sap.m" id="text68_1728582813602"/><Text xmlns="sap.m" id="text67_1728582763477" text="&#9;&#9;&#9;&#9;Proyecto/Servicio de Inversión - El Margen debe ser establecido al 0%" class="boldText"/></items></VBox><VBox width="100%" direction="Column" id="vbox1_1728582556153"><items><Input xmlns="sap.m" value="" id="totalSubtotal" description="Subtotal" editable="false" width="auto" fieldWidth="45%" tooltip="Incluyendo licencias e infraestructuras"/><Input xmlns="sap.m" value="3.50" id="input2_172475612" description="Coste Estructura%" editable="false" width="auto" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="input2_1724756105" description="Coste estructura" editable="false" width="auto" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="input2_17221205" description="Margen  sobre ingresos %" change=".onColumnTotales" width="auto" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="input2_1756121205" description="Margen sobre ingresos" editable="false" width="auto" fieldWidth="45%"/><Input xmlns="sap.m" value="" id="input0_1725625161348" description="Total EUR" editable="false" change=".calcularDistribucionInput"/><Input xmlns="sap.m" value="" id="input0_1725625132423424361348" description="Total USD" visible="false" editable="false" change=".calcularDistribucionInput"/></items></VBox></cells></ColumnListItem></items><columns><Column id="column3_1725623729321" width="90px"/><Column id="column4_1725623729321" width="50px"/></columns></Table></HBox></FlexBox></content></Panel></IconTabFilter><IconTabFilter id="coste6552" text="Resumen Ingresos Vs costes" count="" key="key4"><Panel xmlns="sap.m" width="auto" expandable="true" expanded="true" id="panel0_1725710852901"><headerToolbar><Toolbar id="toolbar1895695"><Title id="noest" text="Resumen Ingresos Vs costes" class="customHeaderTitle color"/><ToolbarSpacer id="sorrtsd"/><Button id="ten45547" icon="sap-icon://settings"/></Toolbar></headerToolbar><content><FlexBox width="100%" id="boxk0_1724656751149593" justifyContent="Center"><items><ToolbarSpacer/><Table noDataText="Drop column list items here and columns in the area above" id="table0_1725710862342" width="1000px" class="sapUiLargeMargin customHeaderColor2"><items><ColumnListItem type="Active" id="item0_1725710862340"><cells><Text xmlns="sap.m" id="textClitFu3"/><Text xmlns="sap.m" id="textCliFac3"/><Text xmlns="sap.m" id="textCodigo3"/><Text xmlns="sap.m" id="textNatural3"/><Text xmlns="sap.m" id="txtNombre3"/><Text xmlns="sap.m" id="txtAre3"/><Text xmlns="sap.m" id="txtFechInici3"/><Text xmlns="sap.m" id="txtFechFin3"/></cells></ColumnListItem></items><columns><Column id="column0_1725710862340"><header><Label text="Cliente Funcional" id="label0_1725710862340"/></header></Column><Column id="column1_1725710862340"><header><Label text="Cliente Facturacion" id="label1_1725710862340"/></header></Column><Column id="column3_1725711607678"><header><Label text="Codigo" id="text70_1725711607678"/></header></Column><Column id="column2_1725710862341"><header><Label text="Naturaleza" id="label2_1725710862341"/></header></Column><Column id="column5_1725711634814"><header><Label text="Nombre" id="text72_1725711634814"/></header></Column><Column id="column6_1725711637469"><header><Label text="Area" id="text73_1725711637466"/></header></Column><Column id="column4_1725711612436"><header><Label text="Fecha Inicio" id="text71_1725711612436"/></header></Column><Column id="column4_17257116124356"><header><Label text="Fecha Fin" id="text71_17257116124536"/></header></Column></columns></Table></items></FlexBox><FlexBox width="3500px" id="box0_1728586490864" justifyContent="Center"><items><HBox width="3500px" id="hbox0" class="sapUiMediumMargin"><Title text="Tipo Servicios " id="tipoSeviTabla" level="H1" class="sapUiLargeMarginTop sapUiSmallMargin customTextColor "/><Table ariaLabelledBy="__xmlview0--label017257878978979865736747" noDataText="Drop column list items here and columns in the area above" id="table0_1729085670197" class="customHeaderColor miTabla"><headerToolbar><Toolbar id="hijo567"><Title id="Gtof5d91211087" text="" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1729085670195"><cells><Text text="" id="text66_1729085670190"/><Text text="Total" id="text67_1729085670192"/></cells></ColumnListItem></items><columns><Column id="column0_1725865736987897747"><header><Label text="Vertical" id="label7362355555v47"/></header></Column><Column id="column0_17258686786745"><header><Label text="Tipo de Servicios" id="label7362355555747"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table0_1725865736748" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="dhyffespew"><Title id="2ffrito" text="" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1725865736747"><cells><Text text="0€" id="tipoS2025" class="boldText"/><Text text="0€" id="tipoS2026" class="boldText"/><Text text="0€" id="tipoS2027" class="boldText"/><Text text="0€" id="tipoS2028" class="boldText"/><Text text="0€" id="tipoS2029" class="boldText"/><Text text="0€" id="tipoSTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column0_1725865736747"><header><Label text="2025" id="label0_1725865736747"/></header></Column><Column id="column1_1725865736747"><header><Label text="2026" id="label1_1725865736747"/></header></Column><Column id="column2_17258567657412436748"><header><Label text="2027" id="label2_172586565736748"/></header></Column><Column id="column2_1725865543785736748"><header><Label text="2028" id="label2_17258656578778575836748"/></header></Column><Column id="column2_17258655437857"><header><Label text="2029" id="label2_581136748"/></header></Column><Column id="column2_17258111655437857"><header><Label text="Total" id="label2_5831111116748"/></header></Column></columns><columns/></Table><Table noDataText="Drop column list items here and columns in the area above" id="tablno2369118996" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosrtr90534"><Title id="Cada345d" text="Costes Directos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="inoso69118995"><cells><Text text="0€" id="TSCosteD2025" class="boldText"/><Text text="0€" id="TSCosteD2026" class="boldText"/><Text text="0€" id="TSCosteD2027" class="boldText"/><Text xmlns="sap.m" text="0€" id="TSCosteD2028" class="boldText"/><Text xmlns="sap.m" text="0€" id="TSCosteD2029" class="boldText"/><Text xmlns="sap.m" text="0€" id="TSCosteTotalD" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column0_1725869118995"><header><Label text="2025" id="label0_1725869118995"/></header></Column><Column id="column1_1725869118995"><header><Label text="2026" id="label1_1725869118995"/></header></Column><Column id="column2_1725869118996"><header><Label text="2027" id="label2_1725869118996"/></header></Column><Column id="column4_1725869241987"><header><Label text="2028" id="text70_1725869241986"/></header></Column><Column id="column5_1725869248024"><header><Label text="2029" id="text71_1725869248024"/></header></Column><Column id="column7_1725869396990"><header><Label text="Total" id="texfemini5869396988"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table_costes_indirectos_001" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbar_costes_indirectos_001"><Title id="title_costes_indirectos_001" text="Costes Indirectos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item_costes_indirectos_001"><cells><Text text="0€" id="costes_indirectos2025" class="boldText"/><Text text="0€" id="costes_indirectos2026" class="boldText"/><Text text="0€" id="costes_indirectos2027" class="boldText"/><Text text="0€" id="costes_indirectos2028" class="boldText"/><Text text="0€" id="costes_indirectos2029" class="boldText"/><Text text="0€" id="costes_indirectosTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column_2024_costes_indirectos_001"><header><Label text="2025" id="label_2024_costes_indirectos_001"/></header></Column><Column id="column_2025_costes_indirectos_001"><header><Label text="2026" id="text_2025_costes_indirectos_001"/></header></Column><Column id="column_2026_costes_indirectos_001"><header><Label text="2027" id="label_2026_costes_indirectos_001"/></header></Column><Column id="column_2027_costes_indirectos_001"><header><Label text="2028" id="label_2027_costes_indirectos_001"/></header></Column><Column id="column_2028_costes_indirectos_001"><header><Label text="2029" id="text_2028_costes_indirectos_001"/></header></Column><Column id="column_total_costes_indirectos_001"><header><Label text="Total" id="text_total_costes_indirectos_001"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table_costes_totales_001" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbar_costes_totales_001"><Title id="title_costes_totales_001" text="Costes Totales" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item_costes_totales_001"><cells><Text text="0€" id="TSCosteT2025" class="boldText"/><Text text="0€" id="TSCosteT2026" class="boldText"/><Text text="0€" id="TSCosteT2027" class="boldText"/><Text text="0€" id="TSCosteT2028" class="boldText"/><Text text="0€" id="TSCosteT2029" class="boldText"/><Text text="0€" id="TSCosteTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column_1_costes_totales_001"><header><Label text="2025" id="label_header_1_costes_totales_001"/></header></Column><Column id="column_2_costes_totales_001"><header><Label text="2026" id="label_header_2_costes_totales_001"/></header></Column><Column id="column_3_costes_totales_001"><header><Label text="2027" id="label_header_3_costes_totales_001"/></header></Column><Column id="column_4_costes_totales_001"><header><Label text="2028" id="text_header_1_costes_totales_001"/></header></Column><Column id="column_5_costes_totales_001"><header><Label text="2029" id="text_header_2_costes_totales_001"/></header></Column><Column id="column_6_costes_totales_02344"><header><Label text="Total" id="tbier2531584"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table_beneficio_001" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbar_beneficio_001"><Title id="title_beneficio_001" text="Beneficio" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item_beneficio_001"><cells><Text text="0€" id="TSBeneficio2025" class="boldText"/><Text text="0€" id="TSBeneficio2026" class="boldText"/><Text text="0€" id="TSBeneficio2027" class="boldText"/><Text text="0€" id="TSBeneficio2028" class="boldText"/><Text text="0€" id="TSBeneficio2029" class="boldText"/><Text text="0€" id="TSBeneficioTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column_1_beneficio_001"><header><Label text="2025" id="label_header_1_beneficio_001"/></header></Column><Column id="column_2_beneficio_001"><header><Label text="2026" id="label_header_2_beneficio_001"/></header></Column><Column id="column_3_beneficio_001"><header><Label text="2027" id="label_header_3_beneficio_001"/></header></Column><Column id="column_4_beneficio_001"><header><Label text="2028" id="text_header_1_beneficio_001"/></header></Column><Column id="column_5_beneficio_001"><header><Label text="2029" id="text_header_2_beneficio_001"/></header></Column><Column id="column_7_beneficio_001"><header><Label text="Total" id="text_header_4_beneficio_001"/></header></Column></columns></Table><items/></HBox></items></FlexBox><FlexBox width="3500px" id="box0_1724693"><items><HBox width="3500px" id="hbox12" class="sapUiMediumMargin"><Title text="Concepto Oferta" id="fser5d" level="H1" class="sapUiLargeMarginTop sapUiSmallMargin  customTextColor"/><Table noDataText="Drop column list items here and columns in the area above" id="table0_1729086577084" class="customHeaderColor  miTabla"><headerToolbar><Toolbar id="Nosr3119"><Title id="Cad5d98714" text="" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1729086577083"><cells><Text text="" id="text66_1729086577078"/><Text text="Total" id="text67_1729086577080"/></cells></ColumnListItem></items><columns><Column id="column0_1729086577083"><header><Label text="Vertical" id="label0_1729086577083"/></header></Column><Column id="column1_1729086577084"><header><Label text="Concepto Oferta" id="label1_1729086577084"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table26748" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Tdew"><Title id="terro" text="Ingresos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0747"><cells><Text text="0€" id="costeOfer2025" class="boldText"/><Text text="0€" id="costeOfer2026" class="boldText"/><Text text="0€" id="costeOfer2027" class="boldText"/><Text text="0€" id="costeOfer2028" class="boldText"/><Text text="0€" id="costeOfer2029" class="boldText"/><Text text="0€" id="costeOferTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="columj6747"><header><Label text="2025" id="label736747ffui"/></header></Column><Column id="column19378953"><header><Label text="2026" id="labehot747cas"/></header></Column><Column id="column29075"><header><Label text="2027" id="lai9834748"/></header></Column><Column id="column2874839"><header><Label text="2028" id="labe45t736748"/></header></Column><Column id="column2_5736748"><header><Label text="2029" id="label234"/></header></Column><Column id="column34_7"><header><Label text="Total" id="label2_48"/></header></Column></columns><columns/></Table><Table noDataText="Drop column list items here and columns in the area above" id="table0_1725869118996" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosrtr34"><Title id="Cada34345d" text="Costes Directos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1725869118995"><cells><Text text="0€" id="COcostesDirec2025" class="boldText"/><Text text="0€" id="COcostesDirec2026" class="boldText"/><Text text="0€" id="COcostesDirec2027" class="boldText"/><Text xmlns="sap.m" text="0€" id="COcostesDirec2028" class="boldText"/><Text xmlns="sap.m" text="0€" id="COcostesDirec2029" class="boldText"/><Text xmlns="sap.m" text="0€" id="COcostesDirecTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="colum23975"><header><Label text="2025" id="labhn34875"/></header></Column><Column id="column15938745"><header><Label text="2026" id="ei344"/></header></Column><Column id="COlun3983409580"><header><Label text="2027" id="labno996"/></header></Column><Column id="column4_mue41987"><header><Label text="2028" id="texnofa"/></header></Column><Column id="columnNof4"><header><Label text="2029" id="teHid4"/></header></Column><Column id="column7_fgdf0"><header><Label text="Total" id="text73_1725869396988"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table5" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosrtr349"><Title id="Cada345099" text="Costes Indirectos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item5_1725870548700"><cells><Text text="0€" id="COIndirectos2025" class="boldText"/><Text text="0€" id="COIndirectos2026" class="boldText"/><Text text="0€" id="COIndirectos2027" class="boldText"/><Text xmlns="sap.m" text="0€" id="COIndirectos2028" class="boldText"/><Text xmlns="sap.m" text="0€" id="COIndirectos2029" class="boldText"/><Text xmlns="sap.m" text="0€" id="COIndirectosTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column15"><header><Label text="2025" id="label15"/></header></Column><Column id="column20"><header><Label text="2026" id="text86"/></header></Column><Column id="column16"><header><Label text="2027" id="label16"/></header></Column><Column id="column17"><header><Label text="2028" id="label17"/></header></Column><Column id="column19"><header><Label text="2029" id="text85"/></header></Column><Column id="column21"><header><Label text="Total" id="text87"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table0_1725872132591" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosrtr390849"><Title id="Cada399" text="Costes Totales" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1725872132589"><cells><Text text="0€" id="COtotales2025"/><Text text="0€" id="COtotales2026"/><Text text="0€" id="COtotales2027"/><Text xmlns="sap.m" text="0€" id="COtotales2028"/><Text xmlns="sap.m" text="0€" id="COtotales2029"/><Text xmlns="sap.m" text="0€" id="COtotalesTotal"/></cells></ColumnListItem></items><columns><Column id="column0_1725872132589"><header><Label text="2025" id="label0_1725872132589"/></header></Column><Column id="column1_1725872132590"><header><Label text="2026" id="label1_1725872132589"/></header></Column><Column id="column2_1725872132590"><header><Label text="2027" id="label2_1725872132590"/></header></Column><Column id="column0_1725872519687"><header><Text text="2028" id="text66_1725872519687"/></header></Column><Column id="column1_1725872525562"><header><Text text="2029" id="text67_1725872525562"/></header></Column><Column id="column3_1725872545887"><header><Text text="Total" id="text69_1725872545887"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table0_1725872637623" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosrtr342333"><Title id="Cada345d3223233" text="Beneficio" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item0_1725872637618"><cells><Text text="0€" id="CObenificios2025" class="boldText"/><Text text="0€" id="CObenificios2026" class="boldText"/><Text text="0€" id="CObenificios2027" class="boldText"/><Text xmlns="sap.m" text="0€" id="CObenificios2028" class="boldText"/><Text xmlns="sap.m" text="0€" id="CObenificios2029" class="boldText"/><Text xmlns="sap.m" text="0€" id="CObenificioTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column4_1725872637618"><header><Label text="2025" id="label0_1725872637618"/></header></Column><Column id="column5_1725872637619"><header><Label text="2026" id="label1_1725872637618"/></header></Column><Column id="column6_1725872637622"><header><Label text="2027" id="label2_1725872637619"/></header></Column><Column id="column7_1725872695703"><header><Text text="2028" id="text81_1725872695702"/></header></Column><Column id="column8_1725872707112"><header><Text text="2029" id="text82_1725872707110"/></header></Column><Column id="column10_1725872728491"><header><Text text="Total" id="text84_1725872728490"/></header></Column></columns></Table><items/></HBox></items></FlexBox><FlexBox width="3500px" id="box0_1728589342943"><items><HBox width="100%" id="hbox0_1728589351058" class="sapUiMediumMargin"><Title text="Tipo Recursos  " id="title_concepto_oferta_002" level="H1" class="sapUiLargeMarginTop sapUiSmallMargin customTextColor "/><Table noDataText="Drop column list items here and columns in the area above" id="table1_1729086584619" class="customHeaderColor miTabla"><headerToolbar><Toolbar id="No1sr311489"><Title id="Ca111d5d987" text="" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item1_1729086584618"><cells><Text text="" id="text69_1729086584611"/><Text text="Total" id="text_total_0012" width="100px"/></cells></ColumnListItem></items><columns><Column id="column3_1729086584618"><header><Label text="Tipo de Recursos" id="label3_1729086584618"/></header></Column><Column id="column4_1729086584619"><header><Label text="Vertical" id="label4_1729086584619"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table_ingresos_002" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbar_ingresos_002"><Title id="title_ingresos_002" text="Ingresos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item_ingresos_002"><cells><Text text="0€" id="TRecurso2025" class="boldText"/><Text text="0€" id="TRecurso2026" class="boldText"/><Text text="0€" id="TRecurso2027" class="boldText"/><Text text="0" id="TRecurso2028" class="boldText"/><Text text="0" id="TRecurso2029" class="boldText"/><Text text="0" id="TRecursoTotal" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column_2024_002"><header><Label text="2025" id="label_2024_002"/></header></Column><Column id="column_2025_002"><header><Label text="2026" id="label_2025_002"/></header></Column><Column id="column_2026_002"><header><Label text="2027" id="label_2026_002"/></header></Column><Column id="column_2027_002"><header><Label text="2028" id="label_2027_002"/></header></Column><Column id="column_2028_002"><header><Label text="2029" id="label_2028_002"/></header></Column><Column id="column_total_002"><header><Label text="Total" id="label_total_002"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table_costes_directos_002" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbar_costes_directos_002"><Title id="title_costes_directos_002" text="Costes Directos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="item_costes_directos_002"><cells><Text text="0€" id="text_costes_1_002" class="boldText"/><Text text="0€" id="text_costes_2_002" class="boldText"/><Text text="0" id="text_costes_3_002" class="boldText"/><Text xmlns="sap.m" text="0" id="text_costes_4_002" class="boldText"/><Text xmlns="sap.m" text="0" id="text_costes_5_002" class="boldText"/><Text xmlns="sap.m" text="0" id="text_costes_6_002" class="boldText"/><Text xmlns="sap.m" text="0€" id="text_costes_7_002" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column_2024_costes_002"><header><Label text="2025" id="label_2024_costes_002"/></header></Column><Column id="column_2025_costes_002"><header><Label text="2026" id="label_2025_costes_002"/></header></Column><Column id="column_2026_costes_002"><header><Label text="2027" id="label_2026_costes_002"/></header></Column><Column id="column_2027_costes_002"><header><Label text="2028" id="text_2027_costes_002"/></header></Column><Column id="column_2028_costes_002"><header><Label text="2029" id="text_2028_costes_002"/></header></Column><Column id="column_total_costes_002"><header><Label text="Total" id="text_total_costes_002"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="tableCostesIndirectos" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbarCostesIndirectos"><Title id="titleCostesIndirectos" text="Costes Indirectos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="itemCostesIndirectos_1"><cells><Text text="0" id="cell2024_1" class="boldText"/><Text text="0" id="cell2025_1" class="boldText"/><Text text="0" id="cell2026_1" class="boldText"/><Text xmlns="sap.m" text="0" id="cell2027_1" class="boldText"/><Text xmlns="sap.m" text="0" id="cell2028_1" class="boldText"/><Text xmlns="sap.m" text="0" id="cell2029_1" class="boldText"/><Text xmlns="sap.m" text="0" id="cellTotal_1" class="boldText"/></cells></ColumnListItem></items><columns><Column id="column2024"><header><Label text="2025" id="label2024"/></header></Column><Column id="column2025"><header><Label text="2026" id="label2025"/></header></Column><Column id="column2026"><header><Label text="2027" id="label2026"/></header></Column><Column id="column2027"><header><Label text="2028" id="label2027"/></header></Column><Column id="column2028"><header><Label text="2029" id="label2028"/></header></Column><Column id="columnTotal"><header><Label text="Total" id="labelTotal"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="tableCostesTotales" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbarCostesTotales"><Title id="titleCostesTotales" text="Costes Totales" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="itemCostesTotales_1"><cells><Text text="0€" id="cellCostesTotales_1_1" class="boldText"/><Text text="0€" id="cellCostesTotales_1_2" class="boldText"/><Text text="0€" id="cellCostesTotales_1_3" class="boldText"/><Text xmlns="sap.m" text="0€" id="cellCostesTotales_1_4" class="boldText"/><Text xmlns="sap.m" text="0€" id="cellCostesTotales_1_5" class="boldText"/><Text xmlns="sap.m" text="0€" id="cellCostesTotales_1_6" class="boldText"/><Text xmlns="sap.m" text="4€" id="cellCostesTotales_1_7" class="boldText"/></cells></ColumnListItem></items><columns><Column id="columnCostesTotales_1"><header><Label text="2025" id="labelCostesTotales_1"/></header></Column><Column id="columnCostesTotales_2"><header><Label text="2026" id="labelCostesTotales_2"/></header></Column><Column id="columnCostesTotales_3"><header><Label text="2027" id="labelCostesTotales_3"/></header></Column><Column id="columnCostesTotales_4"><header><Label text="2028" id="headerCostesTotales_4"/></header></Column><Column id="columnCostesTotales_5"><header><Label text="2029" id="headerCostesTotales_5"/></header></Column><Column id="columnCostesTotales_7"><header><Label text="Total" id="headerCostesTotales_7"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="tableBeneficio" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="toolbarBeneficio"><Title id="titleBeneficio" text="Beneficio" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem type="Active" id="itemBeneficio_1"><cells><Text text="0€" id="cellBeneficio_1_1" class="boldText"/><Text text="0€" id="mygret" class="boldText"/><Text text="0€" id="cellBeneficio_1_3" class="boldText"/><Text xmlns="sap.m" text="0€" id="cellBeneficio_1_4" class="boldText"/><Text xmlns="sap.m" text="0€" id="cellBeneficio_1_5" class="boldText"/><Text xmlns="sap.m" text="0€" id="cellBeneficio_1_6" class="boldText"/><Text xmlns="sap.m" text="0€" id="cellBeneficio_1_7" class="boldText"/></cells></ColumnListItem></items><columns><Column id="columnBeneficio_1"><header><Label text="2025" id="labelBeneficio_1"/></header></Column><Column id="columnBeneficio_2"><header><Label text="2026" id="labelBeneficio_2"/></header></Column><Column id="columnBeneficio_3"><header><Label text="2027" id="labelBeneficio_3"/></header></Column><Column id="columnBeneficio_4"><header><Label text="2028" id="headerBeneficio_4"/></header></Column><Column id="columnBeneficio_5"><header><Label text="2029" id="headerBeneficio_5"/></header></Column><Column id="columnBeneficio_7"><header><Label text="Total" id="headerBeneficio_7"/></header></Column></columns></Table><items/></HBox></items></FlexBox><FlexBox width="3500px" id="box0_1729073186524"><items><HBox width="100%" id="hbox056" class="sapUiMediumMargin"><Title text="Tipo Recursos " id="IdTable234" level="H1" class="sapUiLargeMarginTop customTextColor sapUiSmallMargin  "/><Table noDataText="Drop column list items here and columns in the area above" id="table1_1729073599724" class="customHeaderColor miTabla"><headerToolbar><Toolbar id="toolbar45895"><Title id="iDfied15" text="" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem id="item2_1729074265728"><cells><Text xmlns="sap.m" text="Recursos Internos" id="text73_1729077037975"/></cells></ColumnListItem><ColumnListItem id="item3_1729074273283"><cells><Text xmlns="sap.m" text="Consumo Externo" id="text75_1729077061209"/></cells></ColumnListItem><ColumnListItem id="item4_1729074282333"><cells><Text xmlns="sap.m" text="Recursos Externos" id="text74_1729077053691"/><Label text="" id="label4_1729074282332"/><Text xmlns="sap.m" text="" id="text70_1729076946491"/></cells></ColumnListItem><ColumnListItem id="item5"><cells><Text xmlns="sap.m" text="Licencias" id="text76_1729077076684"/></cells></ColumnListItem><ColumnListItem id="item1_1729074262615"><cells><Text xmlns="sap.m" text="Infraestructuras" id="text69_1729076897627"/></cells></ColumnListItem><ColumnListItem id="item0_1729074233586"><cells><Text xmlns="sap.m" text="Gastos de Viaje      Internos  " id="text77_1729077103765"/></cells></ColumnListItem><ColumnListItem type="Active" id="item1_1729073599723"><cells><Text text="TOTAL" id="text69_1729073599717"/></cells></ColumnListItem></items><columns><Column id="column3_1729073599723"><header><Label text="Tipo Recursos" id="label3_1729073599723"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table4_1729073623135" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="tootble23"><Title id="IdIgre" text="Ingresos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem id="item6_1729074302362"><cells><Text xmlns="sap.m" id="text79_1729077206637" text="0€"/><Text xmlns="sap.m" text="0€" id="text80_1729077210224"/><Text xmlns="sap.m" text="0€" id="text78_1729077203649"/><Text xmlns="sap.m" text="0€" id="text81_1729077213529"/><Text xmlns="sap.m" text="0€" id="text83_1729077301855"/><Text xmlns="sap.m" text="0€" id="text84_1729077305255"/><Text xmlns="sap.m" text="0€" id="text92"/></cells></ColumnListItem><ColumnListItem id="item10_1729074317086"><cells><Text xmlns="sap.m" text="0€" id="text85_1729077313319"/><Text xmlns="sap.m" text="0€" id="text86_1729077317194"/><Text xmlns="sap.m" text="0€" id="text87_1729077320933"/><Text xmlns="sap.m" text="0€" id="text89_1729077335929"/><Text xmlns="sap.m" text="0€" id="text90_1729077339030"/><Text xmlns="sap.m" text="0€" id="text91_1729077343635"/><Text xmlns="sap.m" text="0€" id="text93"/></cells></ColumnListItem><ColumnListItem id="item14"><cells><Text xmlns="sap.m" text="0€" id="text94"/><Text xmlns="sap.m" text="0€" id="text95"/><Text xmlns="sap.m" text="0€" id="text96"/><Text xmlns="sap.m" text="0€" id="text97"/><Text xmlns="sap.m" text="0€" id="text98"/><Text xmlns="sap.m" text="0€" id="text99"/><Text xmlns="sap.m" text="0€" id="text100"/></cells></ColumnListItem><ColumnListItem id="item18"><cells><Text xmlns="sap.m" text="0€" id="text101"/><Text xmlns="sap.m" text="0€" id="text102"/><Text xmlns="sap.m" text="0€" id="text106"/><Text xmlns="sap.m" text="0€" id="text107"/><Text xmlns="sap.m" text="0€" id="text105"/><Text xmlns="sap.m" text="0€" id="text103"/><Text xmlns="sap.m" text="0€" id="text104"/></cells></ColumnListItem><ColumnListItem id="item22"><cells><Text xmlns="sap.m" text="0€" id="text108"/><Text xmlns="sap.m" text="0€" id="text109"/><Text xmlns="sap.m" text="0€" id="text110"/><Text xmlns="sap.m" text="0€" id="text111"/><Text xmlns="sap.m" text="0€" id="text112"/><Text xmlns="sap.m" text="0€" id="text113"/><Text xmlns="sap.m" text="0€" id="text114"/></cells></ColumnListItem><ColumnListItem id="item26"><cells><Text xmlns="sap.m" text="0€" id="text116"/><Text xmlns="sap.m" text="0€" id="text117"/><Text xmlns="sap.m" text="0€" id="text118"/><Text xmlns="sap.m" text="0€" id="text119"/><Text xmlns="sap.m" text="0€" id="text120"/><Text xmlns="sap.m" text="0€" id="text121"/><Text xmlns="sap.m" text="0€" id="text122"/></cells></ColumnListItem><ColumnListItem type="Active" id="item4_1729073623133"><cells><Text text="0€" id="text79_1729073623129"/><Text text="0€" id="text80_1729073623133"/><Text xmlns="sap.m" text="0€" id="text123"/><Text xmlns="sap.m" text="0€" id="text124"/><Text xmlns="sap.m" text="0€" id="text125"/><Text xmlns="sap.m" text="0€" id="text126"/><Text xmlns="sap.m" text="0€" id="text127"/></cells></ColumnListItem></items><columns><Column id="column12_1729073623134"><header><Label text="2025" id="label12_1729073623134"/></header></Column><Column id="column13_1729073623134"><header><Label text="2026" id="label13_1729073623134"/></header></Column><Column id="column2_1729074839765"><header><Label text="2027" id="text68_1729074839764"/></header></Column><Column id="column14_1729073623135"><header><Label text="2028" id="label14_1729073623135"/></header></Column><Column id="column3_1729074842441"><header><Label text="2029" id="text69_1729074842441"/></header></Column><Column id="column0_1729074833782"><header><Label text="Total" id="text66_1729074833782"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table3" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosr34"><Title id="Cad5d" text="Costes Directos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem id="item7_1729074305217"><cells><Text xmlns="sap.m" text="0€" id="text129CosteDi"/><Text xmlns="sap.m" text="0€" id="text128CosteDi"/><Text xmlns="sap.m" text="0€" id="text140CosteDi"/><Text xmlns="sap.m" text="0€" id="text141CosteDi"/><Text xmlns="sap.m" text="0€" id="text143CosteDi"/><Text xmlns="sap.m" text="0€" id="text70_1729079344938"/></cells></ColumnListItem><ColumnListItem id="item11_1729074320189"><cells><Text xmlns="sap.m" text="0€" id="text130CosteDi"/><Text xmlns="sap.m" text="0€" id="text134CosteDi"/><Text xmlns="sap.m" text="0€" id="text135"/><Text xmlns="sap.m" text="0€" id="text136"/><Text xmlns="sap.m" text="0€" id="text138"/><Text xmlns="sap.m" text="0€" id="text137"/></cells></ColumnListItem><ColumnListItem id="item15_1729074334146"><cells><Text xmlns="sap.m" text="0€" id="text400"/><Text xmlns="sap.m" text="0€" id="text401"/><Text xmlns="sap.m" text="0€" id="text402"/><Text xmlns="sap.m" text="0€" id="text403"/><Text xmlns="sap.m" text="0€" id="text404"/><Text xmlns="sap.m" text="0€" id="text405"/></cells></ColumnListItem><ColumnListItem id="item19"><cells><Text xmlns="sap.m" text="0€" id="text133"/><Text xmlns="sap.m" text="0€" id="text1341"/><Text xmlns="sap.m" text="0€" id="text1352"/><Text xmlns="sap.m" text="0€" id="text1363"/><Text xmlns="sap.m" text="0€" id="text1374"/><Text xmlns="sap.m" text="0€" id="text1385"/></cells></ColumnListItem><ColumnListItem id="item27"><cells><Text xmlns="sap.m" text="0€" id="text200"/><Text xmlns="sap.m" text="0€" id="text201"/><Text xmlns="sap.m" text="0€" id="text202"/><Text xmlns="sap.m" text="0€" id="text203"/><Text xmlns="sap.m" text="0€" id="text204"/><Text xmlns="sap.m" text="0€" id="text205"/></cells></ColumnListItem><ColumnListItem id="item23"><cells><Text xmlns="sap.m" text="0€" id="text210"/><Text xmlns="sap.m" text="0€" id="text211"/><Text xmlns="sap.m" text="0€" id="text212"/><Text xmlns="sap.m" text="0€" id="text213"/><Text xmlns="sap.m" text="0€" id="text214"/><Text xmlns="sap.m" text="0€" id="text215"/></cells></ColumnListItem><ColumnListItem type="Active" id="item3_1729073618736"><cells><Text text="0€" id="text75_1729073618729"/><Text text="0€" id="text76_1729073618732"/><Text text="0€" id="text77_1729073618734"/><Text xmlns="sap.m" text="0€" id="text300"/><Text xmlns="sap.m" text="0€" id="text301"/><Text xmlns="sap.m" text="0€" id="text302"/><Text xmlns="sap.m" text="0€" id="text303"/><Text xmlns="sap.m" text="0€" id="text304"/></cells></ColumnListItem></items><columns><Column id="column9_1729073618737"><header><Label text="2025" id="label9_1729073618737"/></header></Column><Column id="column1_1729074996661"><header><Text text="2026" id="text67_1729074996661"/></header></Column><Column id="column3_1729075003015"><header><Text text="2027" id="text69_1729075003015"/></header></Column><Column id="column10_1729073618738"><header><Label text="2028" id="label10_1729073618737"/></header></Column><Column id="column11_1729073618738"><header><Label text="2029" id="label11_1729073618738"/></header></Column><Column id="column0_17290749900002732"><header><Label text="Total" id="text66_1729074992700031"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table0_1729074461791" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosr34111"><Title id="Cad5d111" text="Costes Indirectos" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem id="item31"><cells><Text xmlns="sap.m" text="0€" id="text500"/><Text xmlns="sap.m" text="0€" id="text501"/><Text xmlns="sap.m" text="0€" id="text502"/><Text xmlns="sap.m" text="0€" id="text5403"/><Text xmlns="sap.m" text="0€" id="text50544"/><Text xmlns="sap.m" text="0€" id="text505"/><Text xmlns="sap.m" text="0€" id="text506"/></cells></ColumnListItem><ColumnListItem id="item32"><cells><Text xmlns="sap.m" text="0€" id="text510"/><Text xmlns="sap.m" text="0€" id="text511"/><Text xmlns="sap.m" text="0€" id="text512"/><Text xmlns="sap.m" text="0€" id="text513"/><Text xmlns="sap.m" text="0€" id="text5174"/><Text xmlns="sap.m" text="0€" id="text515"/><Text xmlns="sap.m" text="0€" id="text516"/></cells></ColumnListItem><ColumnListItem id="item33"><cells><Text xmlns="sap.m" text="0€" id="text520"/><Text xmlns="sap.m" text="0€" id="text521"/><Text xmlns="sap.m" text="0€" id="text522"/><Text xmlns="sap.m" text="0€" id="text523"/><Text xmlns="sap.m" text="0€" id="text524"/><Text xmlns="sap.m" text="0€" id="text525"/><Text xmlns="sap.m" text="0€" id="text526"/></cells></ColumnListItem><ColumnListItem id="item34"><cells><Text xmlns="sap.m" text="0€" id="text530"/><Text xmlns="sap.m" text="0€" id="text531"/><Text xmlns="sap.m" text="0€" id="text532"/><Text xmlns="sap.m" text="0€" id="text533"/><Text xmlns="sap.m" text="0€" id="text534"/><Text xmlns="sap.m" text="0€" id="text535"/><Text xmlns="sap.m" text="0€" id="text5368"/></cells></ColumnListItem><ColumnListItem id="item35"><cells><Text xmlns="sap.m" text="0€" id="text540"/><Text xmlns="sap.m" text="0€" id="text541"/><Text xmlns="sap.m" text="0€" id="text542"/><Text xmlns="sap.m" text="0€" id="text543"/><Text xmlns="sap.m" text="0€" id="text544"/><Text xmlns="sap.m" text="0€" id="text545"/><Text xmlns="sap.m" text="0€" id="text546"/></cells></ColumnListItem><ColumnListItem id="item36"><cells><Text xmlns="sap.m" text="0€" id="text550"/><Text xmlns="sap.m" text="0€" id="text551"/><Text xmlns="sap.m" text="0€" id="text5522"/><Text xmlns="sap.m" text="0€" id="text553"/><Text xmlns="sap.m" text="0€" id="text554"/><Text xmlns="sap.m" text="0€" id="text555"/><Text xmlns="sap.m" text="0€" id="text556"/></cells></ColumnListItem><ColumnListItem type="Active" id="item30"><cells><Text text="0€" id="text67_1729074461761"/><Text xmlns="sap.m" text="0€" id="text67_1729079322040"/><Text text="0€" id="text68_1729074461766"/><Text text="0€" id="text69_1729074461769"/><Text xmlns="sap.m" text="0€" id="text66_1729079318344"/><Text xmlns="sap.m" text="0€" id="text68_1729079325388"/><Text xmlns="sap.m" text="0€" id="text69_1729079329715"/></cells></ColumnListItem></items><columns><Column id="column1_1729074461780"><header><Label text="2025" id="label30"/></header></Column><Column id="column4_1729075007390"><header><Label text="2026" id="text70_1729075007390"/></header></Column><Column id="column2_1729074461785"><header><Label text="2027" id="label31"/></header></Column><Column id="column9_1729075024383"><header><Label text="2028" id="text75_1729075024382"/></header></Column><Column id="column6_1729075013996"><header><Label text="2029" id="text72_1729075013994"/></header></Column><Column id="column7_1729075017235"><header><Label text="Total" id="text73_1729075017233"/></header></Column></columns></Table><Table ariaLabelledBy="__label5" noDataText="Drop column list items here and columns in the area above" id="table2_1729073605332" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosr3489"><Title id="Cad5d987" text="Costes Totales" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem id="item8_1729074308323"><cells><Text xmlns="sap.m" text="0€" id="textA1_1"/><Text xmlns="sap.m" text="0€" id="textA2_1"/><Text xmlns="sap.m" text="0€" id="textA3_1"/><Text xmlns="sap.m" text="0€" id="textA4_1"/><Text xmlns="sap.m" text="0€" id="textA5_1"/><Text xmlns="sap.m" text="0€" id="textA6_1"/><Text xmlns="sap.m" text="0€" id="textA7_1"/></cells></ColumnListItem><ColumnListItem id="item12"><cells><Text xmlns="sap.m" text="0€" id="textB1_2"/><Text xmlns="sap.m" text="0€" id="textB2_2"/><Text xmlns="sap.m" text="0€" id="textB3_2"/><Text xmlns="sap.m" text="0€" id="textB4_2"/><Text xmlns="sap.m" text="0€" id="textB5_2"/><Text xmlns="sap.m" text="0€" id="textB6_2"/><Text xmlns="sap.m" text="0€" id="textB7_2"/></cells></ColumnListItem><ColumnListItem id="item16"><cells><Text xmlns="sap.m" text="0€" id="textC1_3"/><Text xmlns="sap.m" text="0€" id="textC2_3"/><Text xmlns="sap.m" text="0€" id="textC3_3"/><Text xmlns="sap.m" text="0€" id="textC4_3"/><Text xmlns="sap.m" text="0€" id="textC5_3"/><Text xmlns="sap.m" text="0€" id="textC6_3"/><Text xmlns="sap.m" text="0€" id="textC7_3"/></cells></ColumnListItem><ColumnListItem id="item24"><cells><Text xmlns="sap.m" text="0€" id="textD1_4"/><Text xmlns="sap.m" text="0€" id="textD2_4"/><Text xmlns="sap.m" text="0€" id="textD3_4"/><Text xmlns="sap.m" text="0€" id="textD4_4"/><Text xmlns="sap.m" text="0€" id="textD5_4"/><Text xmlns="sap.m" text="0€" id="textD6_4"/><Text xmlns="sap.m" text="0€" id="textD7_4"/></cells></ColumnListItem><ColumnListItem id="item20"><cells><Text xmlns="sap.m" text="0€" id="textE1_5"/><Text xmlns="sap.m" text="0€" id="textE2_5"/><Text xmlns="sap.m" text="0€" id="textE3_5"/><Text xmlns="sap.m" text="0€" id="textE4_5"/><Text xmlns="sap.m" text="0€" id="textE5_5"/><Text xmlns="sap.m" text="0€" id="textE6_5"/><Text xmlns="sap.m" text="0€" id="textE7_5"/></cells></ColumnListItem><ColumnListItem id="item28"><cells><Text xmlns="sap.m" text="0€" id="textF1_6"/><Text xmlns="sap.m" text="0€" id="textF2_6"/><Text xmlns="sap.m" text="0€" id="textF3_6"/><Text xmlns="sap.m" text="0€" id="textF4_6"/><Text xmlns="sap.m" text="0€" id="textF5_6"/><Text xmlns="sap.m" text="0€" id="textF6_6"/><Text xmlns="sap.m" text="0€" id="textF7_6"/></cells></ColumnListItem><ColumnListItem id="item40"><cells><Text xmlns="sap.m" text="0€" id="textG1_7"/><Text xmlns="sap.m" text="0€" id="textG2_7"/><Text xmlns="sap.m" text="0€" id="textG3_7"/><Text xmlns="sap.m" text="0€" id="textG4_7"/><Text xmlns="sap.m" text="0€" id="textG5_7"/><Text xmlns="sap.m" text="0€" id="textG6_7"/><Text xmlns="sap.m" text="0€" id="textG7_7"/></cells></ColumnListItem></items><columns><Column id="column6_1729073605321"><header><Label text="2025" id="label6_1729073605320"/></header></Column><Column id="column13_1729075038211"><header><Label text="2026" id="text79_1729075038210"/></header></Column><Column id="column7_1729073605326"><header><Label text="2027" id="label7_1729073605324"/></header></Column><Column id="column10_1729075028735"><header><Label text="2028" id="text76_1729075028735"/></header></Column><Column id="column12_1729075034494"><header><Label text="2029" id="text78_1729075034493"/></header></Column><Column id="column8_1729073605331"><header><Label text="Total" id="label8_1729073605330"/></header></Column></columns></Table><Table noDataText="Drop column list items here and columns in the area above" id="table0_1729073521933" class="customHeaderColor2 miTabla"><headerToolbar><Toolbar id="Nosr77773489"><Title id="Cad5d9777787" text="Beneficios" level="H2" class="myText2"/></Toolbar></headerToolbar><items><ColumnListItem id="item41"><cells><Text xmlns="sap.m" text="0€" id="text1_41"/><Text xmlns="sap.m" text="0€" id="text2_41"/><Text xmlns="sap.m" text="0€" id="text3_41"/><Text xmlns="sap.m" text="0€" id="text4_41"/><Text xmlns="sap.m" text="0€" id="text5_41"/><Text xmlns="sap.m" text="0€" id="text6_41"/><Text xmlns="sap.m" text="0€" id="text7_41"/></cells></ColumnListItem><ColumnListItem id="item42"><cells><Text xmlns="sap.m" text="0€" id="text1_42"/><Text xmlns="sap.m" text="0€" id="text2_42"/><Text xmlns="sap.m" text="0€" id="text3_42"/><Text xmlns="sap.m" text="0€" id="text4_42"/><Text xmlns="sap.m" text="0€" id="text5_42"/><Text xmlns="sap.m" text="0€" id="text6_42"/><Text xmlns="sap.m" text="0€" id="text7_42"/></cells></ColumnListItem><ColumnListItem id="item43"><cells><Text xmlns="sap.m" text="0€" id="text1_43"/><Text xmlns="sap.m" text="0€" id="text2_43"/><Text xmlns="sap.m" text="0€" id="text3_43"/><Text xmlns="sap.m" text="0€" id="text4_43"/><Text xmlns="sap.m" text="0€" id="text5_43"/><Text xmlns="sap.m" text="0€" id="text6_43"/><Text xmlns="sap.m" text="0€" id="text7_43"/></cells></ColumnListItem><ColumnListItem id="item44"><cells><Text xmlns="sap.m" text="0€" id="text1_44"/><Text xmlns="sap.m" text="0€" id="text2_44"/><Text xmlns="sap.m" text="0€" id="text3_44"/><Text xmlns="sap.m" text="0€" id="text4_44"/><Text xmlns="sap.m" text="0€" id="text5_44"/><Text xmlns="sap.m" text="0€" id="text6_44"/><Text xmlns="sap.m" text="0€" id="text7_44"/></cells></ColumnListItem><ColumnListItem id="item45"><cells><Text xmlns="sap.m" text="0€" id="text1_45"/><Text xmlns="sap.m" text="0€" id="text2_45"/><Text xmlns="sap.m" text="0€" id="text3_45"/><Text xmlns="sap.m" text="0€" id="text4_45"/><Text xmlns="sap.m" text="0€" id="text5_45"/><Text xmlns="sap.m" text="0€" id="text6_45"/><Text xmlns="sap.m" text="0€" id="text7_45"/></cells></ColumnListItem><ColumnListItem id="item46"><cells><Text xmlns="sap.m" text="0€" id="text1_46"/><Text xmlns="sap.m" text="0€" id="text2_46"/><Text xmlns="sap.m" text="0€" id="text3_46"/><Text xmlns="sap.m" text="0€" id="text4_46"/><Text xmlns="sap.m" text="0€" id="text5_46"/><Text xmlns="sap.m" text="0€" id="text6_46"/><Text xmlns="sap.m" text="0€" id="text7_46"/></cells></ColumnListItem><ColumnListItem id="item47"><cells><Text xmlns="sap.m" text="0€" id="text1_47"/><Text xmlns="sap.m" text="0€" id="text2_47"/><Text xmlns="sap.m" text="0€" id="text3_47"/><Text xmlns="sap.m" text="0€" id="text4_47"/><Text xmlns="sap.m" text="0€" id="text5_47"/><Text xmlns="sap.m" text="0€" id="text6_47"/><Text xmlns="sap.m" text="0€" id="text7_47"/></cells></ColumnListItem></items><columns><Column id="column0_1729073521931"><header><Label text="2025" id="label0_1729073521931"/></header></Column><Column id="column15_1729075046507"><header><Label text="2026" id="text81_1729075046504"/></header></Column><Column id="column1_1729073521932"><header><Label text="2027" id="label1_1729073521931"/></header></Column><Column id="column14_1729075043557"><header><Label text="2028" id="text80_1729075043557"/></header></Column><Column id="column16_1729075049600"><header><Label text="2029" id="text82_1729075049597"/></header></Column><Column id="column17_1729075052988"><header><Label text="Total" id="text83_1729075052984"/></header></Column></columns></Table></HBox></items></FlexBox></content></Panel></IconTabFilter><IconTabFilter id="idHojaAdi" text="Anexos" count="" key="key5"><content><Panel xmlns="sap.m" width="auto" expandable="true" expanded="true" id="panel0_1729068544153"><headerToolbar><Toolbar id="toolbar651"><Title id="idtitleAnexo" text="Informacion Adicional" class="color"/><ToolbarSpacer id="idToan"/><Button id="idbtnSefitn1" icon="sap-icon://settings"/></Toolbar></headerToolbar><content><Text text="Información adicional considerada relevante a presentar junto con la solicitud del proyecto" class="**`sapUiTinyMargin sapUiSmallMarginBottom" id="text66_1729068544144"/><FlexBox\n    width="100%"\n    justifyContent="Center"\n    direction="Column"\n    class="sapUiSmallMargin"\n    wrap="Wrap"\n    xmlns="sap.m"\n    xmlns:u="sap.ui.unified"\n    xmlns:core="sap.ui.core"><VBox width="80%" class="sapUiSmallMargin"     justifyContent="Center" ><Title text="📝 Información adicional" level="H5" class="sapUiSmallMarginBottom" /><TextArea\n            id="area0"\n            width="100%"\n            rows="8"\n            placeholder="Añade comentarios o detalles relevantes..."\n            growing="true"\n            growingMaxLines="10"\n        /></VBox><VBox width="50%" class="sapUiSmallMarginTop sapUiSmallMargin" justifyContent="Center"><Title text="📁 Subir archivos" level="H5" class="sapUiSmallMarginBottom" /><Text\n        text="Puedes subir archivos hasta 20 MB. Tipos permitidos: PDF, Word, Excel, Imágenes (JPG, PNG), Texto."\n        class="sapUiSmallMarginBottom"\n        wrapping="true"\n        width="100%"\n    /><u:FileUploader\n        id="fileUploader"\n        change=".onFileSelected"\n        uploadOnChange="false"\n        sameFilenameAllowed="true"\n        width="450px"\n        name="myFileUpload"\n        tooltip="Selecciona un archivo para subir"\n       \n    /><List\n        id="fileList"\n        width="100%"\n        items="{archivosModel>/archivos}"\n        noDataText="No hay archivos subidos aún"\n    ><items><StandardListItem\n                title="{archivosModel>nombre}"\n                description="{archivosModel>tipoMime}"\n                type="Active"\n                press=".onVerArchivo"\n            /></items></List></VBox></FlexBox></content></Panel></content></IconTabFilter></items></IconTabBar></headerContainer></ObjectHeader></items></VBox></content><footer><OverflowToolbar id="toolba1"><ToolbarSpacer id="25432"/><OverflowToolbarButton tooltip="Delete" text="Delete" id="idDelete" icon="sap-icon://delete" press="onClearFields"/><Button id="btnAceptar" type="Accept" text="Enviar" press="onSave"/><Button id="btnBorrado" type="Emphasized" text="Guardar" press="onBorrador"/></OverflowToolbar></footer></Page></App><Popover id="infoPopoverRecursos" placement="Bottom" title="Información sobre Recursos" contentWidth="auto"><VBox class="sapUiSmallMargin"><Text text="• En todas las secciones Seleccionar la Vertical, Tipo de Servicio, Perfil / Servicio (Estos tres campos son obligatorios) e indicar el Concepto de Oferta (adicionales, formacion, soporte... ) "/><Text text="• Recursos Externos: Seleccionar la Vertical, Tipo de Servicio, Perfil / Servicio  y PMJ(Estos tres campos son obligatorios) e indicar el Concepto de Oferta (adicionales, formacion, soporte... ) "/></VBox></Popover><Popover id="infoPopoverGeneral" placement="Bottom" title="Información General" contentWidth="450px"><VBox class="sapUiSmallMargin"><Text text="📌 Información útil para completar los campos:" class="sapUiSmallMarginBottom"/><Text text="• Código Proyecto: " class="boldText"/><Text text=" Codigo Proyecto asignado por la PMO"/><Text text="• Área: " class="boldText"/><Text text=" Área Funcional de la DAGC que pertenece a la solicitud"/><Text text="• Jefe de Proyecto: " class="boldText"/><Text text=" Nombre del Jefe de Proyecto preasignado: si el jefe de proyecto no está disponible en el desplegable, escribir"/><Text text="• Multijurídica: " class="boldText"/><Text text=" En caso de que exista más de una jurídica, marca el checkbox de \'Multijurídica\' y completa la información en la tabla Cliente Facturación / Jurídicas. En caso contrario, indica la jurídica en Cliente Facturación."/><Text text="• Ejecución Via: " class="boldText"/><Text text=" Aplica a iniciativas GlobalSAP"/><Text text="• Naturaleza: " class="boldText"/><Text text=" OPEX o CAPEX"/><Text text="• IPC Aplicable: " class="boldText"/><Text text=" En los proyecto PluriAnuales se considera un incremento del IPC del 2,5% para Recursos Internos a partir del segundo año, para Recursos Externos el responsable de la cotizacion tiene que considerar si es necesario incrementar la tarifa en cada uno de los años sucesivos"/><Text text="• Cambio EUR - USD: " class="boldText"/><Text text=" En caso de querer obtener el total de la tabla oferta en $ indicar el tipo de cambio aplicado. Consultar a Control el tipo de cambio vigente en el momento de la realización de la ficha "/><Text text="• Fecha inicio del Proyecto: " class="boldText"/><Text text=" Insertar la fecha de inicio del proyecto"/><Text text="• Fecha fin del Proyecto: " class="boldText"/><Text text=" Insertar la fecha de fin del proyecto"/></VBox></Popover><Popover id="infoPopover" placement="Bottom" title="Información sobre Facturación" contentWidth="auto"><FormattedText htmlText="• Para proyectos cortos (hasta 3 meses): se debe facturar el 30% a la firma y el 70% a la entrega.&lt;br&gt;         • Para proyectos de mayor duración: se debe facturar por hitos, comenzando con un hito de facturación a la firma de la propuesta.&lt;br&gt;         • Se debe intentar minimizar el working capital en la planificación de facturación.&lt;br&gt;         • En caso de dudas, consultar con Finanzas."/></Popover></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
